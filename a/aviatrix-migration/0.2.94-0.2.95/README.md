# Comparing `tmp/aviatrix_migration-0.2.94-cp39-cp39-win_amd64.whl.zip` & `tmp/aviatrix_migration-0.2.95-cp39-cp39-macosx_11_0_arm64.whl.zip`

## zipinfo {}

```diff
@@ -1,192 +1,192 @@
-Zip file size: 4179059 bytes, number of entries: 190
--rw-rw-rw-  2.0 fat      370 b- defN 24-May-09 00:36 aviatrix_migration-0.2.94.data/data/migration/discovery_migration/aws_requirements.txt
--rw-rw-rw-  2.0 fat     2512 b- defN 24-May-09 00:36 aviatrix_migration-0.2.94.data/data/migration/discovery_migration/azure_requirements.txt
--rw-rw-rw-  2.0 fat      589 b- defN 24-May-09 00:36 aviatrix_migration-0.2.94.data/data/migration/discovery_migration/aws/combined/account.template
--rw-rw-rw-  2.0 fat      496 b- defN 24-May-09 00:36 aviatrix_migration-0.2.94.data/data/migration/discovery_migration/aws/combined/dmhelp.sh
--rw-rw-rw-  2.0 fat      296 b- defN 24-May-09 00:36 aviatrix_migration-0.2.94.data/data/migration/discovery_migration/aws/combined/main-rtb-associations.tf
--rw-rw-rw-  2.0 fat     1059 b- defN 24-May-09 00:36 aviatrix_migration-0.2.94.data/data/migration/discovery_migration/aws/combined/main.tf
--rw-rw-rw-  2.0 fat     4759 b- defN 24-May-09 00:36 aviatrix_migration-0.2.94.data/data/migration/discovery_migration/aws/combined/providers.tf
--rw-rw-rw-  2.0 fat      338 b- defN 24-May-09 00:36 aviatrix_migration-0.2.94.data/data/migration/discovery_migration/aws/combined/subnet-associations.tf
--rw-rw-rw-  2.0 fat       78 b- defN 24-May-09 00:36 aviatrix_migration-0.2.94.data/data/migration/discovery_migration/aws/combined/terraform-import-associations.sh
--rw-rw-rw-  2.0 fat      645 b- defN 24-May-09 00:36 aviatrix_migration-0.2.94.data/data/migration/discovery_migration/aws/combined/terraform.tfvars
--rw-rw-rw-  2.0 fat      518 b- defN 24-May-09 00:36 aviatrix_migration-0.2.94.data/data/migration/discovery_migration/aws/combined/variables.tf
--rw-rw-rw-  2.0 fat      604 b- defN 24-May-09 00:36 aviatrix_migration-0.2.94.data/data/migration/discovery_migration/aws/combined/versions.tf
--rw-rw-rw-  2.0 fat     3524 b- defN 24-May-09 00:36 aviatrix_migration-0.2.94.data/data/migration/discovery_migration/aws/combined/vpc_id.tf
--rw-rw-rw-  2.0 fat    20897 b- defN 24-May-09 00:36 aviatrix_migration-0.2.94.data/data/migration/discovery_migration/aws/combined/module_aws_brownfield_spoke_vpc/main.tf
--rw-rw-rw-  2.0 fat     3672 b- defN 24-May-09 00:36 aviatrix_migration-0.2.94.data/data/migration/discovery_migration/aws/combined/module_aws_brownfield_spoke_vpc/variables.tf
--rw-rw-rw-  2.0 fat      275 b- defN 24-May-09 00:36 aviatrix_migration-0.2.94.data/data/migration/discovery_migration/aws/combined/module_aws_brownfield_spoke_vpc/versions.tf
--rw-rw-rw-  2.0 fat      584 b- defN 24-May-09 00:36 aviatrix_migration-0.2.94.data/data/migration/discovery_migration/aws/generic/account.template
--rw-rw-rw-  2.0 fat      143 b- defN 24-May-09 00:36 aviatrix_migration-0.2.94.data/data/migration/discovery_migration/aws/generic/main-rtb-associations.tf
--rw-rw-rw-  2.0 fat      741 b- defN 24-May-09 00:36 aviatrix_migration-0.2.94.data/data/migration/discovery_migration/aws/generic/main.tf
--rw-rw-rw-  2.0 fat     4395 b- defN 24-May-09 00:36 aviatrix_migration-0.2.94.data/data/migration/discovery_migration/aws/generic/providers.tf
--rw-rw-rw-  2.0 fat      144 b- defN 24-May-09 00:36 aviatrix_migration-0.2.94.data/data/migration/discovery_migration/aws/generic/subnet-associations.tf
--rw-rw-rw-  2.0 fat       78 b- defN 24-May-09 00:36 aviatrix_migration-0.2.94.data/data/migration/discovery_migration/aws/generic/terraform-import-associations.sh
--rw-rw-rw-  2.0 fat      293 b- defN 24-May-09 00:36 aviatrix_migration-0.2.94.data/data/migration/discovery_migration/aws/generic/terraform.tfvars
--rw-rw-rw-  2.0 fat      242 b- defN 24-May-09 00:36 aviatrix_migration-0.2.94.data/data/migration/discovery_migration/aws/generic/variables.tf
--rw-rw-rw-  2.0 fat      275 b- defN 24-May-09 00:36 aviatrix_migration-0.2.94.data/data/migration/discovery_migration/aws/generic/versions.tf
--rw-rw-rw-  2.0 fat      846 b- defN 24-May-09 00:36 aviatrix_migration-0.2.94.data/data/migration/discovery_migration/aws/generic/vpc_id.tf
--rw-rw-rw-  2.0 fat     5854 b- defN 24-May-09 00:36 aviatrix_migration-0.2.94.data/data/migration/discovery_migration/aws/generic/module_aws_brownfield_spoke_vpc/main-vpc-name.tf
--rw-rw-rw-  2.0 fat     2160 b- defN 24-May-09 00:36 aviatrix_migration-0.2.94.data/data/migration/discovery_migration/aws/generic/module_aws_brownfield_spoke_vpc/variables.tf
--rw-rw-rw-  2.0 fat      285 b- defN 24-May-09 00:36 aviatrix_migration-0.2.94.data/data/migration/discovery_migration/aws/generic/module_aws_brownfield_spoke_vpc/versions.tf
--rw-rw-rw-  2.0 fat      584 b- defN 24-May-09 00:36 aviatrix_migration-0.2.94.data/data/migration/discovery_migration/aws/nameless/account.template
--rw-rw-rw-  2.0 fat      143 b- defN 24-May-09 00:36 aviatrix_migration-0.2.94.data/data/migration/discovery_migration/aws/nameless/main-rtb-associations.tf
--rw-rw-rw-  2.0 fat      719 b- defN 24-May-09 00:36 aviatrix_migration-0.2.94.data/data/migration/discovery_migration/aws/nameless/main.tf
--rw-rw-rw-  2.0 fat     4395 b- defN 24-May-09 00:36 aviatrix_migration-0.2.94.data/data/migration/discovery_migration/aws/nameless/providers.tf
--rw-rw-rw-  2.0 fat      144 b- defN 24-May-09 00:36 aviatrix_migration-0.2.94.data/data/migration/discovery_migration/aws/nameless/subnet-associations.tf
--rw-rw-rw-  2.0 fat       78 b- defN 24-May-09 00:36 aviatrix_migration-0.2.94.data/data/migration/discovery_migration/aws/nameless/terraform-import-associations.sh
--rw-rw-rw-  2.0 fat      295 b- defN 24-May-09 00:36 aviatrix_migration-0.2.94.data/data/migration/discovery_migration/aws/nameless/terraform.tfvars
--rw-rw-rw-  2.0 fat      246 b- defN 24-May-09 00:36 aviatrix_migration-0.2.94.data/data/migration/discovery_migration/aws/nameless/variables.tf
--rw-rw-rw-  2.0 fat      275 b- defN 24-May-09 00:36 aviatrix_migration-0.2.94.data/data/migration/discovery_migration/aws/nameless/versions.tf
--rw-rw-rw-  2.0 fat      587 b- defN 24-May-09 00:36 aviatrix_migration-0.2.94.data/data/migration/discovery_migration/aws/nameless/vpc_id.tf
--rw-rw-rw-  2.0 fat     5953 b- defN 24-May-09 00:36 aviatrix_migration-0.2.94.data/data/migration/discovery_migration/aws/nameless/module_aws_brownfield_spoke_vpc/main-vpc-name.tf
--rw-rw-rw-  2.0 fat     5637 b- defN 24-May-09 00:36 aviatrix_migration-0.2.94.data/data/migration/discovery_migration/aws/nameless/module_aws_brownfield_spoke_vpc/main.tf
--rw-rw-rw-  2.0 fat      702 b- defN 24-May-09 00:36 aviatrix_migration-0.2.94.data/data/migration/discovery_migration/aws/nameless/module_aws_brownfield_spoke_vpc/variables.tf
--rw-rw-rw-  2.0 fat      275 b- defN 24-May-09 00:36 aviatrix_migration-0.2.94.data/data/migration/discovery_migration/aws/nameless/module_aws_brownfield_spoke_vpc/versions.tf
--rw-rw-rw-  2.0 fat     4953 b- defN 24-May-09 00:36 aviatrix_migration-0.2.94.data/data/migration/discovery_migration/azure-module-example/main.tf
--rw-rw-rw-  2.0 fat      183 b- defN 24-May-09 00:36 aviatrix_migration-0.2.94.data/data/migration/discovery_migration/azure-module-example/providers.tf
--rw-rw-rw-  2.0 fat      722 b- defN 24-May-09 00:36 aviatrix_migration-0.2.94.data/data/migration/discovery_migration/azure-module-example/terraform.tfvars
--rw-rw-rw-  2.0 fat      537 b- defN 24-May-09 00:36 aviatrix_migration-0.2.94.data/data/migration/discovery_migration/azure-module-example/variables.tf
--rw-rw-rw-  2.0 fat      174 b- defN 24-May-09 00:36 aviatrix_migration-0.2.94.data/data/migration/discovery_migration/azure-module-example/versions.tf
--rw-rw-rw-  2.0 fat      577 b- defN 24-May-09 00:36 aviatrix_migration-0.2.94.data/data/migration/discovery_migration/azure_data/input.json
--rw-rw-rw-  2.0 fat      297 b- defN 24-May-09 00:36 aviatrix_migration-0.2.94.data/data/migration/discovery_migration/vnet_template/account.tf
--rw-rw-rw-  2.0 fat     1435 b- defN 24-May-09 00:36 aviatrix_migration-0.2.94.data/data/migration/discovery_migration/vnet_template/env.tf
--rw-rw-rw-  2.0 fat      641 b- defN 24-May-09 00:36 aviatrix_migration-0.2.94.data/data/migration/discovery_migration/vnet_template/main.tf
--rw-rw-rw-  2.0 fat     1414 b- defN 24-May-09 00:36 aviatrix_migration-0.2.94.data/data/migration/discovery_migration/vnet_template/providers.tf
--rw-rw-rw-  2.0 fat      172 b- defN 24-May-09 00:36 aviatrix_migration-0.2.94.data/data/migration/discovery_migration/vnet_template/subnet-associations.tf
--rw-rw-rw-  2.0 fat       73 b- defN 24-May-09 00:36 aviatrix_migration-0.2.94.data/data/migration/discovery_migration/vnet_template/terraform-import-associations.sh
--rw-rw-rw-  2.0 fat      368 b- defN 24-May-09 00:36 aviatrix_migration-0.2.94.data/data/migration/discovery_migration/vnet_template/terraform.tfvars
--rw-rw-rw-  2.0 fat      350 b- defN 24-May-09 00:36 aviatrix_migration-0.2.94.data/data/migration/discovery_migration/vnet_template/variables.tf
--rw-rw-rw-  2.0 fat      620 b- defN 24-May-09 00:36 aviatrix_migration-0.2.94.data/data/migration/discovery_migration/vnet_template/versions.tf
--rw-rw-rw-  2.0 fat     2112 b- defN 24-May-09 00:36 aviatrix_migration-0.2.94.data/data/migration/discovery_migration/vnet_template/vnet_id.tf
--rw-rw-rw-  2.0 fat     9585 b- defN 24-May-09 00:36 aviatrix_migration-0.2.94.data/data/migration/discovery_migration/vnet_template/module_arm_brownfield_spoke_vnet/main.tf
--rw-rw-rw-  2.0 fat     2050 b- defN 24-May-09 00:36 aviatrix_migration-0.2.94.data/data/migration/discovery_migration/vnet_template/module_arm_brownfield_spoke_vnet/variables.tf
--rw-rw-rw-  2.0 fat      258 b- defN 24-May-09 00:36 aviatrix_migration-0.2.94.data/data/migration/discovery_migration/vnet_template/module_arm_brownfield_spoke_vnet/versions.tf
--rw-rw-rw-  2.0 fat      584 b- defN 24-May-09 00:36 aviatrix_migration-0.2.94.data/data/migration/discovery_migration/vpc_template/account.template
--rw-rw-rw-  2.0 fat      143 b- defN 24-May-09 00:36 aviatrix_migration-0.2.94.data/data/migration/discovery_migration/vpc_template/main-rtb-associations.tf
--rw-rw-rw-  2.0 fat      719 b- defN 24-May-09 00:36 aviatrix_migration-0.2.94.data/data/migration/discovery_migration/vpc_template/main.tf
--rw-rw-rw-  2.0 fat     4395 b- defN 24-May-09 00:36 aviatrix_migration-0.2.94.data/data/migration/discovery_migration/vpc_template/providers.tf
--rw-rw-rw-  2.0 fat      144 b- defN 24-May-09 00:36 aviatrix_migration-0.2.94.data/data/migration/discovery_migration/vpc_template/subnet-associations.tf
--rw-rw-rw-  2.0 fat       78 b- defN 24-May-09 00:36 aviatrix_migration-0.2.94.data/data/migration/discovery_migration/vpc_template/terraform-import-associations.sh
--rw-rw-rw-  2.0 fat      295 b- defN 24-May-09 00:36 aviatrix_migration-0.2.94.data/data/migration/discovery_migration/vpc_template/terraform.tfvars
--rw-rw-rw-  2.0 fat      246 b- defN 24-May-09 00:36 aviatrix_migration-0.2.94.data/data/migration/discovery_migration/vpc_template/variables.tf
--rw-rw-rw-  2.0 fat      275 b- defN 24-May-09 00:36 aviatrix_migration-0.2.94.data/data/migration/discovery_migration/vpc_template/versions.tf
--rw-rw-rw-  2.0 fat      586 b- defN 24-May-09 00:36 aviatrix_migration-0.2.94.data/data/migration/discovery_migration/vpc_template/vpc_id.tf
--rw-rw-rw-  2.0 fat     5924 b- defN 24-May-09 00:36 aviatrix_migration-0.2.94.data/data/migration/discovery_migration/vpc_template/module_aws_brownfield_spoke_vpc/main-hex-cidr.tf
--rw-rw-rw-  2.0 fat     5635 b- defN 24-May-09 00:36 aviatrix_migration-0.2.94.data/data/migration/discovery_migration/vpc_template/module_aws_brownfield_spoke_vpc/main-vpc-name.tf
--rw-rw-rw-  2.0 fat      702 b- defN 24-May-09 00:36 aviatrix_migration-0.2.94.data/data/migration/discovery_migration/vpc_template/module_aws_brownfield_spoke_vpc/variables.tf
--rw-rw-rw-  2.0 fat      275 b- defN 24-May-09 00:36 aviatrix_migration-0.2.94.data/data/migration/discovery_migration/vpc_template/module_aws_brownfield_spoke_vpc/versions.tf
--rw-rw-rw-  2.0 fat   159232 b- defN 24-May-09 00:38 dm/CrossCloudCommonLib.cp39-win_amd64.pyd
--rw-rw-rw-  2.0 fat        0 b- defN 24-May-09 00:36 dm/__init__.py
--rw-rw-rw-  2.0 fat    49664 b- defN 24-May-09 00:39 dm/_add_vpce_route.cp39-win_amd64.pyd
--rw-rw-rw-  2.0 fat   127488 b- defN 24-May-09 00:39 dm/_cleanup.cp39-win_amd64.pyd
--rw-rw-rw-  2.0 fat    88576 b- defN 24-May-09 00:39 dm/_delete_peer_route.cp39-win_amd64.pyd
--rw-rw-rw-  2.0 fat    52224 b- defN 24-May-09 00:39 dm/_delete_route.cp39-win_amd64.pyd
--rw-rw-rw-  2.0 fat   137728 b- defN 24-May-09 00:39 dm/_discovery.cp39-win_amd64.pyd
--rw-rw-rw-  2.0 fat    69120 b- defN 24-May-09 00:39 dm/_mgmt_quota.cp39-win_amd64.pyd
--rw-rw-rw-  2.0 fat    93696 b- defN 24-May-09 00:39 dm/_switch_traffic.cp39-win_amd64.pyd
--rw-rw-rw-  2.0 fat   142336 b- defN 24-May-09 00:39 dm/_tfhelper.cp39-win_amd64.pyd
--rw-rw-rw-  2.0 fat      155 b- defN 24-May-09 00:36 dm/add_vpce_route.py
--rw-rw-rw-  2.0 fat   254976 b- defN 24-May-09 00:37 dm/aviatrix.cp39-win_amd64.pyd
--rw-rw-rw-  2.0 fat   349696 b- defN 24-May-09 00:38 dm/aws.cp39-win_amd64.pyd
--rw-rw-rw-  2.0 fat      148 b- defN 24-May-09 00:36 dm/cleanup.py
--rw-rw-rw-  2.0 fat   211456 b- defN 24-May-09 00:38 dm/cleanuplib.cp39-win_amd64.pyd
--rw-rw-rw-  2.0 fat   360448 b- defN 24-May-09 00:38 dm/commonlib.cp39-win_amd64.pyd
--rw-rw-rw-  2.0 fat     3557 b- defN 24-May-09 00:36 dm/configure_iam.py
--rw-rw-rw-  2.0 fat      154 b- defN 24-May-09 00:36 dm/delete_peer_route.py
--rw-rw-rw-  2.0 fat      153 b- defN 24-May-09 00:36 dm/delete_route.py
--rw-rw-rw-  2.0 fat      146 b- defN 24-May-09 00:36 dm/discovery.py
--rw-rw-rw-  2.0 fat   405504 b- defN 24-May-09 00:38 dm/discoverylib.cp39-win_amd64.pyd
--rw-rw-rw-  2.0 fat    37376 b- defN 24-May-09 00:38 dm/exceptions.cp39-win_amd64.pyd
--rw-rw-rw-  2.0 fat   116224 b- defN 24-May-09 00:38 dm/iam_policy.cp39-win_amd64.pyd
--rw-rw-rw-  2.0 fat    28160 b- defN 24-May-09 00:38 dm/logconf.cp39-win_amd64.pyd
--rw-rw-rw-  2.0 fat      151 b- defN 24-May-09 00:36 dm/mgmt_quota.py
--rw-rw-rw-  2.0 fat   194560 b- defN 24-May-09 00:39 dm/peeringlib.cp39-win_amd64.pyd
--rw-rw-rw-  2.0 fat    48128 b- defN 24-May-09 00:39 dm/route.cp39-win_amd64.pyd
--rw-rw-rw-  2.0 fat   144384 b- defN 24-May-09 00:39 dm/routetable.cp39-win_amd64.pyd
--rw-rw-rw-  2.0 fat    74240 b- defN 24-May-09 00:39 dm/routetables.cp39-win_amd64.pyd
--rw-rw-rw-  2.0 fat    83456 b- defN 24-May-09 00:39 dm/subnet.cp39-win_amd64.pyd
--rw-rw-rw-  2.0 fat    55296 b- defN 24-May-09 00:39 dm/subnets.cp39-win_amd64.pyd
--rw-rw-rw-  2.0 fat      151 b- defN 24-May-09 00:36 dm/switch_traffic.py
--rw-rw-rw-  2.0 fat   177664 b- defN 24-May-09 00:39 dm/switchlib.cp39-win_amd64.pyd
--rw-rw-rw-  2.0 fat   287232 b- defN 24-May-09 00:39 dm/terraform.cp39-win_amd64.pyd
--rw-rw-rw-  2.0 fat      143 b- defN 24-May-09 00:36 dm/tfhelper.py
--rw-rw-rw-  2.0 fat        0 b- defN 24-May-09 00:36 dm/arm/__init__.py
--rw-rw-rw-  2.0 fat    89088 b- defN 24-May-09 00:40 dm/arm/_add_avtx_cidr.cp39-win_amd64.pyd
--rw-rw-rw-  2.0 fat    89088 b- defN 24-May-09 00:40 dm/arm/_cleanup.cp39-win_amd64.pyd
--rw-rw-rw-  2.0 fat   114176 b- defN 24-May-09 00:41 dm/arm/_discovery.cp39-win_amd64.pyd
--rw-rw-rw-  2.0 fat    69632 b- defN 24-May-09 00:41 dm/arm/_mgmt_vnet_cidr.cp39-win_amd64.pyd
--rw-rw-rw-  2.0 fat    71680 b- defN 24-May-09 00:41 dm/arm/_prestage.cp39-win_amd64.pyd
--rw-rw-rw-  2.0 fat    76288 b- defN 24-May-09 00:41 dm/arm/_stage.cp39-win_amd64.pyd
--rw-rw-rw-  2.0 fat   159232 b- defN 24-May-09 00:41 dm/arm/_switch_traffic.cp39-win_amd64.pyd
--rw-rw-rw-  2.0 fat   122880 b- defN 24-May-09 00:41 dm/arm/_tfhelper.cp39-win_amd64.pyd
--rw-rw-rw-  2.0 fat      154 b- defN 24-May-09 00:36 dm/arm/add_avtx_cidr.py
--rw-rw-rw-  2.0 fat    56832 b- defN 24-May-09 00:39 dm/arm/alert.cp39-win_amd64.pyd
--rw-rw-rw-  2.0 fat   302592 b- defN 24-May-09 00:40 dm/arm/aviatrix.cp39-win_amd64.pyd
--rw-rw-rw-  2.0 fat      146 b- defN 24-May-09 00:36 dm/arm/cleanup.py
--rw-rw-rw-  2.0 fat   163328 b- defN 24-May-09 00:40 dm/arm/cleanuplib.cp39-win_amd64.pyd
--rw-rw-rw-  2.0 fat   179200 b- defN 24-May-09 00:40 dm/arm/commonlib.cp39-win_amd64.pyd
--rw-rw-rw-  2.0 fat      148 b- defN 24-May-09 00:36 dm/arm/discovery.py
--rw-rw-rw-  2.0 fat   257024 b- defN 24-May-09 00:40 dm/arm/discoverylib.cp39-win_amd64.pyd
--rw-rw-rw-  2.0 fat   131072 b- defN 24-May-09 00:40 dm/arm/io.cp39-win_amd64.pyd
--rw-rw-rw-  2.0 fat      155 b- defN 24-May-09 00:36 dm/arm/mgmt_vnet_cidr.py
--rw-rw-rw-  2.0 fat      147 b- defN 24-May-09 00:36 dm/arm/prestage.py
--rw-rw-rw-  2.0 fat    72704 b- defN 24-May-09 00:40 dm/arm/prestagelib.cp39-win_amd64.pyd
--rw-rw-rw-  2.0 fat    50176 b- defN 24-May-09 00:40 dm/arm/route.cp39-win_amd64.pyd
--rw-rw-rw-  2.0 fat   123904 b- defN 24-May-09 00:40 dm/arm/routetable.cp39-win_amd64.pyd
--rw-rw-rw-  2.0 fat    68608 b- defN 24-May-09 00:40 dm/arm/routetables.cp39-win_amd64.pyd
--rw-rw-rw-  2.0 fat      146 b- defN 24-May-09 00:36 dm/arm/stage.py
--rw-rw-rw-  2.0 fat    56832 b- defN 24-May-09 00:40 dm/arm/stagelib.cp39-win_amd64.pyd
--rw-rw-rw-  2.0 fat   101376 b- defN 24-May-09 00:40 dm/arm/subnet.cp39-win_amd64.pyd
--rw-rw-rw-  2.0 fat    47616 b- defN 24-May-09 00:40 dm/arm/subnets.cp39-win_amd64.pyd
--rw-rw-rw-  2.0 fat    48128 b- defN 24-May-09 00:40 dm/arm/subs.cp39-win_amd64.pyd
--rw-rw-rw-  2.0 fat      153 b- defN 24-May-09 00:36 dm/arm/switch_traffic.py
--rw-rw-rw-  2.0 fat   338944 b- defN 24-May-09 00:40 dm/arm/switchlib.cp39-win_amd64.pyd
--rw-rw-rw-  2.0 fat   325120 b- defN 24-May-09 00:40 dm/arm/terraform.cp39-win_amd64.pyd
--rw-rw-rw-  2.0 fat      147 b- defN 24-May-09 00:36 dm/arm/tfhelper.py
--rw-rw-rw-  2.0 fat   162304 b- defN 24-May-09 00:40 dm/arm/vnetmgr.cp39-win_amd64.pyd
--rw-rw-rw-  2.0 fat        0 b- defN 24-May-09 00:36 dm/arm/core/__init__.py
--rw-rw-rw-  2.0 fat    19699 b- defN 24-May-09 00:36 dm/arm/core/config.py
--rw-rw-rw-  2.0 fat    57856 b- defN 24-May-09 00:41 dm/arm/imp/VnetCidrMgmtImp.cp39-win_amd64.pyd
--rw-rw-rw-  2.0 fat        0 b- defN 24-May-09 00:36 dm/arm/imp/__init__.py
--rw-rw-rw-  2.0 fat    41984 b- defN 24-May-09 00:41 dm/arm/inf/VnetCidrMgmtInf.cp39-win_amd64.pyd
--rw-rw-rw-  2.0 fat        0 b- defN 24-May-09 00:36 dm/arm/inf/__init__.py
--rw-rw-rw-  2.0 fat        0 b- defN 24-May-09 00:36 dm/arm/lib/__init__.py
--rw-rw-rw-  2.0 fat   282112 b- defN 24-May-09 00:41 dm/arm/lib/arm_utils.cp39-win_amd64.pyd
--rw-rw-rw-  2.0 fat    51200 b- defN 24-May-09 00:41 dm/arm/lib/subnet_groups.cp39-win_amd64.pyd
--rw-rw-rw-  2.0 fat   290304 b- defN 24-May-09 00:41 dm/arm/lib/vnet_utils.cp39-win_amd64.pyd
--rw-rw-rw-  2.0 fat    47616 b- defN 24-May-09 00:41 dm/arm/res/Globals.cp39-win_amd64.pyd
--rw-rw-rw-  2.0 fat    39936 b- defN 24-May-09 00:41 dm/arm/res/RouteTableMgmtResponse.cp39-win_amd64.pyd
--rw-rw-rw-  2.0 fat   106496 b- defN 24-May-09 00:41 dm/arm/res/VWanMgmt.cp39-win_amd64.pyd
--rw-rw-rw-  2.0 fat    70656 b- defN 24-May-09 00:41 dm/arm/res/YamlContext.cp39-win_amd64.pyd
--rw-rw-rw-  2.0 fat    80896 b- defN 24-May-09 00:41 dm/commands/CommandManager.cp39-win_amd64.pyd
--rw-rw-rw-  2.0 fat    92672 b- defN 24-May-09 00:41 dm/commands/NatGwMigrationCmd.cp39-win_amd64.pyd
--rw-rw-rw-  2.0 fat   129536 b- defN 24-May-09 00:41 dm/commands/SwitchTrafficCmd.cp39-win_amd64.pyd
--rw-rw-rw-  2.0 fat        0 b- defN 24-May-09 00:36 dm/commands/__init__.py
--rw-rw-rw-  2.0 fat   118784 b- defN 24-May-09 00:41 dm/commands/history.cp39-win_amd64.pyd
--rw-rw-rw-  2.0 fat    40960 b- defN 24-May-09 00:41 dm/core/AppExitStatus.cp39-win_amd64.pyd
--rw-rw-rw-  2.0 fat    68608 b- defN 24-May-09 00:41 dm/core/AvtxCidrValidator.cp39-win_amd64.pyd
--rw-rw-rw-  2.0 fat    42496 b- defN 24-May-09 00:41 dm/core/ErrorStatusHandler.cp39-win_amd64.pyd
--rw-rw-rw-  2.0 fat    57856 b- defN 24-May-09 00:41 dm/core/YamlContext.cp39-win_amd64.pyd
--rw-rw-rw-  2.0 fat        0 b- defN 24-May-09 00:36 dm/core/__init__.py
--rw-rw-rw-  2.0 fat    38776 b- defN 24-May-09 00:36 dm/core/config.py
--rw-rw-rw-  2.0 fat        0 b- defN 24-May-09 00:36 dm/natgw_migration/__init__.py
--rw-rw-rw-  2.0 fat   124928 b- defN 24-May-09 00:41 dm/natgw_migration/discover_natgw.cp39-win_amd64.pyd
--rw-rw-rw-  2.0 fat   131584 b- defN 24-May-09 00:41 dm/natgw_migration/migrate_natgw.cp39-win_amd64.pyd
--rw-rw-rw-  2.0 fat    48640 b- defN 24-May-09 00:41 dm/res/AviatrixProviderVersion.cp39-win_amd64.pyd
--rw-rw-rw-  2.0 fat    52224 b- defN 24-May-09 00:41 dm/res/Globals.cp39-win_amd64.pyd
--rw-rw-rw-  2.0 fat    46080 b- defN 24-May-09 00:41 dm/res/Igw.cp39-win_amd64.pyd
--rw-rw-rw-  2.0 fat    41984 b- defN 24-May-09 00:41 dm/res/NatPolicy.cp39-win_amd64.pyd
--rw-rw-rw-  2.0 fat    52736 b- defN 24-May-09 00:41 dm/res/PeeringVpcInfo.cp39-win_amd64.pyd
--rw-rw-rw-  2.0 fat    77312 b- defN 24-May-09 00:41 dm/res/RouteTableAzGroup.cp39-win_amd64.pyd
--rw-rw-rw-  2.0 fat    43008 b- defN 24-May-09 00:41 dm/res/SpokeInfo.cp39-win_amd64.pyd
--rw-rw-rw-  2.0 fat    36352 b- defN 24-May-09 00:41 dm/res/SubnetAzInfo.cp39-win_amd64.pyd
--rw-rw-rw-  2.0 fat    43520 b- defN 24-May-09 00:42 dm/res/VpcCidrInfo.cp39-win_amd64.pyd
--rw-rw-rw-  2.0 fat    51712 b- defN 24-May-09 00:42 dm/res/YamlNatPolicy.cp39-win_amd64.pyd
--rw-rw-rw-  2.0 fat        0 b- defN 24-May-09 00:36 dm/res/__init__.py
--rw-rw-rw-  2.0 fat    47104 b- defN 24-May-09 00:42 dm/res/tgw.cp39-win_amd64.pyd
--rw-rw-rw-  2.0 fat     7280 b- defN 24-May-09 00:42 aviatrix_migration-0.2.94.dist-info/METADATA
--rw-rw-rw-  2.0 fat      100 b- defN 24-May-09 00:42 aviatrix_migration-0.2.94.dist-info/WHEEL
--rw-rw-rw-  2.0 fat      361 b- defN 24-May-09 00:37 aviatrix_migration-0.2.94.dist-info/entry_points.txt
--rw-rw-rw-  2.0 fat        3 b- defN 24-May-09 00:37 aviatrix_migration-0.2.94.dist-info/top_level.txt
--rw-rw-r--  2.0 fat    22147 b- defN 24-May-09 00:42 aviatrix_migration-0.2.94.dist-info/RECORD
-190 files, 9661387 bytes uncompressed, 4141867 bytes compressed:  57.1%
+Zip file size: 4603205 bytes, number of entries: 190
+-rw-rw-r--  2.0 unx    22331 b- defN 24-May-26 07:54 aviatrix_migration-0.2.95.dist-info/RECORD
+-rw-r--r--  2.0 unx      108 b- defN 24-May-26 07:54 aviatrix_migration-0.2.95.dist-info/WHEEL
+-rw-r--r--  2.0 unx      361 b- defN 24-May-26 07:51 aviatrix_migration-0.2.95.dist-info/entry_points.txt
+-rw-r--r--  2.0 unx        3 b- defN 24-May-26 07:51 aviatrix_migration-0.2.95.dist-info/top_level.txt
+-rw-r--r--  2.0 unx     7124 b- defN 24-May-26 07:54 aviatrix_migration-0.2.95.dist-info/METADATA
+-rw-r--r--  2.0 unx      146 b- defN 24-May-26 07:51 dm/delete_route.py
+-rwxr-xr-x  2.0 unx   177112 b- defN 24-May-26 07:52 dm/_switch_traffic.cpython-39-darwin.so
+-rwxr-xr-x  2.0 unx   120752 b- defN 24-May-26 07:51 dm/routetables.cpython-39-darwin.so
+-rwxr-xr-x  2.0 unx    99048 b- defN 24-May-26 07:52 dm/route.cpython-39-darwin.so
+-rwxr-xr-x  2.0 unx   383328 b- defN 24-May-26 07:52 dm/terraform.cpython-39-darwin.so
+-rwxr-xr-x  2.0 unx    80432 b- defN 24-May-26 07:52 dm/exceptions.cpython-39-darwin.so
+-rw-r--r--  2.0 unx      148 b- defN 24-May-26 07:51 dm/add_vpce_route.py
+-rw-r--r--  2.0 unx      147 b- defN 24-May-26 07:51 dm/delete_peer_route.py
+-rwxr-xr-x  2.0 unx    99432 b- defN 24-May-26 07:52 dm/_add_vpce_route.cpython-39-darwin.so
+-rwxr-xr-x  2.0 unx   158440 b- defN 24-May-26 07:52 dm/_delete_peer_route.cpython-39-darwin.so
+-rwxr-xr-x  2.0 unx   250160 b- defN 24-May-26 07:52 dm/switchlib.cpython-39-darwin.so
+-rw-r--r--  2.0 unx      139 b- defN 24-May-26 07:51 dm/discovery.py
+-rwxr-xr-x  2.0 unx   250992 b- defN 24-May-26 07:52 dm/_discovery.cpython-39-darwin.so
+-rwxr-xr-x  2.0 unx   462968 b- defN 24-May-26 07:52 dm/aws.cpython-39-darwin.so
+-rwxr-xr-x  2.0 unx   214016 b- defN 24-May-26 07:52 dm/_cleanup.cpython-39-darwin.so
+-rwxr-xr-x  2.0 unx   217000 b- defN 24-May-26 07:51 dm/CrossCloudCommonLib.cpython-39-darwin.so
+-rw-r--r--  2.0 unx      144 b- defN 24-May-26 07:51 dm/switch_traffic.py
+-rwxr-xr-x  2.0 unx   540768 b- defN 24-May-26 07:52 dm/discoverylib.cpython-39-darwin.so
+-rw-r--r--  2.0 unx        0 b- defN 24-May-26 07:51 dm/__init__.py
+-rwxr-xr-x  2.0 unx   137960 b- defN 24-May-26 07:52 dm/subnet.cpython-39-darwin.so
+-rw-r--r--  2.0 unx      141 b- defN 24-May-26 07:51 dm/cleanup.py
+-rwxr-xr-x  2.0 unx   196656 b- defN 24-May-26 07:51 dm/routetable.cpython-39-darwin.so
+-rwxr-xr-x  2.0 unx   121056 b- defN 24-May-26 07:52 dm/_mgmt_quota.cpython-39-darwin.so
+-rwxr-xr-x  2.0 unx   209648 b- defN 24-May-26 07:52 dm/_tfhelper.cpython-39-darwin.so
+-rwxr-xr-x  2.0 unx   266736 b- defN 24-May-26 07:53 dm/peeringlib.cpython-39-darwin.so
+-rw-r--r--  2.0 unx      137 b- defN 24-May-26 07:51 dm/tfhelper.py
+-rwxr-xr-x  2.0 unx   283088 b- defN 24-May-26 07:53 dm/cleanuplib.cpython-39-darwin.so
+-rwxr-xr-x  2.0 unx   317328 b- defN 24-May-26 07:52 dm/aviatrix.cpython-39-darwin.so
+-rwxr-xr-x  2.0 unx    57984 b- defN 24-May-26 07:52 dm/logconf.cpython-39-darwin.so
+-rwxr-xr-x  2.0 unx   181088 b- defN 24-May-26 07:52 dm/iam_policy.cpython-39-darwin.so
+-rw-r--r--  2.0 unx      144 b- defN 24-May-26 07:51 dm/mgmt_quota.py
+-rwxr-xr-x  2.0 unx   101008 b- defN 24-May-26 07:52 dm/_delete_route.cpython-39-darwin.so
+-rwxr-xr-x  2.0 unx   456192 b- defN 24-May-26 07:52 dm/commonlib.cpython-39-darwin.so
+-rwxr-xr-x  2.0 unx    99856 b- defN 24-May-26 07:52 dm/subnets.cpython-39-darwin.so
+-rw-r--r--  2.0 unx     3438 b- defN 24-May-26 07:51 dm/configure_iam.py
+-rwxr-xr-x  2.0 unx   101360 b- defN 24-May-26 07:53 dm/res/YamlNatPolicy.cpython-39-darwin.so
+-rwxr-xr-x  2.0 unx    99280 b- defN 24-May-26 07:53 dm/res/AviatrixProviderVersion.cpython-39-darwin.so
+-rwxr-xr-x  2.0 unx    81712 b- defN 24-May-26 07:53 dm/res/SpokeInfo.cpython-39-darwin.so
+-rwxr-xr-x  2.0 unx    80672 b- defN 24-May-26 07:53 dm/res/NatPolicy.cpython-39-darwin.so
+-rwxr-xr-x  2.0 unx    99272 b- defN 24-May-26 07:53 dm/res/tgw.cpython-39-darwin.so
+-rwxr-xr-x  2.0 unx   122264 b- defN 24-May-26 07:53 dm/res/RouteTableAzGroup.cpython-39-darwin.so
+-rw-r--r--  2.0 unx        0 b- defN 24-May-26 07:51 dm/res/__init__.py
+-rwxr-xr-x  2.0 unx    98976 b- defN 24-May-26 07:53 dm/res/PeeringVpcInfo.cpython-39-darwin.so
+-rwxr-xr-x  2.0 unx    81088 b- defN 24-May-26 07:53 dm/res/VpcCidrInfo.cpython-39-darwin.so
+-rwxr-xr-x  2.0 unx    99856 b- defN 24-May-26 07:53 dm/res/Globals.cpython-39-darwin.so
+-rwxr-xr-x  2.0 unx    83240 b- defN 24-May-26 07:53 dm/res/Igw.cpython-39-darwin.so
+-rwxr-xr-x  2.0 unx    79296 b- defN 24-May-26 07:53 dm/res/SubnetAzInfo.cpython-39-darwin.so
+-rw-r--r--  2.0 unx    37792 b- defN 24-May-26 07:51 dm/core/config.py
+-rwxr-xr-x  2.0 unx   119304 b- defN 24-May-26 07:53 dm/core/AvtxCidrValidator.cpython-39-darwin.so
+-rwxr-xr-x  2.0 unx    81976 b- defN 24-May-26 07:53 dm/core/ErrorStatusHandler.cpython-39-darwin.so
+-rwxr-xr-x  2.0 unx    81344 b- defN 24-May-26 07:53 dm/core/AppExitStatus.cpython-39-darwin.so
+-rw-r--r--  2.0 unx        0 b- defN 24-May-26 07:51 dm/core/__init__.py
+-rwxr-xr-x  2.0 unx   101808 b- defN 24-May-26 07:53 dm/core/YamlContext.cpython-39-darwin.so
+-rw-r--r--  2.0 unx        0 b- defN 24-May-26 07:51 dm/natgw_migration/__init__.py
+-rwxr-xr-x  2.0 unx   194048 b- defN 24-May-26 07:53 dm/natgw_migration/migrate_natgw.cpython-39-darwin.so
+-rwxr-xr-x  2.0 unx   179072 b- defN 24-May-26 07:53 dm/natgw_migration/discover_natgw.cpython-39-darwin.so
+-rwxr-xr-x  2.0 unx   211752 b- defN 24-May-26 07:53 dm/commands/SwitchTrafficCmd.cpython-39-darwin.so
+-rw-r--r--  2.0 unx        0 b- defN 24-May-26 07:51 dm/commands/__init__.py
+-rwxr-xr-x  2.0 unx   137584 b- defN 24-May-26 07:53 dm/commands/CommandManager.cpython-39-darwin.so
+-rwxr-xr-x  2.0 unx   180672 b- defN 24-May-26 07:53 dm/commands/history.cpython-39-darwin.so
+-rwxr-xr-x  2.0 unx   139384 b- defN 24-May-26 07:53 dm/commands/NatGwMigrationCmd.cpython-39-darwin.so
+-rwxr-xr-x  2.0 unx   102864 b- defN 24-May-26 07:54 dm/arm/stagelib.cpython-39-darwin.so
+-rwxr-xr-x  2.0 unx   250328 b- defN 24-May-26 07:53 dm/arm/_switch_traffic.cpython-39-darwin.so
+-rwxr-xr-x  2.0 unx   120464 b- defN 24-May-26 07:53 dm/arm/routetables.cpython-39-darwin.so
+-rwxr-xr-x  2.0 unx    98984 b- defN 24-May-26 07:53 dm/arm/route.cpython-39-darwin.so
+-rwxr-xr-x  2.0 unx   121208 b- defN 24-May-26 07:53 dm/arm/_mgmt_vnet_cidr.cpython-39-darwin.so
+-rwxr-xr-x  2.0 unx   438784 b- defN 24-May-26 07:53 dm/arm/terraform.cpython-39-darwin.so
+-rwxr-xr-x  2.0 unx   101960 b- defN 24-May-26 07:54 dm/arm/alert.cpython-39-darwin.so
+-rwxr-xr-x  2.0 unx   138304 b- defN 24-May-26 07:53 dm/arm/_prestage.cpython-39-darwin.so
+-rwxr-xr-x  2.0 unx   431216 b- defN 24-May-26 07:54 dm/arm/switchlib.cpython-39-darwin.so
+-rw-r--r--  2.0 unx      142 b- defN 24-May-26 07:51 dm/arm/discovery.py
+-rwxr-xr-x  2.0 unx   211984 b- defN 24-May-26 07:54 dm/arm/_discovery.cpython-39-darwin.so
+-rwxr-xr-x  2.0 unx   158272 b- defN 24-May-26 07:53 dm/arm/_cleanup.cpython-39-darwin.so
+-rw-r--r--  2.0 unx      147 b- defN 24-May-26 07:51 dm/arm/switch_traffic.py
+-rwxr-xr-x  2.0 unx   344960 b- defN 24-May-26 07:54 dm/arm/discoverylib.cpython-39-darwin.so
+-rw-r--r--  2.0 unx        0 b- defN 24-May-26 07:51 dm/arm/__init__.py
+-rwxr-xr-x  2.0 unx   161112 b- defN 24-May-26 07:53 dm/arm/subnet.cpython-39-darwin.so
+-rw-r--r--  2.0 unx      148 b- defN 24-May-26 07:51 dm/arm/mgmt_vnet_cidr.py
+-rw-r--r--  2.0 unx      141 b- defN 24-May-26 07:51 dm/arm/prestage.py
+-rw-r--r--  2.0 unx      140 b- defN 24-May-26 07:51 dm/arm/cleanup.py
+-rwxr-xr-x  2.0 unx   121928 b- defN 24-May-26 07:54 dm/arm/_stage.cpython-39-darwin.so
+-rwxr-xr-x  2.0 unx   178272 b- defN 24-May-26 07:53 dm/arm/routetable.cpython-39-darwin.so
+-rwxr-xr-x  2.0 unx   156704 b- defN 24-May-26 07:53 dm/arm/_add_avtx_cidr.cpython-39-darwin.so
+-rwxr-xr-x  2.0 unx   100248 b- defN 24-May-26 07:54 dm/arm/subs.cpython-39-darwin.so
+-rw-r--r--  2.0 unx      147 b- defN 24-May-26 07:51 dm/arm/add_avtx_cidr.py
+-rwxr-xr-x  2.0 unx   174944 b- defN 24-May-26 07:54 dm/arm/_tfhelper.cpython-39-darwin.so
+-rwxr-xr-x  2.0 unx   214048 b- defN 24-May-26 07:54 dm/arm/vnetmgr.cpython-39-darwin.so
+-rw-r--r--  2.0 unx      141 b- defN 24-May-26 07:51 dm/arm/tfhelper.py
+-rwxr-xr-x  2.0 unx   231888 b- defN 24-May-26 07:54 dm/arm/cleanuplib.cpython-39-darwin.so
+-rwxr-xr-x  2.0 unx   189752 b- defN 24-May-26 07:53 dm/arm/io.cpython-39-darwin.so
+-rw-r--r--  2.0 unx      139 b- defN 24-May-26 07:51 dm/arm/stage.py
+-rwxr-xr-x  2.0 unx   370240 b- defN 24-May-26 07:53 dm/arm/aviatrix.cpython-39-darwin.so
+-rwxr-xr-x  2.0 unx   120688 b- defN 24-May-26 07:53 dm/arm/prestagelib.cpython-39-darwin.so
+-rwxr-xr-x  2.0 unx   235360 b- defN 24-May-26 07:53 dm/arm/commonlib.cpython-39-darwin.so
+-rwxr-xr-x  2.0 unx    98464 b- defN 24-May-26 07:54 dm/arm/subnets.cpython-39-darwin.so
+-rw-r--r--  2.0 unx        0 b- defN 24-May-26 07:51 dm/arm/imp/__init__.py
+-rwxr-xr-x  2.0 unx   101992 b- defN 24-May-26 07:54 dm/arm/imp/VnetCidrMgmtImp.cpython-39-darwin.so
+-rwxr-xr-x  2.0 unx   158576 b- defN 24-May-26 07:54 dm/arm/res/VWanMgmt.cpython-39-darwin.so
+-rwxr-xr-x  2.0 unx    81904 b- defN 24-May-26 07:54 dm/arm/res/Globals.cpython-39-darwin.so
+-rwxr-xr-x  2.0 unx    80360 b- defN 24-May-26 07:54 dm/arm/res/RouteTableMgmtResponse.cpython-39-darwin.so
+-rwxr-xr-x  2.0 unx   120640 b- defN 24-May-26 07:54 dm/arm/res/YamlContext.cpython-39-darwin.so
+-rw-r--r--  2.0 unx    19126 b- defN 24-May-26 07:51 dm/arm/core/config.py
+-rw-r--r--  2.0 unx        0 b- defN 24-May-26 07:51 dm/arm/core/__init__.py
+-rw-r--r--  2.0 unx        0 b- defN 24-May-26 07:51 dm/arm/inf/__init__.py
+-rwxr-xr-x  2.0 unx    81560 b- defN 24-May-26 07:54 dm/arm/inf/VnetCidrMgmtInf.cpython-39-darwin.so
+-rwxr-xr-x  2.0 unx   379824 b- defN 24-May-26 07:54 dm/arm/lib/vnet_utils.cpython-39-darwin.so
+-rwxr-xr-x  2.0 unx    99760 b- defN 24-May-26 07:54 dm/arm/lib/subnet_groups.cpython-39-darwin.so
+-rw-r--r--  2.0 unx        0 b- defN 24-May-26 07:51 dm/arm/lib/__init__.py
+-rwxr-xr-x  2.0 unx   355808 b- defN 24-May-26 07:54 dm/arm/lib/arm_utils.cpython-39-darwin.so
+-rw-r--r--  2.0 unx     2427 b- defN 24-May-26 07:51 aviatrix_migration-0.2.95.data/data/migration/discovery_migration/azure_requirements.txt
+-rw-r--r--  2.0 unx      349 b- defN 24-May-26 07:51 aviatrix_migration-0.2.95.data/data/migration/discovery_migration/aws_requirements.txt
+-rw-r--r--  2.0 unx     2055 b- defN 24-May-26 07:51 aviatrix_migration-0.2.95.data/data/migration/discovery_migration/vnet_template/vnet_id.tf
+-rw-r--r--  2.0 unx      288 b- defN 24-May-26 07:51 aviatrix_migration-0.2.95.data/data/migration/discovery_migration/vnet_template/account.tf
+-rw-r--r--  2.0 unx      622 b- defN 24-May-26 07:51 aviatrix_migration-0.2.95.data/data/migration/discovery_migration/vnet_template/main.tf
+-rw-r--r--  2.0 unx      594 b- defN 24-May-26 07:51 aviatrix_migration-0.2.95.data/data/migration/discovery_migration/vnet_template/versions.tf
+-rw-r--r--  2.0 unx      167 b- defN 24-May-26 07:51 aviatrix_migration-0.2.95.data/data/migration/discovery_migration/vnet_template/subnet-associations.tf
+-rw-r--r--  2.0 unx      360 b- defN 24-May-26 07:51 aviatrix_migration-0.2.95.data/data/migration/discovery_migration/vnet_template/terraform.tfvars
+-rw-r--r--  2.0 unx     1373 b- defN 24-May-26 07:51 aviatrix_migration-0.2.95.data/data/migration/discovery_migration/vnet_template/providers.tf
+-rw-r--r--  2.0 unx       73 b- defN 24-May-26 07:51 aviatrix_migration-0.2.95.data/data/migration/discovery_migration/vnet_template/terraform-import-associations.sh
+-rw-r--r--  2.0 unx      339 b- defN 24-May-26 07:51 aviatrix_migration-0.2.95.data/data/migration/discovery_migration/vnet_template/variables.tf
+-rw-r--r--  2.0 unx     1395 b- defN 24-May-26 07:51 aviatrix_migration-0.2.95.data/data/migration/discovery_migration/vnet_template/env.tf
+-rw-r--r--  2.0 unx     9338 b- defN 24-May-26 07:51 aviatrix_migration-0.2.95.data/data/migration/discovery_migration/vnet_template/module_arm_brownfield_spoke_vnet/main.tf
+-rw-r--r--  2.0 unx      245 b- defN 24-May-26 07:51 aviatrix_migration-0.2.95.data/data/migration/discovery_migration/vnet_template/module_arm_brownfield_spoke_vnet/versions.tf
+-rw-r--r--  2.0 unx     1970 b- defN 24-May-26 07:51 aviatrix_migration-0.2.95.data/data/migration/discovery_migration/vnet_template/module_arm_brownfield_spoke_vnet/variables.tf
+-rw-r--r--  2.0 unx     4837 b- defN 24-May-26 07:51 aviatrix_migration-0.2.95.data/data/migration/discovery_migration/azure-module-example/main.tf
+-rw-r--r--  2.0 unx      165 b- defN 24-May-26 07:51 aviatrix_migration-0.2.95.data/data/migration/discovery_migration/azure-module-example/versions.tf
+-rw-r--r--  2.0 unx      695 b- defN 24-May-26 07:51 aviatrix_migration-0.2.95.data/data/migration/discovery_migration/azure-module-example/terraform.tfvars
+-rw-r--r--  2.0 unx      174 b- defN 24-May-26 07:51 aviatrix_migration-0.2.95.data/data/migration/discovery_migration/azure-module-example/providers.tf
+-rw-r--r--  2.0 unx      511 b- defN 24-May-26 07:51 aviatrix_migration-0.2.95.data/data/migration/discovery_migration/azure-module-example/variables.tf
+-rw-r--r--  2.0 unx      138 b- defN 24-May-26 07:51 aviatrix_migration-0.2.95.data/data/migration/discovery_migration/vpc_template/main-rtb-associations.tf
+-rw-r--r--  2.0 unx      702 b- defN 24-May-26 07:51 aviatrix_migration-0.2.95.data/data/migration/discovery_migration/vpc_template/main.tf
+-rw-r--r--  2.0 unx      262 b- defN 24-May-26 07:51 aviatrix_migration-0.2.95.data/data/migration/discovery_migration/vpc_template/versions.tf
+-rw-r--r--  2.0 unx      139 b- defN 24-May-26 07:51 aviatrix_migration-0.2.95.data/data/migration/discovery_migration/vpc_template/subnet-associations.tf
+-rw-r--r--  2.0 unx      286 b- defN 24-May-26 07:51 aviatrix_migration-0.2.95.data/data/migration/discovery_migration/vpc_template/terraform.tfvars
+-rw-r--r--  2.0 unx      574 b- defN 24-May-26 07:51 aviatrix_migration-0.2.95.data/data/migration/discovery_migration/vpc_template/account.template
+-rw-r--r--  2.0 unx     4235 b- defN 24-May-26 07:51 aviatrix_migration-0.2.95.data/data/migration/discovery_migration/vpc_template/providers.tf
+-rw-r--r--  2.0 unx      566 b- defN 24-May-26 07:51 aviatrix_migration-0.2.95.data/data/migration/discovery_migration/vpc_template/vpc_id.tf
+-rw-r--r--  2.0 unx       78 b- defN 24-May-26 07:51 aviatrix_migration-0.2.95.data/data/migration/discovery_migration/vpc_template/terraform-import-associations.sh
+-rw-r--r--  2.0 unx      236 b- defN 24-May-26 07:51 aviatrix_migration-0.2.95.data/data/migration/discovery_migration/vpc_template/variables.tf
+-rw-r--r--  2.0 unx      262 b- defN 24-May-26 07:51 aviatrix_migration-0.2.95.data/data/migration/discovery_migration/vpc_template/module_aws_brownfield_spoke_vpc/versions.tf
+-rw-r--r--  2.0 unx      654 b- defN 24-May-26 07:51 aviatrix_migration-0.2.95.data/data/migration/discovery_migration/vpc_template/module_aws_brownfield_spoke_vpc/variables.tf
+-rw-r--r--  2.0 unx     5777 b- defN 24-May-26 07:51 aviatrix_migration-0.2.95.data/data/migration/discovery_migration/vpc_template/module_aws_brownfield_spoke_vpc/main-hex-cidr.tf
+-rw-r--r--  2.0 unx     5505 b- defN 24-May-26 07:51 aviatrix_migration-0.2.95.data/data/migration/discovery_migration/vpc_template/module_aws_brownfield_spoke_vpc/main-vpc-name.tf
+-rw-r--r--  2.0 unx      138 b- defN 24-May-26 07:51 aviatrix_migration-0.2.95.data/data/migration/discovery_migration/aws/nameless/main-rtb-associations.tf
+-rw-r--r--  2.0 unx      702 b- defN 24-May-26 07:51 aviatrix_migration-0.2.95.data/data/migration/discovery_migration/aws/nameless/main.tf
+-rw-r--r--  2.0 unx      262 b- defN 24-May-26 07:51 aviatrix_migration-0.2.95.data/data/migration/discovery_migration/aws/nameless/versions.tf
+-rw-r--r--  2.0 unx      139 b- defN 24-May-26 07:51 aviatrix_migration-0.2.95.data/data/migration/discovery_migration/aws/nameless/subnet-associations.tf
+-rw-r--r--  2.0 unx      286 b- defN 24-May-26 07:51 aviatrix_migration-0.2.95.data/data/migration/discovery_migration/aws/nameless/terraform.tfvars
+-rw-r--r--  2.0 unx      574 b- defN 24-May-26 07:51 aviatrix_migration-0.2.95.data/data/migration/discovery_migration/aws/nameless/account.template
+-rw-r--r--  2.0 unx     4235 b- defN 24-May-26 07:51 aviatrix_migration-0.2.95.data/data/migration/discovery_migration/aws/nameless/providers.tf
+-rw-r--r--  2.0 unx      568 b- defN 24-May-26 07:51 aviatrix_migration-0.2.95.data/data/migration/discovery_migration/aws/nameless/vpc_id.tf
+-rw-r--r--  2.0 unx       78 b- defN 24-May-26 07:51 aviatrix_migration-0.2.95.data/data/migration/discovery_migration/aws/nameless/terraform-import-associations.sh
+-rw-r--r--  2.0 unx      236 b- defN 24-May-26 07:51 aviatrix_migration-0.2.95.data/data/migration/discovery_migration/aws/nameless/variables.tf
+-rw-r--r--  2.0 unx     5506 b- defN 24-May-26 07:51 aviatrix_migration-0.2.95.data/data/migration/discovery_migration/aws/nameless/module_aws_brownfield_spoke_vpc/main.tf
+-rw-r--r--  2.0 unx      262 b- defN 24-May-26 07:51 aviatrix_migration-0.2.95.data/data/migration/discovery_migration/aws/nameless/module_aws_brownfield_spoke_vpc/versions.tf
+-rw-r--r--  2.0 unx      654 b- defN 24-May-26 07:51 aviatrix_migration-0.2.95.data/data/migration/discovery_migration/aws/nameless/module_aws_brownfield_spoke_vpc/variables.tf
+-rw-r--r--  2.0 unx     5805 b- defN 24-May-26 07:51 aviatrix_migration-0.2.95.data/data/migration/discovery_migration/aws/nameless/module_aws_brownfield_spoke_vpc/main-vpc-name.tf
+-rw-r--r--  2.0 unx      138 b- defN 24-May-26 07:51 aviatrix_migration-0.2.95.data/data/migration/discovery_migration/aws/generic/main-rtb-associations.tf
+-rw-r--r--  2.0 unx      724 b- defN 24-May-26 07:51 aviatrix_migration-0.2.95.data/data/migration/discovery_migration/aws/generic/main.tf
+-rw-r--r--  2.0 unx      262 b- defN 24-May-26 07:51 aviatrix_migration-0.2.95.data/data/migration/discovery_migration/aws/generic/versions.tf
+-rw-r--r--  2.0 unx      139 b- defN 24-May-26 07:51 aviatrix_migration-0.2.95.data/data/migration/discovery_migration/aws/generic/subnet-associations.tf
+-rw-r--r--  2.0 unx      285 b- defN 24-May-26 07:51 aviatrix_migration-0.2.95.data/data/migration/discovery_migration/aws/generic/terraform.tfvars
+-rw-r--r--  2.0 unx      574 b- defN 24-May-26 07:51 aviatrix_migration-0.2.95.data/data/migration/discovery_migration/aws/generic/account.template
+-rw-r--r--  2.0 unx     4235 b- defN 24-May-26 07:51 aviatrix_migration-0.2.95.data/data/migration/discovery_migration/aws/generic/providers.tf
+-rw-r--r--  2.0 unx      819 b- defN 24-May-26 07:51 aviatrix_migration-0.2.95.data/data/migration/discovery_migration/aws/generic/vpc_id.tf
+-rw-r--r--  2.0 unx       78 b- defN 24-May-26 07:51 aviatrix_migration-0.2.95.data/data/migration/discovery_migration/aws/generic/terraform-import-associations.sh
+-rw-r--r--  2.0 unx      234 b- defN 24-May-26 07:51 aviatrix_migration-0.2.95.data/data/migration/discovery_migration/aws/generic/variables.tf
+-rw-r--r--  2.0 unx      271 b- defN 24-May-26 07:51 aviatrix_migration-0.2.95.data/data/migration/discovery_migration/aws/generic/module_aws_brownfield_spoke_vpc/versions.tf
+-rw-r--r--  2.0 unx     2066 b- defN 24-May-26 07:51 aviatrix_migration-0.2.95.data/data/migration/discovery_migration/aws/generic/module_aws_brownfield_spoke_vpc/variables.tf
+-rw-r--r--  2.0 unx     5719 b- defN 24-May-26 07:51 aviatrix_migration-0.2.95.data/data/migration/discovery_migration/aws/generic/module_aws_brownfield_spoke_vpc/main-vpc-name.tf
+-rw-r--r--  2.0 unx      286 b- defN 24-May-26 07:51 aviatrix_migration-0.2.95.data/data/migration/discovery_migration/aws/combined/main-rtb-associations.tf
+-rw-r--r--  2.0 unx     1030 b- defN 24-May-26 07:51 aviatrix_migration-0.2.95.data/data/migration/discovery_migration/aws/combined/main.tf
+-rw-r--r--  2.0 unx      579 b- defN 24-May-26 07:51 aviatrix_migration-0.2.95.data/data/migration/discovery_migration/aws/combined/versions.tf
+-rw-r--r--  2.0 unx      327 b- defN 24-May-26 07:51 aviatrix_migration-0.2.95.data/data/migration/discovery_migration/aws/combined/subnet-associations.tf
+-rw-r--r--  2.0 unx      631 b- defN 24-May-26 07:51 aviatrix_migration-0.2.95.data/data/migration/discovery_migration/aws/combined/terraform.tfvars
+-rw-r--r--  2.0 unx      578 b- defN 24-May-26 07:51 aviatrix_migration-0.2.95.data/data/migration/discovery_migration/aws/combined/account.template
+-rw-r--r--  2.0 unx     4592 b- defN 24-May-26 07:51 aviatrix_migration-0.2.95.data/data/migration/discovery_migration/aws/combined/providers.tf
+-rw-r--r--  2.0 unx      471 b- defN 24-May-26 07:51 aviatrix_migration-0.2.95.data/data/migration/discovery_migration/aws/combined/dmhelp.sh
+-rw-r--r--  2.0 unx     3408 b- defN 24-May-26 07:51 aviatrix_migration-0.2.95.data/data/migration/discovery_migration/aws/combined/vpc_id.tf
+-rw-r--r--  2.0 unx       78 b- defN 24-May-26 07:51 aviatrix_migration-0.2.95.data/data/migration/discovery_migration/aws/combined/terraform-import-associations.sh
+-rw-r--r--  2.0 unx      498 b- defN 24-May-26 07:51 aviatrix_migration-0.2.95.data/data/migration/discovery_migration/aws/combined/variables.tf
+-rw-r--r--  2.0 unx    20361 b- defN 24-May-26 07:51 aviatrix_migration-0.2.95.data/data/migration/discovery_migration/aws/combined/module_aws_brownfield_spoke_vpc/main.tf
+-rw-r--r--  2.0 unx      262 b- defN 24-May-26 07:51 aviatrix_migration-0.2.95.data/data/migration/discovery_migration/aws/combined/module_aws_brownfield_spoke_vpc/versions.tf
+-rw-r--r--  2.0 unx     3503 b- defN 24-May-26 07:51 aviatrix_migration-0.2.95.data/data/migration/discovery_migration/aws/combined/module_aws_brownfield_spoke_vpc/variables.tf
+-rw-r--r--  2.0 unx      557 b- defN 24-May-26 07:51 aviatrix_migration-0.2.95.data/data/migration/discovery_migration/azure_data/input.json
+190 files, 14482523 bytes uncompressed, 4565693 bytes compressed:  68.5%
```

## zipnote {}

```diff
@@ -1,571 +1,571 @@
-Filename: aviatrix_migration-0.2.94.data/data/migration/discovery_migration/aws_requirements.txt
+Filename: aviatrix_migration-0.2.95.dist-info/RECORD
 Comment: 
 
-Filename: aviatrix_migration-0.2.94.data/data/migration/discovery_migration/azure_requirements.txt
+Filename: aviatrix_migration-0.2.95.dist-info/WHEEL
 Comment: 
 
-Filename: aviatrix_migration-0.2.94.data/data/migration/discovery_migration/aws/combined/account.template
+Filename: aviatrix_migration-0.2.95.dist-info/entry_points.txt
 Comment: 
 
-Filename: aviatrix_migration-0.2.94.data/data/migration/discovery_migration/aws/combined/dmhelp.sh
+Filename: aviatrix_migration-0.2.95.dist-info/top_level.txt
 Comment: 
 
-Filename: aviatrix_migration-0.2.94.data/data/migration/discovery_migration/aws/combined/main-rtb-associations.tf
+Filename: aviatrix_migration-0.2.95.dist-info/METADATA
 Comment: 
 
-Filename: aviatrix_migration-0.2.94.data/data/migration/discovery_migration/aws/combined/main.tf
+Filename: dm/delete_route.py
 Comment: 
 
-Filename: aviatrix_migration-0.2.94.data/data/migration/discovery_migration/aws/combined/providers.tf
+Filename: dm/_switch_traffic.cpython-39-darwin.so
 Comment: 
 
-Filename: aviatrix_migration-0.2.94.data/data/migration/discovery_migration/aws/combined/subnet-associations.tf
+Filename: dm/routetables.cpython-39-darwin.so
 Comment: 
 
-Filename: aviatrix_migration-0.2.94.data/data/migration/discovery_migration/aws/combined/terraform-import-associations.sh
+Filename: dm/route.cpython-39-darwin.so
 Comment: 
 
-Filename: aviatrix_migration-0.2.94.data/data/migration/discovery_migration/aws/combined/terraform.tfvars
+Filename: dm/terraform.cpython-39-darwin.so
 Comment: 
 
-Filename: aviatrix_migration-0.2.94.data/data/migration/discovery_migration/aws/combined/variables.tf
+Filename: dm/exceptions.cpython-39-darwin.so
 Comment: 
 
-Filename: aviatrix_migration-0.2.94.data/data/migration/discovery_migration/aws/combined/versions.tf
+Filename: dm/add_vpce_route.py
 Comment: 
 
-Filename: aviatrix_migration-0.2.94.data/data/migration/discovery_migration/aws/combined/vpc_id.tf
+Filename: dm/delete_peer_route.py
 Comment: 
 
-Filename: aviatrix_migration-0.2.94.data/data/migration/discovery_migration/aws/combined/module_aws_brownfield_spoke_vpc/main.tf
+Filename: dm/_add_vpce_route.cpython-39-darwin.so
 Comment: 
 
-Filename: aviatrix_migration-0.2.94.data/data/migration/discovery_migration/aws/combined/module_aws_brownfield_spoke_vpc/variables.tf
+Filename: dm/_delete_peer_route.cpython-39-darwin.so
 Comment: 
 
-Filename: aviatrix_migration-0.2.94.data/data/migration/discovery_migration/aws/combined/module_aws_brownfield_spoke_vpc/versions.tf
+Filename: dm/switchlib.cpython-39-darwin.so
 Comment: 
 
-Filename: aviatrix_migration-0.2.94.data/data/migration/discovery_migration/aws/generic/account.template
+Filename: dm/discovery.py
 Comment: 
 
-Filename: aviatrix_migration-0.2.94.data/data/migration/discovery_migration/aws/generic/main-rtb-associations.tf
+Filename: dm/_discovery.cpython-39-darwin.so
 Comment: 
 
-Filename: aviatrix_migration-0.2.94.data/data/migration/discovery_migration/aws/generic/main.tf
+Filename: dm/aws.cpython-39-darwin.so
 Comment: 
 
-Filename: aviatrix_migration-0.2.94.data/data/migration/discovery_migration/aws/generic/providers.tf
+Filename: dm/_cleanup.cpython-39-darwin.so
 Comment: 
 
-Filename: aviatrix_migration-0.2.94.data/data/migration/discovery_migration/aws/generic/subnet-associations.tf
+Filename: dm/CrossCloudCommonLib.cpython-39-darwin.so
 Comment: 
 
-Filename: aviatrix_migration-0.2.94.data/data/migration/discovery_migration/aws/generic/terraform-import-associations.sh
+Filename: dm/switch_traffic.py
 Comment: 
 
-Filename: aviatrix_migration-0.2.94.data/data/migration/discovery_migration/aws/generic/terraform.tfvars
+Filename: dm/discoverylib.cpython-39-darwin.so
 Comment: 
 
-Filename: aviatrix_migration-0.2.94.data/data/migration/discovery_migration/aws/generic/variables.tf
+Filename: dm/__init__.py
 Comment: 
 
-Filename: aviatrix_migration-0.2.94.data/data/migration/discovery_migration/aws/generic/versions.tf
+Filename: dm/subnet.cpython-39-darwin.so
 Comment: 
 
-Filename: aviatrix_migration-0.2.94.data/data/migration/discovery_migration/aws/generic/vpc_id.tf
+Filename: dm/cleanup.py
 Comment: 
 
-Filename: aviatrix_migration-0.2.94.data/data/migration/discovery_migration/aws/generic/module_aws_brownfield_spoke_vpc/main-vpc-name.tf
+Filename: dm/routetable.cpython-39-darwin.so
 Comment: 
 
-Filename: aviatrix_migration-0.2.94.data/data/migration/discovery_migration/aws/generic/module_aws_brownfield_spoke_vpc/variables.tf
+Filename: dm/_mgmt_quota.cpython-39-darwin.so
 Comment: 
 
-Filename: aviatrix_migration-0.2.94.data/data/migration/discovery_migration/aws/generic/module_aws_brownfield_spoke_vpc/versions.tf
+Filename: dm/_tfhelper.cpython-39-darwin.so
 Comment: 
 
-Filename: aviatrix_migration-0.2.94.data/data/migration/discovery_migration/aws/nameless/account.template
+Filename: dm/peeringlib.cpython-39-darwin.so
 Comment: 
 
-Filename: aviatrix_migration-0.2.94.data/data/migration/discovery_migration/aws/nameless/main-rtb-associations.tf
+Filename: dm/tfhelper.py
 Comment: 
 
-Filename: aviatrix_migration-0.2.94.data/data/migration/discovery_migration/aws/nameless/main.tf
+Filename: dm/cleanuplib.cpython-39-darwin.so
 Comment: 
 
-Filename: aviatrix_migration-0.2.94.data/data/migration/discovery_migration/aws/nameless/providers.tf
+Filename: dm/aviatrix.cpython-39-darwin.so
 Comment: 
 
-Filename: aviatrix_migration-0.2.94.data/data/migration/discovery_migration/aws/nameless/subnet-associations.tf
+Filename: dm/logconf.cpython-39-darwin.so
 Comment: 
 
-Filename: aviatrix_migration-0.2.94.data/data/migration/discovery_migration/aws/nameless/terraform-import-associations.sh
+Filename: dm/iam_policy.cpython-39-darwin.so
 Comment: 
 
-Filename: aviatrix_migration-0.2.94.data/data/migration/discovery_migration/aws/nameless/terraform.tfvars
+Filename: dm/mgmt_quota.py
 Comment: 
 
-Filename: aviatrix_migration-0.2.94.data/data/migration/discovery_migration/aws/nameless/variables.tf
+Filename: dm/_delete_route.cpython-39-darwin.so
 Comment: 
 
-Filename: aviatrix_migration-0.2.94.data/data/migration/discovery_migration/aws/nameless/versions.tf
+Filename: dm/commonlib.cpython-39-darwin.so
 Comment: 
 
-Filename: aviatrix_migration-0.2.94.data/data/migration/discovery_migration/aws/nameless/vpc_id.tf
+Filename: dm/subnets.cpython-39-darwin.so
 Comment: 
 
-Filename: aviatrix_migration-0.2.94.data/data/migration/discovery_migration/aws/nameless/module_aws_brownfield_spoke_vpc/main-vpc-name.tf
+Filename: dm/configure_iam.py
 Comment: 
 
-Filename: aviatrix_migration-0.2.94.data/data/migration/discovery_migration/aws/nameless/module_aws_brownfield_spoke_vpc/main.tf
+Filename: dm/res/YamlNatPolicy.cpython-39-darwin.so
 Comment: 
 
-Filename: aviatrix_migration-0.2.94.data/data/migration/discovery_migration/aws/nameless/module_aws_brownfield_spoke_vpc/variables.tf
+Filename: dm/res/AviatrixProviderVersion.cpython-39-darwin.so
 Comment: 
 
-Filename: aviatrix_migration-0.2.94.data/data/migration/discovery_migration/aws/nameless/module_aws_brownfield_spoke_vpc/versions.tf
+Filename: dm/res/SpokeInfo.cpython-39-darwin.so
 Comment: 
 
-Filename: aviatrix_migration-0.2.94.data/data/migration/discovery_migration/azure-module-example/main.tf
+Filename: dm/res/NatPolicy.cpython-39-darwin.so
 Comment: 
 
-Filename: aviatrix_migration-0.2.94.data/data/migration/discovery_migration/azure-module-example/providers.tf
+Filename: dm/res/tgw.cpython-39-darwin.so
 Comment: 
 
-Filename: aviatrix_migration-0.2.94.data/data/migration/discovery_migration/azure-module-example/terraform.tfvars
+Filename: dm/res/RouteTableAzGroup.cpython-39-darwin.so
 Comment: 
 
-Filename: aviatrix_migration-0.2.94.data/data/migration/discovery_migration/azure-module-example/variables.tf
+Filename: dm/res/__init__.py
 Comment: 
 
-Filename: aviatrix_migration-0.2.94.data/data/migration/discovery_migration/azure-module-example/versions.tf
+Filename: dm/res/PeeringVpcInfo.cpython-39-darwin.so
 Comment: 
 
-Filename: aviatrix_migration-0.2.94.data/data/migration/discovery_migration/azure_data/input.json
+Filename: dm/res/VpcCidrInfo.cpython-39-darwin.so
 Comment: 
 
-Filename: aviatrix_migration-0.2.94.data/data/migration/discovery_migration/vnet_template/account.tf
+Filename: dm/res/Globals.cpython-39-darwin.so
 Comment: 
 
-Filename: aviatrix_migration-0.2.94.data/data/migration/discovery_migration/vnet_template/env.tf
+Filename: dm/res/Igw.cpython-39-darwin.so
 Comment: 
 
-Filename: aviatrix_migration-0.2.94.data/data/migration/discovery_migration/vnet_template/main.tf
+Filename: dm/res/SubnetAzInfo.cpython-39-darwin.so
 Comment: 
 
-Filename: aviatrix_migration-0.2.94.data/data/migration/discovery_migration/vnet_template/providers.tf
+Filename: dm/core/config.py
 Comment: 
 
-Filename: aviatrix_migration-0.2.94.data/data/migration/discovery_migration/vnet_template/subnet-associations.tf
+Filename: dm/core/AvtxCidrValidator.cpython-39-darwin.so
 Comment: 
 
-Filename: aviatrix_migration-0.2.94.data/data/migration/discovery_migration/vnet_template/terraform-import-associations.sh
+Filename: dm/core/ErrorStatusHandler.cpython-39-darwin.so
 Comment: 
 
-Filename: aviatrix_migration-0.2.94.data/data/migration/discovery_migration/vnet_template/terraform.tfvars
+Filename: dm/core/AppExitStatus.cpython-39-darwin.so
 Comment: 
 
-Filename: aviatrix_migration-0.2.94.data/data/migration/discovery_migration/vnet_template/variables.tf
+Filename: dm/core/__init__.py
 Comment: 
 
-Filename: aviatrix_migration-0.2.94.data/data/migration/discovery_migration/vnet_template/versions.tf
+Filename: dm/core/YamlContext.cpython-39-darwin.so
 Comment: 
 
-Filename: aviatrix_migration-0.2.94.data/data/migration/discovery_migration/vnet_template/vnet_id.tf
+Filename: dm/natgw_migration/__init__.py
 Comment: 
 
-Filename: aviatrix_migration-0.2.94.data/data/migration/discovery_migration/vnet_template/module_arm_brownfield_spoke_vnet/main.tf
+Filename: dm/natgw_migration/migrate_natgw.cpython-39-darwin.so
 Comment: 
 
-Filename: aviatrix_migration-0.2.94.data/data/migration/discovery_migration/vnet_template/module_arm_brownfield_spoke_vnet/variables.tf
+Filename: dm/natgw_migration/discover_natgw.cpython-39-darwin.so
 Comment: 
 
-Filename: aviatrix_migration-0.2.94.data/data/migration/discovery_migration/vnet_template/module_arm_brownfield_spoke_vnet/versions.tf
+Filename: dm/commands/SwitchTrafficCmd.cpython-39-darwin.so
 Comment: 
 
-Filename: aviatrix_migration-0.2.94.data/data/migration/discovery_migration/vpc_template/account.template
+Filename: dm/commands/__init__.py
 Comment: 
 
-Filename: aviatrix_migration-0.2.94.data/data/migration/discovery_migration/vpc_template/main-rtb-associations.tf
+Filename: dm/commands/CommandManager.cpython-39-darwin.so
 Comment: 
 
-Filename: aviatrix_migration-0.2.94.data/data/migration/discovery_migration/vpc_template/main.tf
+Filename: dm/commands/history.cpython-39-darwin.so
 Comment: 
 
-Filename: aviatrix_migration-0.2.94.data/data/migration/discovery_migration/vpc_template/providers.tf
+Filename: dm/commands/NatGwMigrationCmd.cpython-39-darwin.so
 Comment: 
 
-Filename: aviatrix_migration-0.2.94.data/data/migration/discovery_migration/vpc_template/subnet-associations.tf
+Filename: dm/arm/stagelib.cpython-39-darwin.so
 Comment: 
 
-Filename: aviatrix_migration-0.2.94.data/data/migration/discovery_migration/vpc_template/terraform-import-associations.sh
+Filename: dm/arm/_switch_traffic.cpython-39-darwin.so
 Comment: 
 
-Filename: aviatrix_migration-0.2.94.data/data/migration/discovery_migration/vpc_template/terraform.tfvars
+Filename: dm/arm/routetables.cpython-39-darwin.so
 Comment: 
 
-Filename: aviatrix_migration-0.2.94.data/data/migration/discovery_migration/vpc_template/variables.tf
+Filename: dm/arm/route.cpython-39-darwin.so
 Comment: 
 
-Filename: aviatrix_migration-0.2.94.data/data/migration/discovery_migration/vpc_template/versions.tf
+Filename: dm/arm/_mgmt_vnet_cidr.cpython-39-darwin.so
 Comment: 
 
-Filename: aviatrix_migration-0.2.94.data/data/migration/discovery_migration/vpc_template/vpc_id.tf
+Filename: dm/arm/terraform.cpython-39-darwin.so
 Comment: 
 
-Filename: aviatrix_migration-0.2.94.data/data/migration/discovery_migration/vpc_template/module_aws_brownfield_spoke_vpc/main-hex-cidr.tf
+Filename: dm/arm/alert.cpython-39-darwin.so
 Comment: 
 
-Filename: aviatrix_migration-0.2.94.data/data/migration/discovery_migration/vpc_template/module_aws_brownfield_spoke_vpc/main-vpc-name.tf
+Filename: dm/arm/_prestage.cpython-39-darwin.so
 Comment: 
 
-Filename: aviatrix_migration-0.2.94.data/data/migration/discovery_migration/vpc_template/module_aws_brownfield_spoke_vpc/variables.tf
+Filename: dm/arm/switchlib.cpython-39-darwin.so
 Comment: 
 
-Filename: aviatrix_migration-0.2.94.data/data/migration/discovery_migration/vpc_template/module_aws_brownfield_spoke_vpc/versions.tf
+Filename: dm/arm/discovery.py
 Comment: 
 
-Filename: dm/CrossCloudCommonLib.cp39-win_amd64.pyd
+Filename: dm/arm/_discovery.cpython-39-darwin.so
 Comment: 
 
-Filename: dm/__init__.py
+Filename: dm/arm/_cleanup.cpython-39-darwin.so
 Comment: 
 
-Filename: dm/_add_vpce_route.cp39-win_amd64.pyd
+Filename: dm/arm/switch_traffic.py
 Comment: 
 
-Filename: dm/_cleanup.cp39-win_amd64.pyd
+Filename: dm/arm/discoverylib.cpython-39-darwin.so
 Comment: 
 
-Filename: dm/_delete_peer_route.cp39-win_amd64.pyd
+Filename: dm/arm/__init__.py
 Comment: 
 
-Filename: dm/_delete_route.cp39-win_amd64.pyd
+Filename: dm/arm/subnet.cpython-39-darwin.so
 Comment: 
 
-Filename: dm/_discovery.cp39-win_amd64.pyd
+Filename: dm/arm/mgmt_vnet_cidr.py
 Comment: 
 
-Filename: dm/_mgmt_quota.cp39-win_amd64.pyd
+Filename: dm/arm/prestage.py
 Comment: 
 
-Filename: dm/_switch_traffic.cp39-win_amd64.pyd
+Filename: dm/arm/cleanup.py
 Comment: 
 
-Filename: dm/_tfhelper.cp39-win_amd64.pyd
+Filename: dm/arm/_stage.cpython-39-darwin.so
 Comment: 
 
-Filename: dm/add_vpce_route.py
+Filename: dm/arm/routetable.cpython-39-darwin.so
 Comment: 
 
-Filename: dm/aviatrix.cp39-win_amd64.pyd
+Filename: dm/arm/_add_avtx_cidr.cpython-39-darwin.so
 Comment: 
 
-Filename: dm/aws.cp39-win_amd64.pyd
+Filename: dm/arm/subs.cpython-39-darwin.so
 Comment: 
 
-Filename: dm/cleanup.py
+Filename: dm/arm/add_avtx_cidr.py
 Comment: 
 
-Filename: dm/cleanuplib.cp39-win_amd64.pyd
+Filename: dm/arm/_tfhelper.cpython-39-darwin.so
 Comment: 
 
-Filename: dm/commonlib.cp39-win_amd64.pyd
+Filename: dm/arm/vnetmgr.cpython-39-darwin.so
 Comment: 
 
-Filename: dm/configure_iam.py
+Filename: dm/arm/tfhelper.py
 Comment: 
 
-Filename: dm/delete_peer_route.py
+Filename: dm/arm/cleanuplib.cpython-39-darwin.so
 Comment: 
 
-Filename: dm/delete_route.py
+Filename: dm/arm/io.cpython-39-darwin.so
 Comment: 
 
-Filename: dm/discovery.py
+Filename: dm/arm/stage.py
 Comment: 
 
-Filename: dm/discoverylib.cp39-win_amd64.pyd
+Filename: dm/arm/aviatrix.cpython-39-darwin.so
 Comment: 
 
-Filename: dm/exceptions.cp39-win_amd64.pyd
+Filename: dm/arm/prestagelib.cpython-39-darwin.so
 Comment: 
 
-Filename: dm/iam_policy.cp39-win_amd64.pyd
+Filename: dm/arm/commonlib.cpython-39-darwin.so
 Comment: 
 
-Filename: dm/logconf.cp39-win_amd64.pyd
+Filename: dm/arm/subnets.cpython-39-darwin.so
 Comment: 
 
-Filename: dm/mgmt_quota.py
+Filename: dm/arm/imp/__init__.py
 Comment: 
 
-Filename: dm/peeringlib.cp39-win_amd64.pyd
+Filename: dm/arm/imp/VnetCidrMgmtImp.cpython-39-darwin.so
 Comment: 
 
-Filename: dm/route.cp39-win_amd64.pyd
+Filename: dm/arm/res/VWanMgmt.cpython-39-darwin.so
 Comment: 
 
-Filename: dm/routetable.cp39-win_amd64.pyd
+Filename: dm/arm/res/Globals.cpython-39-darwin.so
 Comment: 
 
-Filename: dm/routetables.cp39-win_amd64.pyd
+Filename: dm/arm/res/RouteTableMgmtResponse.cpython-39-darwin.so
 Comment: 
 
-Filename: dm/subnet.cp39-win_amd64.pyd
+Filename: dm/arm/res/YamlContext.cpython-39-darwin.so
 Comment: 
 
-Filename: dm/subnets.cp39-win_amd64.pyd
+Filename: dm/arm/core/config.py
 Comment: 
 
-Filename: dm/switch_traffic.py
+Filename: dm/arm/core/__init__.py
 Comment: 
 
-Filename: dm/switchlib.cp39-win_amd64.pyd
+Filename: dm/arm/inf/__init__.py
 Comment: 
 
-Filename: dm/terraform.cp39-win_amd64.pyd
+Filename: dm/arm/inf/VnetCidrMgmtInf.cpython-39-darwin.so
 Comment: 
 
-Filename: dm/tfhelper.py
+Filename: dm/arm/lib/vnet_utils.cpython-39-darwin.so
 Comment: 
 
-Filename: dm/arm/__init__.py
+Filename: dm/arm/lib/subnet_groups.cpython-39-darwin.so
 Comment: 
 
-Filename: dm/arm/_add_avtx_cidr.cp39-win_amd64.pyd
+Filename: dm/arm/lib/__init__.py
 Comment: 
 
-Filename: dm/arm/_cleanup.cp39-win_amd64.pyd
+Filename: dm/arm/lib/arm_utils.cpython-39-darwin.so
 Comment: 
 
-Filename: dm/arm/_discovery.cp39-win_amd64.pyd
+Filename: aviatrix_migration-0.2.95.data/data/migration/discovery_migration/azure_requirements.txt
 Comment: 
 
-Filename: dm/arm/_mgmt_vnet_cidr.cp39-win_amd64.pyd
+Filename: aviatrix_migration-0.2.95.data/data/migration/discovery_migration/aws_requirements.txt
 Comment: 
 
-Filename: dm/arm/_prestage.cp39-win_amd64.pyd
+Filename: aviatrix_migration-0.2.95.data/data/migration/discovery_migration/vnet_template/vnet_id.tf
 Comment: 
 
-Filename: dm/arm/_stage.cp39-win_amd64.pyd
+Filename: aviatrix_migration-0.2.95.data/data/migration/discovery_migration/vnet_template/account.tf
 Comment: 
 
-Filename: dm/arm/_switch_traffic.cp39-win_amd64.pyd
+Filename: aviatrix_migration-0.2.95.data/data/migration/discovery_migration/vnet_template/main.tf
 Comment: 
 
-Filename: dm/arm/_tfhelper.cp39-win_amd64.pyd
+Filename: aviatrix_migration-0.2.95.data/data/migration/discovery_migration/vnet_template/versions.tf
 Comment: 
 
-Filename: dm/arm/add_avtx_cidr.py
+Filename: aviatrix_migration-0.2.95.data/data/migration/discovery_migration/vnet_template/subnet-associations.tf
 Comment: 
 
-Filename: dm/arm/alert.cp39-win_amd64.pyd
+Filename: aviatrix_migration-0.2.95.data/data/migration/discovery_migration/vnet_template/terraform.tfvars
 Comment: 
 
-Filename: dm/arm/aviatrix.cp39-win_amd64.pyd
+Filename: aviatrix_migration-0.2.95.data/data/migration/discovery_migration/vnet_template/providers.tf
 Comment: 
 
-Filename: dm/arm/cleanup.py
+Filename: aviatrix_migration-0.2.95.data/data/migration/discovery_migration/vnet_template/terraform-import-associations.sh
 Comment: 
 
-Filename: dm/arm/cleanuplib.cp39-win_amd64.pyd
+Filename: aviatrix_migration-0.2.95.data/data/migration/discovery_migration/vnet_template/variables.tf
 Comment: 
 
-Filename: dm/arm/commonlib.cp39-win_amd64.pyd
+Filename: aviatrix_migration-0.2.95.data/data/migration/discovery_migration/vnet_template/env.tf
 Comment: 
 
-Filename: dm/arm/discovery.py
+Filename: aviatrix_migration-0.2.95.data/data/migration/discovery_migration/vnet_template/module_arm_brownfield_spoke_vnet/main.tf
 Comment: 
 
-Filename: dm/arm/discoverylib.cp39-win_amd64.pyd
+Filename: aviatrix_migration-0.2.95.data/data/migration/discovery_migration/vnet_template/module_arm_brownfield_spoke_vnet/versions.tf
 Comment: 
 
-Filename: dm/arm/io.cp39-win_amd64.pyd
+Filename: aviatrix_migration-0.2.95.data/data/migration/discovery_migration/vnet_template/module_arm_brownfield_spoke_vnet/variables.tf
 Comment: 
 
-Filename: dm/arm/mgmt_vnet_cidr.py
+Filename: aviatrix_migration-0.2.95.data/data/migration/discovery_migration/azure-module-example/main.tf
 Comment: 
 
-Filename: dm/arm/prestage.py
+Filename: aviatrix_migration-0.2.95.data/data/migration/discovery_migration/azure-module-example/versions.tf
 Comment: 
 
-Filename: dm/arm/prestagelib.cp39-win_amd64.pyd
+Filename: aviatrix_migration-0.2.95.data/data/migration/discovery_migration/azure-module-example/terraform.tfvars
 Comment: 
 
-Filename: dm/arm/route.cp39-win_amd64.pyd
+Filename: aviatrix_migration-0.2.95.data/data/migration/discovery_migration/azure-module-example/providers.tf
 Comment: 
 
-Filename: dm/arm/routetable.cp39-win_amd64.pyd
+Filename: aviatrix_migration-0.2.95.data/data/migration/discovery_migration/azure-module-example/variables.tf
 Comment: 
 
-Filename: dm/arm/routetables.cp39-win_amd64.pyd
+Filename: aviatrix_migration-0.2.95.data/data/migration/discovery_migration/vpc_template/main-rtb-associations.tf
 Comment: 
 
-Filename: dm/arm/stage.py
+Filename: aviatrix_migration-0.2.95.data/data/migration/discovery_migration/vpc_template/main.tf
 Comment: 
 
-Filename: dm/arm/stagelib.cp39-win_amd64.pyd
+Filename: aviatrix_migration-0.2.95.data/data/migration/discovery_migration/vpc_template/versions.tf
 Comment: 
 
-Filename: dm/arm/subnet.cp39-win_amd64.pyd
+Filename: aviatrix_migration-0.2.95.data/data/migration/discovery_migration/vpc_template/subnet-associations.tf
 Comment: 
 
-Filename: dm/arm/subnets.cp39-win_amd64.pyd
+Filename: aviatrix_migration-0.2.95.data/data/migration/discovery_migration/vpc_template/terraform.tfvars
 Comment: 
 
-Filename: dm/arm/subs.cp39-win_amd64.pyd
+Filename: aviatrix_migration-0.2.95.data/data/migration/discovery_migration/vpc_template/account.template
 Comment: 
 
-Filename: dm/arm/switch_traffic.py
+Filename: aviatrix_migration-0.2.95.data/data/migration/discovery_migration/vpc_template/providers.tf
 Comment: 
 
-Filename: dm/arm/switchlib.cp39-win_amd64.pyd
+Filename: aviatrix_migration-0.2.95.data/data/migration/discovery_migration/vpc_template/vpc_id.tf
 Comment: 
 
-Filename: dm/arm/terraform.cp39-win_amd64.pyd
+Filename: aviatrix_migration-0.2.95.data/data/migration/discovery_migration/vpc_template/terraform-import-associations.sh
 Comment: 
 
-Filename: dm/arm/tfhelper.py
+Filename: aviatrix_migration-0.2.95.data/data/migration/discovery_migration/vpc_template/variables.tf
 Comment: 
 
-Filename: dm/arm/vnetmgr.cp39-win_amd64.pyd
+Filename: aviatrix_migration-0.2.95.data/data/migration/discovery_migration/vpc_template/module_aws_brownfield_spoke_vpc/versions.tf
 Comment: 
 
-Filename: dm/arm/core/__init__.py
+Filename: aviatrix_migration-0.2.95.data/data/migration/discovery_migration/vpc_template/module_aws_brownfield_spoke_vpc/variables.tf
 Comment: 
 
-Filename: dm/arm/core/config.py
+Filename: aviatrix_migration-0.2.95.data/data/migration/discovery_migration/vpc_template/module_aws_brownfield_spoke_vpc/main-hex-cidr.tf
 Comment: 
 
-Filename: dm/arm/imp/VnetCidrMgmtImp.cp39-win_amd64.pyd
+Filename: aviatrix_migration-0.2.95.data/data/migration/discovery_migration/vpc_template/module_aws_brownfield_spoke_vpc/main-vpc-name.tf
 Comment: 
 
-Filename: dm/arm/imp/__init__.py
+Filename: aviatrix_migration-0.2.95.data/data/migration/discovery_migration/aws/nameless/main-rtb-associations.tf
 Comment: 
 
-Filename: dm/arm/inf/VnetCidrMgmtInf.cp39-win_amd64.pyd
+Filename: aviatrix_migration-0.2.95.data/data/migration/discovery_migration/aws/nameless/main.tf
 Comment: 
 
-Filename: dm/arm/inf/__init__.py
+Filename: aviatrix_migration-0.2.95.data/data/migration/discovery_migration/aws/nameless/versions.tf
 Comment: 
 
-Filename: dm/arm/lib/__init__.py
+Filename: aviatrix_migration-0.2.95.data/data/migration/discovery_migration/aws/nameless/subnet-associations.tf
 Comment: 
 
-Filename: dm/arm/lib/arm_utils.cp39-win_amd64.pyd
+Filename: aviatrix_migration-0.2.95.data/data/migration/discovery_migration/aws/nameless/terraform.tfvars
 Comment: 
 
-Filename: dm/arm/lib/subnet_groups.cp39-win_amd64.pyd
+Filename: aviatrix_migration-0.2.95.data/data/migration/discovery_migration/aws/nameless/account.template
 Comment: 
 
-Filename: dm/arm/lib/vnet_utils.cp39-win_amd64.pyd
+Filename: aviatrix_migration-0.2.95.data/data/migration/discovery_migration/aws/nameless/providers.tf
 Comment: 
 
-Filename: dm/arm/res/Globals.cp39-win_amd64.pyd
+Filename: aviatrix_migration-0.2.95.data/data/migration/discovery_migration/aws/nameless/vpc_id.tf
 Comment: 
 
-Filename: dm/arm/res/RouteTableMgmtResponse.cp39-win_amd64.pyd
+Filename: aviatrix_migration-0.2.95.data/data/migration/discovery_migration/aws/nameless/terraform-import-associations.sh
 Comment: 
 
-Filename: dm/arm/res/VWanMgmt.cp39-win_amd64.pyd
+Filename: aviatrix_migration-0.2.95.data/data/migration/discovery_migration/aws/nameless/variables.tf
 Comment: 
 
-Filename: dm/arm/res/YamlContext.cp39-win_amd64.pyd
+Filename: aviatrix_migration-0.2.95.data/data/migration/discovery_migration/aws/nameless/module_aws_brownfield_spoke_vpc/main.tf
 Comment: 
 
-Filename: dm/commands/CommandManager.cp39-win_amd64.pyd
+Filename: aviatrix_migration-0.2.95.data/data/migration/discovery_migration/aws/nameless/module_aws_brownfield_spoke_vpc/versions.tf
 Comment: 
 
-Filename: dm/commands/NatGwMigrationCmd.cp39-win_amd64.pyd
+Filename: aviatrix_migration-0.2.95.data/data/migration/discovery_migration/aws/nameless/module_aws_brownfield_spoke_vpc/variables.tf
 Comment: 
 
-Filename: dm/commands/SwitchTrafficCmd.cp39-win_amd64.pyd
+Filename: aviatrix_migration-0.2.95.data/data/migration/discovery_migration/aws/nameless/module_aws_brownfield_spoke_vpc/main-vpc-name.tf
 Comment: 
 
-Filename: dm/commands/__init__.py
+Filename: aviatrix_migration-0.2.95.data/data/migration/discovery_migration/aws/generic/main-rtb-associations.tf
 Comment: 
 
-Filename: dm/commands/history.cp39-win_amd64.pyd
+Filename: aviatrix_migration-0.2.95.data/data/migration/discovery_migration/aws/generic/main.tf
 Comment: 
 
-Filename: dm/core/AppExitStatus.cp39-win_amd64.pyd
+Filename: aviatrix_migration-0.2.95.data/data/migration/discovery_migration/aws/generic/versions.tf
 Comment: 
 
-Filename: dm/core/AvtxCidrValidator.cp39-win_amd64.pyd
+Filename: aviatrix_migration-0.2.95.data/data/migration/discovery_migration/aws/generic/subnet-associations.tf
 Comment: 
 
-Filename: dm/core/ErrorStatusHandler.cp39-win_amd64.pyd
+Filename: aviatrix_migration-0.2.95.data/data/migration/discovery_migration/aws/generic/terraform.tfvars
 Comment: 
 
-Filename: dm/core/YamlContext.cp39-win_amd64.pyd
+Filename: aviatrix_migration-0.2.95.data/data/migration/discovery_migration/aws/generic/account.template
 Comment: 
 
-Filename: dm/core/__init__.py
+Filename: aviatrix_migration-0.2.95.data/data/migration/discovery_migration/aws/generic/providers.tf
 Comment: 
 
-Filename: dm/core/config.py
+Filename: aviatrix_migration-0.2.95.data/data/migration/discovery_migration/aws/generic/vpc_id.tf
 Comment: 
 
-Filename: dm/natgw_migration/__init__.py
+Filename: aviatrix_migration-0.2.95.data/data/migration/discovery_migration/aws/generic/terraform-import-associations.sh
 Comment: 
 
-Filename: dm/natgw_migration/discover_natgw.cp39-win_amd64.pyd
+Filename: aviatrix_migration-0.2.95.data/data/migration/discovery_migration/aws/generic/variables.tf
 Comment: 
 
-Filename: dm/natgw_migration/migrate_natgw.cp39-win_amd64.pyd
+Filename: aviatrix_migration-0.2.95.data/data/migration/discovery_migration/aws/generic/module_aws_brownfield_spoke_vpc/versions.tf
 Comment: 
 
-Filename: dm/res/AviatrixProviderVersion.cp39-win_amd64.pyd
+Filename: aviatrix_migration-0.2.95.data/data/migration/discovery_migration/aws/generic/module_aws_brownfield_spoke_vpc/variables.tf
 Comment: 
 
-Filename: dm/res/Globals.cp39-win_amd64.pyd
+Filename: aviatrix_migration-0.2.95.data/data/migration/discovery_migration/aws/generic/module_aws_brownfield_spoke_vpc/main-vpc-name.tf
 Comment: 
 
-Filename: dm/res/Igw.cp39-win_amd64.pyd
+Filename: aviatrix_migration-0.2.95.data/data/migration/discovery_migration/aws/combined/main-rtb-associations.tf
 Comment: 
 
-Filename: dm/res/NatPolicy.cp39-win_amd64.pyd
+Filename: aviatrix_migration-0.2.95.data/data/migration/discovery_migration/aws/combined/main.tf
 Comment: 
 
-Filename: dm/res/PeeringVpcInfo.cp39-win_amd64.pyd
+Filename: aviatrix_migration-0.2.95.data/data/migration/discovery_migration/aws/combined/versions.tf
 Comment: 
 
-Filename: dm/res/RouteTableAzGroup.cp39-win_amd64.pyd
+Filename: aviatrix_migration-0.2.95.data/data/migration/discovery_migration/aws/combined/subnet-associations.tf
 Comment: 
 
-Filename: dm/res/SpokeInfo.cp39-win_amd64.pyd
+Filename: aviatrix_migration-0.2.95.data/data/migration/discovery_migration/aws/combined/terraform.tfvars
 Comment: 
 
-Filename: dm/res/SubnetAzInfo.cp39-win_amd64.pyd
+Filename: aviatrix_migration-0.2.95.data/data/migration/discovery_migration/aws/combined/account.template
 Comment: 
 
-Filename: dm/res/VpcCidrInfo.cp39-win_amd64.pyd
+Filename: aviatrix_migration-0.2.95.data/data/migration/discovery_migration/aws/combined/providers.tf
 Comment: 
 
-Filename: dm/res/YamlNatPolicy.cp39-win_amd64.pyd
+Filename: aviatrix_migration-0.2.95.data/data/migration/discovery_migration/aws/combined/dmhelp.sh
 Comment: 
 
-Filename: dm/res/__init__.py
+Filename: aviatrix_migration-0.2.95.data/data/migration/discovery_migration/aws/combined/vpc_id.tf
 Comment: 
 
-Filename: dm/res/tgw.cp39-win_amd64.pyd
+Filename: aviatrix_migration-0.2.95.data/data/migration/discovery_migration/aws/combined/terraform-import-associations.sh
 Comment: 
 
-Filename: aviatrix_migration-0.2.94.dist-info/METADATA
+Filename: aviatrix_migration-0.2.95.data/data/migration/discovery_migration/aws/combined/variables.tf
 Comment: 
 
-Filename: aviatrix_migration-0.2.94.dist-info/WHEEL
+Filename: aviatrix_migration-0.2.95.data/data/migration/discovery_migration/aws/combined/module_aws_brownfield_spoke_vpc/main.tf
 Comment: 
 
-Filename: aviatrix_migration-0.2.94.dist-info/entry_points.txt
+Filename: aviatrix_migration-0.2.95.data/data/migration/discovery_migration/aws/combined/module_aws_brownfield_spoke_vpc/versions.tf
 Comment: 
 
-Filename: aviatrix_migration-0.2.94.dist-info/top_level.txt
+Filename: aviatrix_migration-0.2.95.data/data/migration/discovery_migration/aws/combined/module_aws_brownfield_spoke_vpc/variables.tf
 Comment: 
 
-Filename: aviatrix_migration-0.2.94.dist-info/RECORD
+Filename: aviatrix_migration-0.2.95.data/data/migration/discovery_migration/azure_data/input.json
 Comment: 
 
 Zip file comment:
```

## dm/add_vpce_route.py

 * *Ordering differences only*

```diff
@@ -1,7 +1,7 @@
-#!/usr/bin/env python3
-# -*- coding: utf-8 -*-
-
-from dm._add_vpce_route import *  # noqa: F403
-
-if __name__ == "__main__":
-    main()  # noqa: F405
+#!/usr/bin/env python3
+# -*- coding: utf-8 -*-
+
+from dm._add_vpce_route import *  # noqa: F403
+
+if __name__ == "__main__":
+    main()  # noqa: F405
```

## dm/cleanup.py

 * *Ordering differences only*

```diff
@@ -1,7 +1,7 @@
-#!/usr/bin/env python3
-# -*- coding: utf-8 -*-
-
-from dm._cleanup import *  # noqa: F403
-
-if __name__ == "__main__":
-    main()  # noqa: F405
+#!/usr/bin/env python3
+# -*- coding: utf-8 -*-
+
+from dm._cleanup import *  # noqa: F403
+
+if __name__ == "__main__":
+    main()  # noqa: F405
```

## dm/configure_iam.py

 * *Ordering differences only*

```diff
@@ -1,119 +1,119 @@
-#!/usr/bin/env python3
-# -*- coding: utf-8 -*-
-import argparse
-import logging
-import logging.config
-import pathlib
-import sys
-from pprint import pformat
-
-from dm.commonlib import Common as common
-from dm.core.AppExitStatus import AppExitStatus
-from dm.iam_policy import IAMService
-
-log = logging.getLogger(__name__)
-
-
-MIGRATION_PERMISSIONS_SID = "TemporaryMigrationPermissions"
-MIGRATION_PERMISSIONS = {
-    "Sid": MIGRATION_PERMISSIONS_SID,
-    "Effect": "Allow",
-    "Action": [
-        "ec2:ModifyVpcEndpoint",
-        "ec2:DescribeTransitGatewayVpcAttachments",
-        "ec2:GetTransitGatewayAttachmentPropagations",
-        "ec2:ReplaceRouteTableAssociation",
-        "ec2:DisassociateVpcCidrBlock",
-        "ec2:DisassociateSubnetCidrBlock",
-        "ec2:DetachVpnGateway",
-        "ec2:DeleteVpnGateway",
-        "directconnect:DeleteVirtualInterface",
-    ],
-    "Resource": "*",
-}
-
-
-def setup(args, account_data):
-    logconf = common.initLogLocation(account_data).logging_config
-    logconf["handlers"]["consoleHandler"]["level"] = logging.INFO
-    if args.verbose:
-        logconf["handlers"]["consoleHandler"]["level"] = logging.DEBUG
-        logconf["handlers"]["logConsoleHandler"]["level"] = logging.DEBUG
-    logging.config.dictConfig(logconf)
-
-    iargs = " ".join(sys.argv[1:])
-    common.logCommandOptions(f"dm.configure_iam {iargs}")
-    log.debug("Called with args: \n%s", pformat(vars(args)))
-
-
-def handle_add(args):
-    accounts_data = common.convert_yaml_to_json(args.discovery_config)
-    setup(args, accounts_data)
-
-    for account in accounts_data["account_info"]:
-        account_iam = IAMService(account)
-        succeeded = account_iam.add_permissions(
-            MIGRATION_PERMISSIONS, delete_oldest=args.force
-        )
-        if not succeeded and args.fail_fast:
-            return
-
-
-def handle_rm(args):
-    accounts_data = common.convert_yaml_to_json(args.discovery_config)
-    setup(args, accounts_data)
-
-    for account in accounts_data["account_info"]:
-        account_iam = IAMService(account)
-        succeeded = account_iam.remove_permissions(
-            MIGRATION_PERMISSIONS_SID, delete_oldest=args.force
-        )
-        if not succeeded and args.fail_fast:
-            return
-
-
-def main():
-    parser = argparse.ArgumentParser(description="Update IAM policies")
-    subparsers = parser.add_subparsers()
-
-    parser_add = subparsers.add_parser(
-        "add", help="Add required IAM permissions policy."
-    )
-    parser_add.set_defaults(handle=handle_add)
-
-    parser_rm = subparsers.add_parser(
-        "remove",
-        aliases=["rm"],
-        help="Remove previously added IAM permissions policy.",
-    )
-    parser_rm.set_defaults(handle=handle_rm)
-
-    parser.add_argument("discovery_config", action="store", type=pathlib.Path)
-    parser.add_argument(
-        "--force",
-        "-f",
-        action="store_true",
-        default=False,
-        help="Delete oldest policy if max number of policies exceeded.",
-    )
-    parser.add_argument(
-        "--fail-fast",
-        action="store_true",
-        default=False,
-        help="Exit immediately on error.",
-    )
-    parser.add_argument(
-        "--verbose",
-        "-v",
-        action="store_true",
-        default=False,
-        help="Increase verbosity of the configure_iam script.",
-    )
-
-    args = parser.parse_args()
-    args.handle(args)
-    sys.exit(AppExitStatus().getStatus())
-
-
-if __name__ == "__main__":
-    main()
+#!/usr/bin/env python3
+# -*- coding: utf-8 -*-
+import argparse
+import logging
+import logging.config
+import pathlib
+import sys
+from pprint import pformat
+
+from dm.commonlib import Common as common
+from dm.core.AppExitStatus import AppExitStatus
+from dm.iam_policy import IAMService
+
+log = logging.getLogger(__name__)
+
+
+MIGRATION_PERMISSIONS_SID = "TemporaryMigrationPermissions"
+MIGRATION_PERMISSIONS = {
+    "Sid": MIGRATION_PERMISSIONS_SID,
+    "Effect": "Allow",
+    "Action": [
+        "ec2:ModifyVpcEndpoint",
+        "ec2:DescribeTransitGatewayVpcAttachments",
+        "ec2:GetTransitGatewayAttachmentPropagations",
+        "ec2:ReplaceRouteTableAssociation",
+        "ec2:DisassociateVpcCidrBlock",
+        "ec2:DisassociateSubnetCidrBlock",
+        "ec2:DetachVpnGateway",
+        "ec2:DeleteVpnGateway",
+        "directconnect:DeleteVirtualInterface",
+    ],
+    "Resource": "*",
+}
+
+
+def setup(args, account_data):
+    logconf = common.initLogLocation(account_data).logging_config
+    logconf["handlers"]["consoleHandler"]["level"] = logging.INFO
+    if args.verbose:
+        logconf["handlers"]["consoleHandler"]["level"] = logging.DEBUG
+        logconf["handlers"]["logConsoleHandler"]["level"] = logging.DEBUG
+    logging.config.dictConfig(logconf)
+
+    iargs = " ".join(sys.argv[1:])
+    common.logCommandOptions(f"dm.configure_iam {iargs}")
+    log.debug("Called with args: \n%s", pformat(vars(args)))
+
+
+def handle_add(args):
+    accounts_data = common.convert_yaml_to_json(args.discovery_config)
+    setup(args, accounts_data)
+
+    for account in accounts_data["account_info"]:
+        account_iam = IAMService(account)
+        succeeded = account_iam.add_permissions(
+            MIGRATION_PERMISSIONS, delete_oldest=args.force
+        )
+        if not succeeded and args.fail_fast:
+            return
+
+
+def handle_rm(args):
+    accounts_data = common.convert_yaml_to_json(args.discovery_config)
+    setup(args, accounts_data)
+
+    for account in accounts_data["account_info"]:
+        account_iam = IAMService(account)
+        succeeded = account_iam.remove_permissions(
+            MIGRATION_PERMISSIONS_SID, delete_oldest=args.force
+        )
+        if not succeeded and args.fail_fast:
+            return
+
+
+def main():
+    parser = argparse.ArgumentParser(description="Update IAM policies")
+    subparsers = parser.add_subparsers()
+
+    parser_add = subparsers.add_parser(
+        "add", help="Add required IAM permissions policy."
+    )
+    parser_add.set_defaults(handle=handle_add)
+
+    parser_rm = subparsers.add_parser(
+        "remove",
+        aliases=["rm"],
+        help="Remove previously added IAM permissions policy.",
+    )
+    parser_rm.set_defaults(handle=handle_rm)
+
+    parser.add_argument("discovery_config", action="store", type=pathlib.Path)
+    parser.add_argument(
+        "--force",
+        "-f",
+        action="store_true",
+        default=False,
+        help="Delete oldest policy if max number of policies exceeded.",
+    )
+    parser.add_argument(
+        "--fail-fast",
+        action="store_true",
+        default=False,
+        help="Exit immediately on error.",
+    )
+    parser.add_argument(
+        "--verbose",
+        "-v",
+        action="store_true",
+        default=False,
+        help="Increase verbosity of the configure_iam script.",
+    )
+
+    args = parser.parse_args()
+    args.handle(args)
+    sys.exit(AppExitStatus().getStatus())
+
+
+if __name__ == "__main__":
+    main()
```

## dm/delete_peer_route.py

 * *Ordering differences only*

```diff
@@ -1,7 +1,7 @@
-#!/usr/bin/python3
-# -*- coding: utf-8 -*-
-
-from dm._delete_peer_route import *  # noqa: F403
-
-if __name__ == "__main__":
-    main()  # noqa: F405
+#!/usr/bin/python3
+# -*- coding: utf-8 -*-
+
+from dm._delete_peer_route import *  # noqa: F403
+
+if __name__ == "__main__":
+    main()  # noqa: F405
```

## dm/delete_route.py

 * *Ordering differences only*

```diff
@@ -1,7 +1,7 @@
-#!/usr/bin/env python3
-# -*- coding: utf-8 -*-
-
-from dm._delete_route import *  # noqa: F403
-
-if __name__ == "__main__":
-    main()  # noqa: F405
+#!/usr/bin/env python3
+# -*- coding: utf-8 -*-
+
+from dm._delete_route import *  # noqa: F403
+
+if __name__ == "__main__":
+    main()  # noqa: F405
```

## dm/discovery.py

 * *Ordering differences only*

```diff
@@ -1,7 +1,7 @@
-#!/usr/bin/python3
-# -*- coding: utf-8 -*-
-
-from dm._discovery import *  # noqa: F403
-
-if __name__ == "__main__":
-    main()  # noqa: F405
+#!/usr/bin/python3
+# -*- coding: utf-8 -*-
+
+from dm._discovery import *  # noqa: F403
+
+if __name__ == "__main__":
+    main()  # noqa: F405
```

## dm/mgmt_quota.py

 * *Ordering differences only*

```diff
@@ -1,7 +1,7 @@
-#!/usr/bin/env python3
-# -*- coding: utf-8 -*-
-
-from dm._mgmt_quota import *  # noqa: F403
-
-if __name__ == "__main__":
-    main()  # noqa: F405
+#!/usr/bin/env python3
+# -*- coding: utf-8 -*-
+
+from dm._mgmt_quota import *  # noqa: F403
+
+if __name__ == "__main__":
+    main()  # noqa: F405
```

## dm/switch_traffic.py

 * *Ordering differences only*

```diff
@@ -1,7 +1,7 @@
-#!/usr/bin/python3
-# -*- coding: utf-8 -*-
-
-from dm._switch_traffic import *  # noqa: F403
-
-if __name__ == "__main__":
-    main()  # noqa: F405
+#!/usr/bin/python3
+# -*- coding: utf-8 -*-
+
+from dm._switch_traffic import *  # noqa: F403
+
+if __name__ == "__main__":
+    main()  # noqa: F405
```

## dm/tfhelper.py

 * *Ordering differences only*

```diff
@@ -1,7 +1,7 @@
-#!/usr/bin/python3
-# -*- coding: utf-8 -*-
-
-from dm._tfhelper import *  # noqa: F403
-
-if __name__ == "__main__":
+#!/usr/bin/python3
+# -*- coding: utf-8 -*-
+
+from dm._tfhelper import *  # noqa: F403
+
+if __name__ == "__main__":
     main()  # noqa: F405
```

## dm/arm/add_avtx_cidr.py

 * *Ordering differences only*

```diff
@@ -1,7 +1,7 @@
-#!/usr/bin/python3
-# -*- coding: utf-8 -*-
-
-from dm.arm._add_avtx_cidr import *  # noqa: F403
-
-if __name__ == "__main__":
-    main()  # noqa: F405
+#!/usr/bin/python3
+# -*- coding: utf-8 -*-
+
+from dm.arm._add_avtx_cidr import *  # noqa: F403
+
+if __name__ == "__main__":
+    main()  # noqa: F405
```

## dm/arm/cleanup.py

 * *Ordering differences only*

```diff
@@ -1,6 +1,6 @@
-#!/usr/bin/python3
-# -*- coding: utf-8 -*-
-from dm.arm._cleanup import *  # noqa: F403
-
-if __name__ == "__main__":
-    main()  # noqa: F405
+#!/usr/bin/python3
+# -*- coding: utf-8 -*-
+from dm.arm._cleanup import *  # noqa: F403
+
+if __name__ == "__main__":
+    main()  # noqa: F405
```

## dm/arm/discovery.py

 * *Ordering differences only*

```diff
@@ -1,6 +1,6 @@
-#!/usr/bin/python3
-# -*- coding: utf-8 -*-
-from dm.arm._discovery import *  # noqa: F403
-
-if __name__ == "__main__":
-    main()  # noqa: F405
+#!/usr/bin/python3
+# -*- coding: utf-8 -*-
+from dm.arm._discovery import *  # noqa: F403
+
+if __name__ == "__main__":
+    main()  # noqa: F405
```

## dm/arm/mgmt_vnet_cidr.py

 * *Ordering differences only*

```diff
@@ -1,7 +1,7 @@
-#!/usr/bin/python3
-# -*- coding: utf-8 -*-
-
-from dm.arm._mgmt_vnet_cidr import *  # noqa: F403
-
-if __name__ == "__main__":
-    main()  # noqa: F405
+#!/usr/bin/python3
+# -*- coding: utf-8 -*-
+
+from dm.arm._mgmt_vnet_cidr import *  # noqa: F403
+
+if __name__ == "__main__":
+    main()  # noqa: F405
```

## dm/arm/prestage.py

 * *Ordering differences only*

```diff
@@ -1,6 +1,6 @@
-#!/usr/bin/python3
-# -*- coding: utf-8 -*-
-from dm.arm._prestage import *  # noqa: F403
-
-if __name__ == "__main__":
-    main()  # noqa: F405
+#!/usr/bin/python3
+# -*- coding: utf-8 -*-
+from dm.arm._prestage import *  # noqa: F403
+
+if __name__ == "__main__":
+    main()  # noqa: F405
```

## dm/arm/stage.py

 * *Ordering differences only*

```diff
@@ -1,7 +1,7 @@
-#!/usr/bin/python3
-# -*- coding: utf-8 -*-
-
-from dm.arm._stage import *  # noqa: F403
-
-if __name__ == "__main__":
-    main()  # noqa: F405
+#!/usr/bin/python3
+# -*- coding: utf-8 -*-
+
+from dm.arm._stage import *  # noqa: F403
+
+if __name__ == "__main__":
+    main()  # noqa: F405
```

## dm/arm/switch_traffic.py

 * *Ordering differences only*

```diff
@@ -1,6 +1,6 @@
-#!/usr/bin/python3
-# -*- coding: utf-8 -*-
-from dm.arm._switch_traffic import *  # noqa: F403
-
-if __name__ == "__main__":
-    main()  # noqa: F405
+#!/usr/bin/python3
+# -*- coding: utf-8 -*-
+from dm.arm._switch_traffic import *  # noqa: F403
+
+if __name__ == "__main__":
+    main()  # noqa: F405
```

## dm/arm/tfhelper.py

 * *Ordering differences only*

```diff
@@ -1,7 +1,7 @@
-#!/usr/bin/python3
-# -*- coding: utf-8 -*-
-
-from dm.arm._tfhelper import *  # noqa: F403
-
-if __name__ == "__main__":
+#!/usr/bin/python3
+# -*- coding: utf-8 -*-
+
+from dm.arm._tfhelper import *  # noqa: F403
+
+if __name__ == "__main__":
     main()  # noqa: F405
```

## dm/arm/core/config.py

 * *Ordering differences only*

```diff
@@ -1,573 +1,573 @@
-# -*- coding: utf-8 -*-
-"""Configuration options for Azure discovery migration."""
-import ipaddress
-import json
-import pathlib
-import typing as t
-
-import yaml
-from pydantic import constr  # Constrained string type.
-from pydantic import Field, ValidationError, root_validator, validator
-
-from dm.core.config import BackupConfig, CIDRList, Tags, _BaseModel, _str
-from dm.res.AviatrixProviderVersion import AviatrixProviderVersion
-from dm.arm.res.Globals import Globals
-
-if not hasattr(t, "Literal"):
-    from typing_extensions import Literal
-
-    t.Literal = Literal
-
-
-AzureRegionName = t.Literal[
-    "westus",
-    "eastus",
-    "centralus",
-    "westus2",
-    "northeurope",
-    "westeurope",
-    "southeastasia",
-    "japaneast",
-    "chinaeast2",
-    "chinanorth2",
-]
-CleanupResources = t.Literal[
-    "PEERING",
-    "VNG_ER",
-]
-
-
-def _default_network() -> CIDRList:
-    return [ipaddress.IPv4Network("0.0.0.0/0")]
-
-
-class TfControllerAccessConfig(_BaseModel):
-    """
-    Attributes:
-        mode: if "ENV" is used, AVIATRIX_USERNAME and AVIATRIX_PASSWORD should be set for terraform use.
-    """
-
-    alias: _str = "us_west_2"
-    mode: t.Literal["ENV", "SSM"] = "ENV"
-    region: _str = "us-west-2"
-    password_store: _str = "avx-admin-password"
-    ssm_role: _str = ""
-    username: _str = "admin"
-    account_id: constr(strip_whitespace=True, regex=r"^[0-9]*$") = ""
-
-    @root_validator(pre=True)
-    def check_mode(cls, values):
-        """
-        Avoid confusion, do not allow other attributes if ENV is used.
-        """
-        if "mode" in values and values["mode"] == "ENV":
-            if len(values) > 1:
-                lvalues = dict(values)
-                del lvalues["mode"]
-                raise ValueError(
-                    f"When aviatrix.tf_controller_access.mode is 'ENV', "
-                    f"the following attribute(s) {lvalues} should be removed."
-                )
-
-        # if ssm_role is defined, account_id is mandatory
-        if "mode" in values and values["mode"] == "SSM":
-            if (
-                "ssm_role" in values
-                and len(values["ssm_role"]) > 0
-                and (not "account_id" in values or not len(values["account_id"]) > 0)
-            ):
-                raise ValueError(f"missing account_id")
-        return values
-
-
-class TfCloudConfig(_BaseModel):
-    organization: t.Optional[_str] = None
-    workspace_name: t.Optional[_str] = None
-    tags: t.Optional[t.List[_str]] = None
-
-    @root_validator(pre=True)
-    def check_required_attributes(cls, values):
-        """
-        check required attributes are there:
-        - organization attribute is mandatory;
-        - only one of workspace_name and tags attributes is allowed and required.
-        check if
-        """
-        if "organization" not in values or not values["organization"]:
-            raise ValueError("Missing organization name")
-        if "workspace_name" not in values and "tags" not in values:
-            raise ValueError(
-                "Required workspace_name or tags atttribute to be defined"
-            )
-        if "workspace_name" in values and "tags" in values:
-            raise ValueError("Either workspace_name or tags is allowed")
-        return values
-
-    @validator("workspace_name")
-    def check_not_empty(cls, val):
-        if not val:
-            raise ValueError("Missing workspace_name")
-        return val
-
-    @validator("tags")
-    def check_and_rewrite_tags(cls, v):
-        """
-        1. If tags list is empty, raise error
-        2. Convert input tags (list of string), e.g., ['abc', 'dec'] into
-           a string tags with double quote, e.g., '["abc", "dec"]'.
-           This will facilitate terraform tags generation, which requires a list
-           of double quote string.
-
-           Performing the conversion here seems to be pretty clean; otherwise,
-           it can be done inside common.readGlobalConfigOption.
-
-           *** Of course, we are changing the tags type in such conversion,
-           *** seems to be allowed by pydantic.
-        """
-        if v == None:
-            raise ValueError("Empty tag not allowed")
-
-        if len(v) == 0:
-            raise ValueError("tags list cannot be empty")
-
-        if not all([x for x in v]):
-            raise ValueError("Empty tag not allowed")
-
-        return json.dumps(v)
-
-
-class TerraformConfig(_BaseModel):
-    """Terraform configuration.
-
-    Attributes:
-        terraform_output: Absolute path to the TF files created.
-        terraform_version: Terraform version in terraform version syntax
-        aviatrix_provider: Aviatrix terraform provider version in
-            terraform version syntax
-        aws_provider: AWS terraform provider version in terraform version syntax
-        enable_s3_backend: Generate terraform S3 backend config.
-            Default to True.
-        module_source:  Override the module source in `vpc.tf`. If this is
-            omitted or "", we use the included TF module source.
-            Defaults to "".
-    """
-
-    DEFAULT_MODULE_SOURCE: t.ClassVar[_str] = "../module_azure_brownfield_spoke_vnet"
-    DEFAULT_MODULE_NAME: t.ClassVar[_str] = "module_azure_brownfield_spoke_vnet"
-
-    regenerate_common_tf: bool = True
-    account_folder: t.Literal["name", "id"] = "id"
-    terraform_output: _str
-    terraform_version: _str  # = ">= 0.14"
-    aviatrix_provider: _str  # "= 2.19.3"
-    aws_provider: _str  # "~> 3.43.0"
-    arm_provider: _str  # "~> 2.89.0"
-    enable_s3_backend: bool = False
-    module_source: t.Optional[_str] = DEFAULT_MODULE_SOURCE
-    module_name: t.Optional[_str] = DEFAULT_MODULE_NAME
-    tf_cloud: t.Optional[TfCloudConfig] = None
-    tmp_folder_id: t.Optional[_str] = None
-
-    @validator("aviatrix_provider")
-    def validateAviatrixProviderVersion(cls, val):
-        Globals.setAvxProvider(val)
-        return val
-    
-    @validator("tf_cloud")
-    def check_tfcloud_for_none(cls, val, values):
-        """
-        handle tfcloud None case where none of its attributes are defined.
-        """
-        if val is None:
-            raise ValueError("missing organization, workspace_name, tags attributes")
-        return val
-
-    @validator("tmp_folder_id")
-    def validate_tmp_folder_id(cls, val):
-
-        if val is not None and val != "VNET_ID" and val != "YAML_ID":
-            raise ValueError('Valid input for tmp_folder_id is "VNET_ID" or "YAML_ID"')
-        
-        return val
-
-
-
-
-
-class AviatrixConfig(_BaseModel):
-    """Aviatrix config for onboarding.
-
-    Attributes:
-        controller_ip: Aviatrix controller IP address.
-        tf_controller_access: terraform attributes for accessing controller password, via AWS SSM or ENV
-    """
-
-    controller_ip: ipaddress.IPv4Address
-    tf_controller_access: TfControllerAccessConfig = Field(
-        default_factory=TfControllerAccessConfig
-    )
-
-
-class AlertConfig(_BaseModel):
-    """Alert configuration."""
-
-    vnet_name_length: int = 31
-    vnet_peering: bool = True
-    vcpu_limit: bool = True  # Requires Microsoft.Capacity registration, see README
-    check_gateway_existence: t.Optional[bool] = True
-
-
-class ScriptConfig(_BaseModel):
-    """Configuration for script features.
-
-    Attributes:
-        allow_vnet_cidrs: List of allowed VPC CIDRs. Only the allowed CIDRs will
-            be copied to vpc_cidr and passed to the brownfield spoke VPC
-            terraform module. Set it to [0.0.0.0/0] to allow any CIDR.
-        configure_gw_name:
-        configure_spoke_advertisement:
-        enable_spoke_egress:
-        route_table_tags: List of tags to be added to the route table(s). Omit
-            this section if no tags required.
-            Defaults to [].
-        subnet_tags: List of tags to be added to the subnet(s). Omit this
-            section if no tags required.
-            Defaults to [].
-    """
-
-    allow_vnet_cidrs: CIDRList = Field(default_factory=_default_network)
-    configure_gw_name: bool = True
-    configure_spoke_advertisement: bool = False
-    configure_staging_attachment: t.Optional[bool] = True
-    configure_subnet_groups: t.Optional[bool] = False
-    # enable_spoke_egress: bool = False
-    route_table_tags: Tags = Field(default_factory=list)
-    enable_spoke_split_cidr: t.Optional[bool] = False
-    configure_private_subnet: t.Optional[bool] = False
-    # subnet_tags: Tags = Field(default_factory=list)
-
-    @validator("configure_subnet_groups")
-    def validate_configure_subnet_groups(cls, val, values):
-        if val is True and values["configure_staging_attachment"] == True:
-            raise ValueError('configure_staging_attachment must be False when setting configure_subnet_groups to True')
-        return val
-
-# class TGWConfig(_BaseModel):
-#     """Transit gateways.
-#
-#     Attributes:
-#         tgw_account: TGW account number.
-#         tgw_role: TGW account access role.
-#         tgw_by_region: Dictionary of TGW Regions to TGW ID.
-#             e.g.: {"us-east-1": "tgw-020a8339660950770"}
-#     """
-#
-#     tgw_account: _str
-#     tgw_role: _str
-#     tgw_by_region: t.Dict[AzureRegionName, _str] = Field(default_factory=dict)
-
-
-GWName = constr(strip_whitespace=True, max_length=50)
-
-
-class VWanConfig(_BaseModel):
-    subscription_id: _str
-    resource_group: _str
-    vhub: _str
-
-
-class SubnetGroupConfig(_BaseModel):
-    subnet_name: _str
-    group_name: _str
-
-class VNetConfig(_BaseModel):
-    """Settings for VPC migration.
-
-    Attributes:
-    """
-
-    vnet_name: _str
-    avtx_cidr: _str
-    use_azs: bool = True
-    domain: t.Optional[_str] = None
-    inspection: t.Optional[bool] = None
-    copy_quad_zero_route: t.Optional[bool] = False
-    spoke_advertisement: t.Optional[t.List[_str]] = None
-    spoke_routes: t.Optional[CIDRList] = None
-    spoke_gw_name: t.Optional[GWName] = None
-    transit_gw_name: t.Optional[GWName] = None
-    spoke_gw_tags: Tags = Field(default_factory=list)
-    spoke_gw_size: t.Optional[_str] = None
-    hpe: t.Optional[bool] = None
-    max_hpe_performance: t.Optional[bool] = None
-    subnet_groups: t.Optional[t.List[SubnetGroupConfig]] = None
-    subnet_groups_inspected: t.Optional[t.List[_str]] = None
-
-
-    @validator("max_hpe_performance")
-    def validate_max_hpe_performance(cls, val, values):
-        avxProviderVersionStr = Globals.getAvxProvider()
-        avxProvider = AviatrixProviderVersion(avxProviderVersionStr)
-        if avxProvider.lessThan("2.22.3"):
-            raise ValueError('attribute max_hpe_performance is available only if aviatrix_provider is >= 2.22.3')
-
-        hpe = values.get("hpe", None)
-        if hpe is not None and hpe == False and val is not None:
-            raise ValueError('attribute max_hpe_performance is available only if hpe is set to True')
-        return val
-
-
-class AccountInfo(_BaseModel):
-    """Information about spoke VPCs.
-
-    Attributes:
-        subscription_id: Azure Subscription ID.
-        account_name: Name of the VNet account owner.
-        hpe: Enable high performance encryption on spoke gateways.
-            Defaults to True.
-        filter_cidrs: Filters out any route within specified CIDR when copying
-            the route table. No need to add RFC1918 routes in the list; they
-            are filtered by default. Set it to empty list [] if no filtering required.
-        spoke_gw_size: Spoke gateway instance size.
-        add_account:
-        onboard_account:
-        vnets:
-    """
-
-    subscription_id: _str
-    account_name: _str
-    vnets: t.List[VNetConfig]
-    tf_provider_alias: t.Optional[_str] = None
-    hpe: bool = True
-    filter_cidrs: CIDRList = Field(default_factory=list)
-    spoke_gw_size: _str = "Standard_D3_v2"
-    onboard_account: bool = False
-    vwan: t.Optional[VWanConfig] = None
-    max_hpe_performance: t.Optional[bool] = None
-
-    @validator("max_hpe_performance")
-    def validate_max_hpe_performance(cls, val, values):
-        avxProviderVersionStr = Globals.getAvxProvider()
-        avxProvider = AviatrixProviderVersion(avxProviderVersionStr)
-        if avxProvider.lessThan("2.22.3"):
-            raise ValueError('attribute max_hpe_performance is available only if aviatrix_provider is >= 2.22.3')
-
-        hpe = values.get("hpe", None)
-        if hpe is not None and hpe == False and val is not None:
-            raise ValueError('attribute max_hpe_performance is available only if hpe is set to True')
-        return val
-
-
-class AzureCredentials(_BaseModel):
-    """Settings used for Azure credentials."""
-
-    arm_directory_id: _str
-    arm_application_id: _str
-    arm_application_secret_env: _str
-    arm_application_secret_data_src: _str = "avx-azure-client-secret"
-    arm_subscription_id: t.Optional[t.List[_str]]
-
-
-AzureCredentialConfig = t.Dict[str, AzureCredentials]
-
-
-class PrestageConfig(_BaseModel):
-    """Settings used during prestage."""
-
-    default_route_table: _str = "dummy_rt"
-
-
-class SwitchTrafficConfig(_BaseModel):
-    """Settings used during `switch_traffic.
-
-    Attributes:
-        transit_peerings: Dictionary of azure transit peered to aws transit
-             e.g.: {"azure-transit-useast-1": "aws-transit-us-east-1"}
-        default_route_table: _str
-        delete_vnet_lock: bool
-    """
-
-    transit_peerings: t.Dict[_str, _str] = Field(default_factory=dict)
-    delete_vnet_lock: bool = True
-    delete_peering: bool = False
-    manage_terraform_import: bool = False
-    manage_propagate_gateway_routes: t.Optional[bool] = True
-
-
-class CleanupConfig(_BaseModel):
-    """Resources to cleanup.
-
-    Attributes:
-        delete_vnet_lock:
-        resources: Delete resources like `VGW` or `VIF` in a VPC.
-    """
-
-    delete_vnet_lock: bool = True
-    resources: t.List[CleanupResources] = Field(default_factory=list)
-
-
-GW_NAME_KEYS = ["spoke_gw_name", "transit_gw_name"]
-SUBNET_GROUPS_KEYS = ["subnet_groups", "subnet_groups_inspected"]
-
-
-class DiscoveryConfiguration(_BaseModel):
-    """Discovery Migration Configuration.
-
-    Attributes:
-        aviatrix: Generate terraform resource for onboarding an Aviatrix account.
-        alert: Alerts configuration.
-        config: Script feature configuration.
-        tgw: List of TGWs used, assuming all TGWs are defining within one account.
-        account_info: Spoke VPC info.
-        switch_traffic: Configuration during switch_traffic.
-        cleanup: Resources to cleanup.
-        aws: Use AWS S3 to backup the generated account folder.
-        terraform: Mark the beginning of terraform info.
-    """
-
-    label: t.Literal["AZURE", "MGMT_VNET_CIDR"]
-    terraform: TerraformConfig
-    aviatrix: AviatrixConfig
-    azure_cred: AzureCredentialConfig
-    account_info: t.List[AccountInfo]
-    alert: AlertConfig = Field(default_factory=AlertConfig)
-    cleanup: CleanupConfig = Field(default_factory=CleanupConfig)
-    config: ScriptConfig = Field(default_factory=ScriptConfig)
-    prestage: PrestageConfig = Field(default_factory=PrestageConfig)
-    switch_traffic: SwitchTrafficConfig = Field(default_factory=SwitchTrafficConfig)
-    aws: t.Optional[BackupConfig] = None
-    # tgw: t.Optional[TGWConfig] = None
-
-    @validator("config")
-    def validate_config(cls, val, values):
-        val = cls.check_gw_names(val, values)
-        val = cls.check_configure_subnet_groups(val, values)
-        return val
-
-    @classmethod
-    def check_gw_names(cls, val, values):
-        """Validate gateway names.
-
-        Args:
-            val: The account_info dictionary.
-            values: All values passed to DiscoveryConfiguration init.
-
-        returns:
-            The account_info dictionary.
-        """
-        config = val
-        errors = []
-        account_info = values.get("account_info", [])
-
-        if config.configure_gw_name:
-            for account in account_info:
-                for vnet in account.vnets:
-                    if any(getattr(vnet, key) is None for key in GW_NAME_KEYS):
-                        errors.append((account.subscription_id, vnet.vnet_name))
-        if errors:
-            error_vpc_str = "\n".join(
-                f"account: {account_id}, vnet: {vnet_name}"
-                for account_id, vnet_name in errors
-            )
-            raise ValueError(
-                "'config.configure_gw_name' is True, both 'spoke_gw_name' and"
-                " 'transit_gw_name' must be set in all VNETs."
-                "\nList of nonconforming VNETs:\n"
-                f"{error_vpc_str}"
-            )
-
-        return config
-    
-    @classmethod
-    def check_configure_subnet_groups(cls, val, values):
-        """Validate gateway names.
-
-        Args:
-            val: The account_info dictionary.
-            values: All values passed to DiscoveryConfiguration init.
-
-        returns:
-            The account_info dictionary.
-        """
-        config = val
-        errors = []
-        account_info = values.get("account_info", [])
-
-        if config.configure_subnet_groups is False:
-            for account in account_info:
-                for vnet in account.vnets:
-                    if any(getattr(vnet, key) is not None for key in SUBNET_GROUPS_KEYS):
-                        errors.append((account.subscription_id, vnet.vnet_name))
-        if errors:
-            error_vpc_str = "\n".join(
-                f"account: {account_id}, vnet: {vnet_name}"
-                for account_id, vnet_name in errors
-            )
-            raise ValueError(
-                "'config.configure_subnet_groups' is False, 'subnet_groups' and"
-                " 'subnet_groups_inspected' cannot be used in a VNET."
-                "\nList of nonconforming VNETs:\n"
-                f"{error_vpc_str}"
-            )
-
-        return config
-
-
-def load_from_dict(config_dict: t.Dict) -> DiscoveryConfiguration:
-    """Load discovery migration settings from a python dictionary.
-
-    Args:
-        config_dict: Python dictionary in which to load configuration
-            settings from.
-
-    Returns:
-        Parsed discovery migration settings.
-    """
-    try:
-        config = DiscoveryConfiguration(**config_dict)
-    except ValidationError as e:
-        print(e.json())
-        raise SystemExit(1) from e
-    return config
-
-
-def dump_to_dict(config: DiscoveryConfiguration) -> t.Dict:
-    """Dump discovery migration settings to a python dictionary.
-
-    Args:
-        config: Discovery migration settings.
-
-    Returns:
-        Configuration dictionary.
-    """
-    json_data = config.json()
-    data = json.loads(json_data)
-
-    return data
-
-
-def load_from_yaml(yml_path: pathlib.Path) -> DiscoveryConfiguration:
-    """Load discovery migration settings from a yaml.
-
-    Args:
-        yml_path: Path to location of discovery migration yaml.
-
-    Returns:
-        Parsed discovery migration settings.
-    """
-    with open(yml_path, "r") as fh:
-        data = yaml.load(fh, Loader=yaml.FullLoader)
-
-    return load_from_dict(data)
-
-
-def dump_to_yaml(config: DiscoveryConfiguration, dest: pathlib.Path) -> pathlib.Path:
-    """Dump discovery migration settings to a yaml file.
-
-    Args:
-        config: Discovery migration settings.
-        dest: Path to destination location of discovery migration yaml.
-
-    Returns:
-        Path to destination location of discovery migration yaml.
-    """
+# -*- coding: utf-8 -*-
+"""Configuration options for Azure discovery migration."""
+import ipaddress
+import json
+import pathlib
+import typing as t
+
+import yaml
+from pydantic import constr  # Constrained string type.
+from pydantic import Field, ValidationError, root_validator, validator
+
+from dm.core.config import BackupConfig, CIDRList, Tags, _BaseModel, _str
+from dm.res.AviatrixProviderVersion import AviatrixProviderVersion
+from dm.arm.res.Globals import Globals
+
+if not hasattr(t, "Literal"):
+    from typing_extensions import Literal
+
+    t.Literal = Literal
+
+
+AzureRegionName = t.Literal[
+    "westus",
+    "eastus",
+    "centralus",
+    "westus2",
+    "northeurope",
+    "westeurope",
+    "southeastasia",
+    "japaneast",
+    "chinaeast2",
+    "chinanorth2",
+]
+CleanupResources = t.Literal[
+    "PEERING",
+    "VNG_ER",
+]
+
+
+def _default_network() -> CIDRList:
+    return [ipaddress.IPv4Network("0.0.0.0/0")]
+
+
+class TfControllerAccessConfig(_BaseModel):
+    """
+    Attributes:
+        mode: if "ENV" is used, AVIATRIX_USERNAME and AVIATRIX_PASSWORD should be set for terraform use.
+    """
+
+    alias: _str = "us_west_2"
+    mode: t.Literal["ENV", "SSM"] = "ENV"
+    region: _str = "us-west-2"
+    password_store: _str = "avx-admin-password"
+    ssm_role: _str = ""
+    username: _str = "admin"
+    account_id: constr(strip_whitespace=True, regex=r"^[0-9]*$") = ""
+
+    @root_validator(pre=True)
+    def check_mode(cls, values):
+        """
+        Avoid confusion, do not allow other attributes if ENV is used.
+        """
+        if "mode" in values and values["mode"] == "ENV":
+            if len(values) > 1:
+                lvalues = dict(values)
+                del lvalues["mode"]
+                raise ValueError(
+                    f"When aviatrix.tf_controller_access.mode is 'ENV', "
+                    f"the following attribute(s) {lvalues} should be removed."
+                )
+
+        # if ssm_role is defined, account_id is mandatory
+        if "mode" in values and values["mode"] == "SSM":
+            if (
+                "ssm_role" in values
+                and len(values["ssm_role"]) > 0
+                and (not "account_id" in values or not len(values["account_id"]) > 0)
+            ):
+                raise ValueError(f"missing account_id")
+        return values
+
+
+class TfCloudConfig(_BaseModel):
+    organization: t.Optional[_str] = None
+    workspace_name: t.Optional[_str] = None
+    tags: t.Optional[t.List[_str]] = None
+
+    @root_validator(pre=True)
+    def check_required_attributes(cls, values):
+        """
+        check required attributes are there:
+        - organization attribute is mandatory;
+        - only one of workspace_name and tags attributes is allowed and required.
+        check if
+        """
+        if "organization" not in values or not values["organization"]:
+            raise ValueError("Missing organization name")
+        if "workspace_name" not in values and "tags" not in values:
+            raise ValueError(
+                "Required workspace_name or tags atttribute to be defined"
+            )
+        if "workspace_name" in values and "tags" in values:
+            raise ValueError("Either workspace_name or tags is allowed")
+        return values
+
+    @validator("workspace_name")
+    def check_not_empty(cls, val):
+        if not val:
+            raise ValueError("Missing workspace_name")
+        return val
+
+    @validator("tags")
+    def check_and_rewrite_tags(cls, v):
+        """
+        1. If tags list is empty, raise error
+        2. Convert input tags (list of string), e.g., ['abc', 'dec'] into
+           a string tags with double quote, e.g., '["abc", "dec"]'.
+           This will facilitate terraform tags generation, which requires a list
+           of double quote string.
+
+           Performing the conversion here seems to be pretty clean; otherwise,
+           it can be done inside common.readGlobalConfigOption.
+
+           *** Of course, we are changing the tags type in such conversion,
+           *** seems to be allowed by pydantic.
+        """
+        if v == None:
+            raise ValueError("Empty tag not allowed")
+
+        if len(v) == 0:
+            raise ValueError("tags list cannot be empty")
+
+        if not all([x for x in v]):
+            raise ValueError("Empty tag not allowed")
+
+        return json.dumps(v)
+
+
+class TerraformConfig(_BaseModel):
+    """Terraform configuration.
+
+    Attributes:
+        terraform_output: Absolute path to the TF files created.
+        terraform_version: Terraform version in terraform version syntax
+        aviatrix_provider: Aviatrix terraform provider version in
+            terraform version syntax
+        aws_provider: AWS terraform provider version in terraform version syntax
+        enable_s3_backend: Generate terraform S3 backend config.
+            Default to True.
+        module_source:  Override the module source in `vpc.tf`. If this is
+            omitted or "", we use the included TF module source.
+            Defaults to "".
+    """
+
+    DEFAULT_MODULE_SOURCE: t.ClassVar[_str] = "../module_azure_brownfield_spoke_vnet"
+    DEFAULT_MODULE_NAME: t.ClassVar[_str] = "module_azure_brownfield_spoke_vnet"
+
+    regenerate_common_tf: bool = True
+    account_folder: t.Literal["name", "id"] = "id"
+    terraform_output: _str
+    terraform_version: _str  # = ">= 0.14"
+    aviatrix_provider: _str  # "= 2.19.3"
+    aws_provider: _str  # "~> 3.43.0"
+    arm_provider: _str  # "~> 2.89.0"
+    enable_s3_backend: bool = False
+    module_source: t.Optional[_str] = DEFAULT_MODULE_SOURCE
+    module_name: t.Optional[_str] = DEFAULT_MODULE_NAME
+    tf_cloud: t.Optional[TfCloudConfig] = None
+    tmp_folder_id: t.Optional[_str] = None
+
+    @validator("aviatrix_provider")
+    def validateAviatrixProviderVersion(cls, val):
+        Globals.setAvxProvider(val)
+        return val
+    
+    @validator("tf_cloud")
+    def check_tfcloud_for_none(cls, val, values):
+        """
+        handle tfcloud None case where none of its attributes are defined.
+        """
+        if val is None:
+            raise ValueError("missing organization, workspace_name, tags attributes")
+        return val
+
+    @validator("tmp_folder_id")
+    def validate_tmp_folder_id(cls, val):
+
+        if val is not None and val != "VNET_ID" and val != "YAML_ID":
+            raise ValueError('Valid input for tmp_folder_id is "VNET_ID" or "YAML_ID"')
+        
+        return val
+
+
+
+
+
+class AviatrixConfig(_BaseModel):
+    """Aviatrix config for onboarding.
+
+    Attributes:
+        controller_ip: Aviatrix controller IP address.
+        tf_controller_access: terraform attributes for accessing controller password, via AWS SSM or ENV
+    """
+
+    controller_ip: ipaddress.IPv4Address
+    tf_controller_access: TfControllerAccessConfig = Field(
+        default_factory=TfControllerAccessConfig
+    )
+
+
+class AlertConfig(_BaseModel):
+    """Alert configuration."""
+
+    vnet_name_length: int = 31
+    vnet_peering: bool = True
+    vcpu_limit: bool = True  # Requires Microsoft.Capacity registration, see README
+    check_gateway_existence: t.Optional[bool] = True
+
+
+class ScriptConfig(_BaseModel):
+    """Configuration for script features.
+
+    Attributes:
+        allow_vnet_cidrs: List of allowed VPC CIDRs. Only the allowed CIDRs will
+            be copied to vpc_cidr and passed to the brownfield spoke VPC
+            terraform module. Set it to [0.0.0.0/0] to allow any CIDR.
+        configure_gw_name:
+        configure_spoke_advertisement:
+        enable_spoke_egress:
+        route_table_tags: List of tags to be added to the route table(s). Omit
+            this section if no tags required.
+            Defaults to [].
+        subnet_tags: List of tags to be added to the subnet(s). Omit this
+            section if no tags required.
+            Defaults to [].
+    """
+
+    allow_vnet_cidrs: CIDRList = Field(default_factory=_default_network)
+    configure_gw_name: bool = True
+    configure_spoke_advertisement: bool = False
+    configure_staging_attachment: t.Optional[bool] = True
+    configure_subnet_groups: t.Optional[bool] = False
+    # enable_spoke_egress: bool = False
+    route_table_tags: Tags = Field(default_factory=list)
+    enable_spoke_split_cidr: t.Optional[bool] = False
+    configure_private_subnet: t.Optional[bool] = False
+    # subnet_tags: Tags = Field(default_factory=list)
+
+    @validator("configure_subnet_groups")
+    def validate_configure_subnet_groups(cls, val, values):
+        if val is True and values["configure_staging_attachment"] == True:
+            raise ValueError('configure_staging_attachment must be False when setting configure_subnet_groups to True')
+        return val
+
+# class TGWConfig(_BaseModel):
+#     """Transit gateways.
+#
+#     Attributes:
+#         tgw_account: TGW account number.
+#         tgw_role: TGW account access role.
+#         tgw_by_region: Dictionary of TGW Regions to TGW ID.
+#             e.g.: {"us-east-1": "tgw-020a8339660950770"}
+#     """
+#
+#     tgw_account: _str
+#     tgw_role: _str
+#     tgw_by_region: t.Dict[AzureRegionName, _str] = Field(default_factory=dict)
+
+
+GWName = constr(strip_whitespace=True, max_length=50)
+
+
+class VWanConfig(_BaseModel):
+    subscription_id: _str
+    resource_group: _str
+    vhub: _str
+
+
+class SubnetGroupConfig(_BaseModel):
+    subnet_name: _str
+    group_name: _str
+
+class VNetConfig(_BaseModel):
+    """Settings for VPC migration.
+
+    Attributes:
+    """
+
+    vnet_name: _str
+    avtx_cidr: _str
+    use_azs: bool = True
+    domain: t.Optional[_str] = None
+    inspection: t.Optional[bool] = None
+    copy_quad_zero_route: t.Optional[bool] = False
+    spoke_advertisement: t.Optional[t.List[_str]] = None
+    spoke_routes: t.Optional[CIDRList] = None
+    spoke_gw_name: t.Optional[GWName] = None
+    transit_gw_name: t.Optional[GWName] = None
+    spoke_gw_tags: Tags = Field(default_factory=list)
+    spoke_gw_size: t.Optional[_str] = None
+    hpe: t.Optional[bool] = None
+    max_hpe_performance: t.Optional[bool] = None
+    subnet_groups: t.Optional[t.List[SubnetGroupConfig]] = None
+    subnet_groups_inspected: t.Optional[t.List[_str]] = None
+
+
+    @validator("max_hpe_performance")
+    def validate_max_hpe_performance(cls, val, values):
+        avxProviderVersionStr = Globals.getAvxProvider()
+        avxProvider = AviatrixProviderVersion(avxProviderVersionStr)
+        if avxProvider.lessThan("2.22.3"):
+            raise ValueError('attribute max_hpe_performance is available only if aviatrix_provider is >= 2.22.3')
+
+        hpe = values.get("hpe", None)
+        if hpe is not None and hpe == False and val is not None:
+            raise ValueError('attribute max_hpe_performance is available only if hpe is set to True')
+        return val
+
+
+class AccountInfo(_BaseModel):
+    """Information about spoke VPCs.
+
+    Attributes:
+        subscription_id: Azure Subscription ID.
+        account_name: Name of the VNet account owner.
+        hpe: Enable high performance encryption on spoke gateways.
+            Defaults to True.
+        filter_cidrs: Filters out any route within specified CIDR when copying
+            the route table. No need to add RFC1918 routes in the list; they
+            are filtered by default. Set it to empty list [] if no filtering required.
+        spoke_gw_size: Spoke gateway instance size.
+        add_account:
+        onboard_account:
+        vnets:
+    """
+
+    subscription_id: _str
+    account_name: _str
+    vnets: t.List[VNetConfig]
+    tf_provider_alias: t.Optional[_str] = None
+    hpe: bool = True
+    filter_cidrs: CIDRList = Field(default_factory=list)
+    spoke_gw_size: _str = "Standard_D3_v2"
+    onboard_account: bool = False
+    vwan: t.Optional[VWanConfig] = None
+    max_hpe_performance: t.Optional[bool] = None
+
+    @validator("max_hpe_performance")
+    def validate_max_hpe_performance(cls, val, values):
+        avxProviderVersionStr = Globals.getAvxProvider()
+        avxProvider = AviatrixProviderVersion(avxProviderVersionStr)
+        if avxProvider.lessThan("2.22.3"):
+            raise ValueError('attribute max_hpe_performance is available only if aviatrix_provider is >= 2.22.3')
+
+        hpe = values.get("hpe", None)
+        if hpe is not None and hpe == False and val is not None:
+            raise ValueError('attribute max_hpe_performance is available only if hpe is set to True')
+        return val
+
+
+class AzureCredentials(_BaseModel):
+    """Settings used for Azure credentials."""
+
+    arm_directory_id: _str
+    arm_application_id: _str
+    arm_application_secret_env: _str
+    arm_application_secret_data_src: _str = "avx-azure-client-secret"
+    arm_subscription_id: t.Optional[t.List[_str]]
+
+
+AzureCredentialConfig = t.Dict[str, AzureCredentials]
+
+
+class PrestageConfig(_BaseModel):
+    """Settings used during prestage."""
+
+    default_route_table: _str = "dummy_rt"
+
+
+class SwitchTrafficConfig(_BaseModel):
+    """Settings used during `switch_traffic.
+
+    Attributes:
+        transit_peerings: Dictionary of azure transit peered to aws transit
+             e.g.: {"azure-transit-useast-1": "aws-transit-us-east-1"}
+        default_route_table: _str
+        delete_vnet_lock: bool
+    """
+
+    transit_peerings: t.Dict[_str, _str] = Field(default_factory=dict)
+    delete_vnet_lock: bool = True
+    delete_peering: bool = False
+    manage_terraform_import: bool = False
+    manage_propagate_gateway_routes: t.Optional[bool] = True
+
+
+class CleanupConfig(_BaseModel):
+    """Resources to cleanup.
+
+    Attributes:
+        delete_vnet_lock:
+        resources: Delete resources like `VGW` or `VIF` in a VPC.
+    """
+
+    delete_vnet_lock: bool = True
+    resources: t.List[CleanupResources] = Field(default_factory=list)
+
+
+GW_NAME_KEYS = ["spoke_gw_name", "transit_gw_name"]
+SUBNET_GROUPS_KEYS = ["subnet_groups", "subnet_groups_inspected"]
+
+
+class DiscoveryConfiguration(_BaseModel):
+    """Discovery Migration Configuration.
+
+    Attributes:
+        aviatrix: Generate terraform resource for onboarding an Aviatrix account.
+        alert: Alerts configuration.
+        config: Script feature configuration.
+        tgw: List of TGWs used, assuming all TGWs are defining within one account.
+        account_info: Spoke VPC info.
+        switch_traffic: Configuration during switch_traffic.
+        cleanup: Resources to cleanup.
+        aws: Use AWS S3 to backup the generated account folder.
+        terraform: Mark the beginning of terraform info.
+    """
+
+    label: t.Literal["AZURE", "MGMT_VNET_CIDR"]
+    terraform: TerraformConfig
+    aviatrix: AviatrixConfig
+    azure_cred: AzureCredentialConfig
+    account_info: t.List[AccountInfo]
+    alert: AlertConfig = Field(default_factory=AlertConfig)
+    cleanup: CleanupConfig = Field(default_factory=CleanupConfig)
+    config: ScriptConfig = Field(default_factory=ScriptConfig)
+    prestage: PrestageConfig = Field(default_factory=PrestageConfig)
+    switch_traffic: SwitchTrafficConfig = Field(default_factory=SwitchTrafficConfig)
+    aws: t.Optional[BackupConfig] = None
+    # tgw: t.Optional[TGWConfig] = None
+
+    @validator("config")
+    def validate_config(cls, val, values):
+        val = cls.check_gw_names(val, values)
+        val = cls.check_configure_subnet_groups(val, values)
+        return val
+
+    @classmethod
+    def check_gw_names(cls, val, values):
+        """Validate gateway names.
+
+        Args:
+            val: The account_info dictionary.
+            values: All values passed to DiscoveryConfiguration init.
+
+        returns:
+            The account_info dictionary.
+        """
+        config = val
+        errors = []
+        account_info = values.get("account_info", [])
+
+        if config.configure_gw_name:
+            for account in account_info:
+                for vnet in account.vnets:
+                    if any(getattr(vnet, key) is None for key in GW_NAME_KEYS):
+                        errors.append((account.subscription_id, vnet.vnet_name))
+        if errors:
+            error_vpc_str = "\n".join(
+                f"account: {account_id}, vnet: {vnet_name}"
+                for account_id, vnet_name in errors
+            )
+            raise ValueError(
+                "'config.configure_gw_name' is True, both 'spoke_gw_name' and"
+                " 'transit_gw_name' must be set in all VNETs."
+                "\nList of nonconforming VNETs:\n"
+                f"{error_vpc_str}"
+            )
+
+        return config
+    
+    @classmethod
+    def check_configure_subnet_groups(cls, val, values):
+        """Validate gateway names.
+
+        Args:
+            val: The account_info dictionary.
+            values: All values passed to DiscoveryConfiguration init.
+
+        returns:
+            The account_info dictionary.
+        """
+        config = val
+        errors = []
+        account_info = values.get("account_info", [])
+
+        if config.configure_subnet_groups is False:
+            for account in account_info:
+                for vnet in account.vnets:
+                    if any(getattr(vnet, key) is not None for key in SUBNET_GROUPS_KEYS):
+                        errors.append((account.subscription_id, vnet.vnet_name))
+        if errors:
+            error_vpc_str = "\n".join(
+                f"account: {account_id}, vnet: {vnet_name}"
+                for account_id, vnet_name in errors
+            )
+            raise ValueError(
+                "'config.configure_subnet_groups' is False, 'subnet_groups' and"
+                " 'subnet_groups_inspected' cannot be used in a VNET."
+                "\nList of nonconforming VNETs:\n"
+                f"{error_vpc_str}"
+            )
+
+        return config
+
+
+def load_from_dict(config_dict: t.Dict) -> DiscoveryConfiguration:
+    """Load discovery migration settings from a python dictionary.
+
+    Args:
+        config_dict: Python dictionary in which to load configuration
+            settings from.
+
+    Returns:
+        Parsed discovery migration settings.
+    """
+    try:
+        config = DiscoveryConfiguration(**config_dict)
+    except ValidationError as e:
+        print(e.json())
+        raise SystemExit(1) from e
+    return config
+
+
+def dump_to_dict(config: DiscoveryConfiguration) -> t.Dict:
+    """Dump discovery migration settings to a python dictionary.
+
+    Args:
+        config: Discovery migration settings.
+
+    Returns:
+        Configuration dictionary.
+    """
+    json_data = config.json()
+    data = json.loads(json_data)
+
+    return data
+
+
+def load_from_yaml(yml_path: pathlib.Path) -> DiscoveryConfiguration:
+    """Load discovery migration settings from a yaml.
+
+    Args:
+        yml_path: Path to location of discovery migration yaml.
+
+    Returns:
+        Parsed discovery migration settings.
+    """
+    with open(yml_path, "r") as fh:
+        data = yaml.load(fh, Loader=yaml.FullLoader)
+
+    return load_from_dict(data)
+
+
+def dump_to_yaml(config: DiscoveryConfiguration, dest: pathlib.Path) -> pathlib.Path:
+    """Dump discovery migration settings to a yaml file.
+
+    Args:
+        config: Discovery migration settings.
+        dest: Path to destination location of discovery migration yaml.
+
+    Returns:
+        Path to destination location of discovery migration yaml.
+    """
```

## dm/core/config.py

 * *Ordering differences only*

```diff
@@ -1,984 +1,984 @@
-# -*- coding: utf-8 -*-
-"""Configuration options for discovery migration."""
-import ipaddress
-import json
-import pathlib
-import typing as t
-
-import pydantic
-import yaml
-from pydantic import constr  # Constrained string type.
-from pydantic import Field, ValidationError, root_validator, validator
-from dm.res.AviatrixProviderVersion import AviatrixProviderVersion
-from dm.res.Globals import Globals
-
-if not hasattr(t, "Literal"):
-    from typing_extensions import Literal
-
-    t.Literal = Literal
-
-
-RegionName = t.Literal[
-    "af-south-1",
-    "ap-east-1",
-    "ap-northeast-1",
-    "ap-northeast-2",
-    "ap-northeast-3",
-    "ap-south-1",
-    "ap-southeast-1",
-    "ap-southeast-2",
-    "ap-southeast-3",
-    "ca-central-1",
-    "eu-central-1",
-    "eu-north-1",
-    "eu-south-1",
-    "eu-west-1",
-    "eu-west-2",
-    "eu-west-3",
-    "me-south-3",
-    "sa-east-1",
-    "us-east-1",
-    "us-east-2",
-    "us-west-1",
-    "us-west-2",
-]
-CleanupResources = t.Literal[
-    "INTERNAL_LB",
-    "NAT",
-    "TGW_ATTACHMENT",
-    "VGW",
-    "PEERING"
-]
-CIDRList = t.List[ipaddress.IPv4Network]
-IPAddressList = t.List[ipaddress.IPv4Address]
-Tag = t.Dict[str, str]
-Tags = t.List[Tag]
-_str = constr(strip_whitespace=True)
-
-
-def _default_network() -> CIDRList:
-    return [ipaddress.IPv4Network("0.0.0.0/0")]
-
-
-class _BaseModel(pydantic.BaseModel):
-    discovery_only: t.ClassVar[bool] = False
-
-    class Config:
-        json_encoders = {
-            ipaddress.IPv4Address: str,
-            ipaddress.IPv4Network: str,
-        }
-        extra = "forbid"
-
-
-class BackupConfig(_BaseModel):
-    """Backup account folder.
-
-    Uses cloud storage to backup the generated account folder.
-    Omit this section if backup is not required.
-
-    Note:
-        Currently only S3 backup is supported.
-
-    Attributes:
-        s3: S3 backup configuration.
-    """
-
-    class S3Config(_BaseModel):
-        """Setup S3 for storing the terraform output files.
-
-        Attributes:
-            account: S3 bucket account number.
-            role_name: S3 bucket access permission.
-            name: S3 bucket name.
-            region: S3 bucket region.
-        """
-
-        account: _str
-        role_name: _str
-        name: _str
-        region: _str
-
-    s3: S3Config
-
-
-class TfControllerAccessConfig(_BaseModel):
-    """
-    Attributes:
-        mode: if "ENV" is used, AVIATRIX_USERNAME and AVIATRIX_PASSWORD should be set for terraform use.
-        ssm_role: role with SSM:getParameter permission, e.g., aviatrix-role-app. If it is set to empty string,
-                  NO assume_role statement is generated in the AWS provider.
-    """
-
-    alias: _str = "us_west_2"
-    mode: t.Literal["ENV", "SSM"] = "ENV"
-    password_store: _str = "avx-admin-password"
-    region: _str = "us-west-2"
-    ssm_role: _str = ""
-    username: _str = "admin"
-
-    @root_validator(pre=True)
-    def check_mode(cls, values):
-        """
-        Avoid confusion, do not allow other attributes if ENV is used.
-        """
-        if "mode" in values and values["mode"] == "ENV":
-            if len(values) > 1:
-                lvalues = dict(values)
-                del lvalues["mode"]
-                raise ValueError(
-                    f"When aviatrix.tf_controller_access.mode is 'ENV', "
-                    f"the following attribute(s) {lvalues} should be removed."
-                )
-
-        return values
-
-
-class TfCloudConfig(_BaseModel):
-    organization: _str = None
-    workspace_name: _str = None
-    tags: t.Optional[t.List[_str]] = None
-
-    @classmethod
-    def valid_str_attribute(cls, val):
-        if val is None or len(val) == 0:
-            return False
-        return True
-
-    @root_validator(pre=True)
-    def check_required_attributes(cls, values):
-        """
-        check required attributes are there:
-        - organization attribute is mandatory;
-        - only one of workspace_name and tags attributes is allowed and required.
-        check if
-        """
-        if "organization" not in values or not cls.valid_str_attribute(
-            values["organization"]
-        ):
-            raise ValueError("Missing organization name")
-        if "workspace_name" not in values and "tags" not in values:
-            raise ValueError(
-                "Required workspace_name or tags atttribute to be defined"
-            )
-        if "workspace_name" in values and "tags" in values:
-            raise ValueError("Either workspace_name or tags is allowed")
-        if "workspace_name" in values and not cls.valid_str_attribute(
-            values["workspace_name"]
-        ):
-            raise ValueError("Missing workspace_name")
-        if "tags" in values and not all(
-            [cls.valid_str_attribute(x) for x in values["tags"]]
-        ):
-            raise ValueError("Empty tag not allowed")
-        return values
-
-    @validator("tags")
-    def check_and_rewrite_tags(cls, v):
-        """
-        1. If tags list is empty, raise error
-        2. Convert input tags (list of string), e.g., ['abc', 'dec'] into
-           a string tags with double quote, e.g., '["abc", "dec"]'.
-           This will facilitate terraform tags generation, which requires a list
-           of double quote string.
-
-           Performing the conversion here seems to be pretty clean; otherwise,
-           it can be done inside common.readGlobalConfigOption.
-
-           *** Of course, we are changing the tags type in such conversion,
-           *** seems to be allowed by pydantic.
-        """
-        if v is not None:
-            if len(v) == 0:
-                raise ValueError("tags list cannot be empty")
-            return json.dumps(v)
-        return v
-
-
-class TerraformConfig(_BaseModel):
-    """Terraform configuration.
-
-    Attributes:
-        terraform_output: Absolute path to the TF files created.
-        terraform_version: Terraform version in terraform version syntax
-        aviatrix_provider: Aviatrix terraform provider version in
-            terraform version syntax
-        aws_provider: AWS terraform provider version in terraform version syntax
-        enable_s3_backend: Generate terraform S3 backend config.
-            Default to True.
-        module_source:  Override the module source in `vpc.tf`. If this is
-            omitted or "", we use the included TF module source.
-            Defaults to "".
-    """
-
-    DEFAULT_MODULE_SOURCE: t.ClassVar[_str] = "../module_aws_brownfield_spoke_vpc"
-    DEFAULT_MODULE_NAME: t.ClassVar[_str] = "module_aws_brownfield_spoke_vpc"
-
-    regenerate_common_tf: bool = True
-    terraform_output: _str
-    terraform_version: t.Optional[_str] = None  # = ">= 0.14"
-    aviatrix_provider: t.Optional[_str] = None  # "= 2.19.3"
-    aws_provider: t.Optional[_str] = None  # "~> 3.43.0"
-    enable_s3_backend: bool = False
-    module_source: t.Optional[_str] = DEFAULT_MODULE_SOURCE
-    module_name: t.Optional[_str] = DEFAULT_MODULE_NAME
-    tf_cloud: TfCloudConfig = None
-    tmp_folder_id: t.Optional[_str] = None
-
-    @validator("aviatrix_provider")
-    def validateAviatrixProviderVersion(cls, val):
-        Globals.setAvxProvider(val)
-        return val
-
-    @validator("terraform_version", "aviatrix_provider", "aws_provider", always=True)
-    def check_field_for_none(cls, val, values, field):
-        if cls.discovery_only:
-            return val
-
-        if val is None:
-            raise ValueError(f"missing {field.name} attribute")
-        return val
-
-    @validator("tf_cloud")
-    def check_tfcloud_for_none(cls, val, values):
-        """
-        handle tfcloud None case where none of its attributes are defined.
-        """
-        if val is None:
-            raise ValueError("missing organization, workspace_name, tags attributes")
-        return val
-
-    @validator("tmp_folder_id")
-    def validate_tmp_folder_id(cls, val):
-
-        if val is not None and val != "VPC_ID" and val != "YAML_ID":
-            raise ValueError('Valid input for tmp_folder_id is "VPC_ID" or "YAML_ID"')
-        
-        return val
-
-class AviatrixConfig(_BaseModel):
-    """Aviatrix config for onboarding.
-
-    Attributes:
-        controller_ip: Aviatrix controller IP address.
-        controller_account: The AWS Account # where the controller resides.
-        ctrl_role_app: Controller app role name in the SPOKE account.
-        ctrl_role_ec2: Controller EC2 role name in the CONTROLLER account
-        gateway_role_app: Gateway role name in the SPOKE account
-        gateway_role_ec2: Gateway instance profile name in the SPOKE account
-        tf_controller_access: terraform attributes for accessing controller password, via AWS SSM or ENV
-    """
-
-    controller_ip: ipaddress.IPv4Address
-    controller_account: _str
-    ctrl_role_app: _str = "aviatrix-role-app"
-    ctrl_role_ec2: _str = "aviatrix-role-ec2"
-    gateway_role_app: _str = "aviatrix-role-app"
-    gateway_role_ec2: _str = "aviatrix-role-ec2"
-    tf_controller_access: TfControllerAccessConfig = Field(
-        default_factory=TfControllerAccessConfig
-    )
-
-
-class AlertConfig(_BaseModel):
-    """Alert configuration.
-
-    Attributes:
-        expect_dest_cidrs: Alert IP not fall within the given CIDR list. Turn
-            off this alert using [0.0.0.0/0].
-        expect_vpc_prefixes: Alert VPC prefix not fall within given CIDR
-            ranges. Turn off this alert using [0.0.0.0/0].
-    """
-
-    expect_dest_cidrs: CIDRList = Field(default_factory=_default_network)
-    expect_vpc_prefixes: CIDRList = Field(default_factory=_default_network)
-    check_gateway_existence: t.Optional[bool] = True
-
-
-class SnatPoliciesConfig(_BaseModel):
-    src_ip: _str = None
-    connection: _str = None
-    new_src_ip: _str = None
-    protocol: _str = "all"
-    apply_route_entry: t.Optional[bool] = False
-
-
-class ScriptConfig(_BaseModel):
-    """Configuration for script features.
-
-    Attributes:
-        add_vpc_cidr:
-        allow_vpc_cidrs: List of allowed VPC CIDRs. Only the allowed CIDRs will
-            be copied to vpc_cidr and passed to the brownfield spoke VPC
-            terraform module. Set it to [0.0.0.0/0] to allow any CIDR.
-        configure_gw_name:
-        configure_spoke_advertisement:
-        filter_tgw_attachment_subnet: enable tgw attachment subnet filtering.
-            Skip subnet used by TGW vpc attachement.
-        route_table_tags: List of tags to be added to the route table(s). Omit
-            this section if no tags required.
-            Defaults to [].
-        subnet_tags: List of tags to be added to the subnet(s). Omit this
-            section if no tags required.
-            Defaults to [].
-    """
-
-    add_vpc_cidr: bool = True
-    allow_vpc_cidrs: CIDRList = Field(default_factory=_default_network)
-    configure_gw_name: bool = True
-    configure_spoke_advertisement: bool = False
-    configure_transit_gw_egress: t.Optional[bool] = False
-    configure_gw_lb_ep: t.Optional[bool] = False 
-    configure_spoke_gw_hs: t.Optional[bool] = False
-    filter_tgw_attachment_subnet: bool = False
-    filter_vgw_routes: t.Optional[bool] = True
-    filter_tgw_routes: t.Optional[bool] = True
-    route_table_tags: Tags = Field(default_factory=list)
-    subnet_tags: Tags = Field(default_factory=list)
-    snat_policies: t.List[SnatPoliciesConfig] = None
-    import_resources: t.Optional[bool] = True
-    migrate_natgw_eip: t.Optional[bool] = False
-    deploy_2_spokes_only: t.Optional[bool] = False
-    deploy_dummy_spokes: t.Optional[bool] = False
-    migrate_natgw_one_spoke_per_az: t.Optional[bool] = False
-    natgw_backup_dir: t.Optional[_str] = "natgw_backups"
-
-    @validator("configure_spoke_gw_hs")
-    def validate_configure_spoke_gw_hs(cls, val, values):
-        if val == True:
-            if values["add_vpc_cidr"] == True:
-                raise ValueError('To enable configure_spoke_gw_hs, add_vpc_cidr must be set to False')
-        return val
-
-    @validator("migrate_natgw_eip")
-    def validate_migrate_natgw_eip(cls, val, values):
-        if val == True and values["configure_spoke_gw_hs"] == False:
-            raise ValueError('configure_spoke_gw_hs must be set to True before setting migrate_natgw_eip to True')
-        return val
-
-    @validator("deploy_2_spokes_only", always=True)
-    def validate_deploy_2_spokes_only(cls, val, values):
-        # configure_spoke_gw_hs might not exist if it failed its own validation
-        if not "configure_spoke_gw_hs" in values:
-            return val
-        if val == False and values["configure_spoke_gw_hs"] == True and values["snat_policies"] is not None:
-            raise ValueError('When using gateway group (configure_spoke_gw_hs is True) with customized SNAT, deploy_2_spokes_only must be set to True')
-        if val == True and values["configure_spoke_gw_hs"] == False:
-            raise ValueError('configure_spoke_gw_hs must be set to True before setting deploy_2_spokes_only to True')
-        return val
-
-    @validator("deploy_dummy_spokes")
-    def validate_deploy_dummy_spokes(cls, val, values):
-        if val == True:
-            if "configure_spoke_gw_hs" in values and values["configure_spoke_gw_hs"] == False:
-                raise ValueError('configure_spoke_gw_hs and deploy_2_spokes_only must be set to True before setting deploy_dummy_spokes to True')                
-            if "deploy_2_spokes_only" in values and values["deploy_2_spokes_only"] == False:
-                raise ValueError('configure_spoke_gw_hs and deploy_2_spokes_only must be set to True before setting deploy_dummy_spokes to True')
-        return val
-
-    @validator("migrate_natgw_one_spoke_per_az")
-    def validate_migrate_natgw_one_spoke_per_az(cls, val, values):
-        if val == True:
-            if "configure_spoke_gw_hs" in values and values["configure_spoke_gw_hs"] == False:
-                raise ValueError('configure_spoke_gw_hs and migrate_natgw_eip must be set to True before setting migrate_natgw_one_spoke_per_az to True')
-            if "migrate_natgw_eip" in values and values["migrate_natgw_eip"] == False:
-                raise ValueError('configure_spoke_gw_hs and migrate_natgw_eip must be set to True before setting migrate_natgw_one_spoke_per_az to True')
-        return val
-
-class TGWConfig(_BaseModel):
-    """Transit gateways.
-
-    Attributes:
-        tgw_account: TGW account number.
-        tgw_role: TGW account access role.
-        tgw_by_region: Dictionary of TGW Regions to TGW ID.
-            e.g.: {"us-east-1": "tgw-020a8339660950770"}
-    """
-
-    tgw_account: _str
-    tgw_role: _str
-    tgw_by_region: t.Dict[RegionName, _str] = Field(default_factory=dict)
-
-
-GWName = constr(strip_whitespace=True, max_length=50)
-
-
-class VPCConfig(_BaseModel):
-    """Settings for VPC migration.
-
-    Attributes:
-        vpc_id: VPC ID to be migrated
-        avtx_cidr: Sets the Aviatrix CIDR used in `vpc-id.tf`.
-        gw_zones: Zone letters to deploy spoke gateways in. Discovery will
-            deduce the zones if an empty list [] is used.
-            Defaults to [].
-        spoke_gw_tags: A list of tags applied to the spoke gateway.
-        domain:
-        encrypt:
-        inspection:
-        spoke_advertisement:
-        spoke_routes:
-        spoke_gw_name: Name of the spoke gateway.
-        transit_gw_name: Name of the transit gateway.
-        retain_peerings: List of pcx-ids for which the peering routes will NOT be deleted when running dm.delete_peer_route.
-    """
-
-    vpc_id: _str
-    avtx_cidr: t.Optional[ipaddress.IPv4Network] = None
-    avtx_cidrs: t.Optional[CIDRList] = None
-    gw_zones: t.List[_str] = Field(default_factory=list)
-    eips: t.Optional[IPAddressList] = None
-    spoke_gw_tags: Tags = Field(default_factory=list)
-    domain: t.Optional[_str] = None
-    encrypt: t.Optional[bool] = None
-    encrypt_key: t.Optional[_str] = None
-    inspection: t.Optional[bool] = None
-    spoke_advertisement: t.Optional[CIDRList] = None
-    spoke_routes: t.Optional[CIDRList] = None
-    spoke_gw_name: t.Optional[GWName] = None
-    transit_gw_name: t.Optional[GWName] = None
-    transit_gw_egress_name: t.Optional[GWName] = None
-    enable_spoke_egress: t.Optional[bool] = None
-    spoke_gw_size: t.Optional[_str] = None
-    hpe: t.Optional[bool] = None
-    max_hpe_performance: t.Optional[bool] = None
-    spoke_ha: t.Optional[bool] = None
-    retain_peerings: t.List[str] = Field(default_factory=list)
-    retain_peering_cidrs: CIDRList = Field(default_factory=_default_network)
-    customized_single_ip_snat: bool = False
-    az_affinity: t.Optional[bool] = False
-
-
-    @validator("max_hpe_performance")
-    def validate_max_hpe_performance(cls, val, values):
-        avxProviderVersionStr = Globals.getAvxProvider()
-        avxProvider = AviatrixProviderVersion(avxProviderVersionStr)
-        if avxProvider.lessThan("2.22.3"):
-            raise ValueError('attribute max_hpe_performance is available only if aviatrix_provider is >= 2.22.3')
-
-        hpe = values.get("hpe", None)
-        if hpe is not None and hpe == False and val is not None:
-            raise ValueError('attribute max_hpe_performance is available only if hpe is set to True')
-        return val
-
-
-    # @validator("avtx_cidr", always=True)
-    # def check_avtx_cidr_for_none(cls, val, values):
-    #     """
-    #     Setup avtx_cidr be an optional attribute initially.
-    #     This routine is used to dynamically control its optional behavior,
-    #     based upon the args.discovery_only flag.
-    #     It also makes sure this is a valid IPv4 address
-    #     """
-    #     if cls.discovery_only:
-    #         return val
-
-    #     if val is None:
-    #         raise ValueError("missing avtx_cidr attribute")
-
-    #     ipaddress.ip_network(val)  # Checks `val` is a valid IP address.
-
-    #     return val
-
-    @validator("encrypt_key")
-    def check_encrypt_key(cls, val, values):
-        """
-        encrypt_key can only be set if encrypt is True
-        """
-        if cls.discovery_only:
-            return val
-
-        encrypt = values.get("encrypt", None)
-        if (encrypt is None or encrypt == False) and val is not None:
-            raise ValueError("encrypt must be True to set encrypt_key")
-
-        return val
-
-
-class Region(_BaseModel):
-    """Region config container.
-
-    Attributes:
-        region: Name of the region.
-        vpcs: List of vpcs in the region.
-    """
-
-    region: RegionName
-    vpcs: t.List[VPCConfig]
-
-
-class AccountInfo(_BaseModel):
-    """Information about spoke VPCs.
-
-    Attributes:
-        account_id: AWS Account number.
-        account_name: Name of the VPC account owner.
-        hpe: Enable high performance encryption on spoke gateways.
-            Defaults to True.
-        managed_tgw:
-        filter_cidrs: Filters out any route within specified CIDR when copying
-            the route table. No need to add RFC1918 routes in the list; they
-            are filtered by default. Set it to empty list [] if no filtering required.
-        spoke_gw_size: Spoke gateway instance size.
-        role_name: IAM role assumed to execute API calls.
-        add_account:
-        onboard_account:
-        regions: Dictionary of region names to a list of VPC configurations.
-    """
-
-    account_id: constr(strip_whitespace=True, regex=r"^[0-9]+$")  # noqa: F722
-    account_name: t.Optional[_str] = ""
-    regions: t.List[Region]
-    hpe: bool = True
-    managed_tgw: bool = False
-    filter_cidrs: CIDRList = Field(default_factory=list)
-    spoke_gw_size: _str = "t3.micro"
-    role_name: _str = "aviatrix-role-app"
-    add_account: bool = False
-    onboard_account: bool = False
-    enable_spoke_egress: bool = False
-    max_hpe_performance: t.Optional[bool] = None
-    spoke_ha: t.Optional[bool] = True
-
-    @validator("max_hpe_performance")
-    def validate_max_hpe_performance(cls, val, values):
-        avxProviderVersionStr = Globals.getAvxProvider()
-        avxProvider = AviatrixProviderVersion(avxProviderVersionStr)
-        if avxProvider.lessThan("2.22.3"):
-            raise ValueError('attribute max_hpe_performance is available only if aviatrix_provider is >= 2.22.3')
-
-        hpe = values.get("hpe", None)
-        if hpe is not None and hpe == False and val is not None:
-            raise ValueError('attribute max_hpe_performance is available only if hpe is set to True')
-        return val
-
-
-class SwitchTrafficConfig(_BaseModel):
-    """Settings used during `switch_traffic.
-
-    Attributes:
-        delete_tgw_route_delay: Specifiy the delay between
-            spoke-gw-advertize-cidr and tgw-route-removal in seconds.
-            Defaults to 5.
-    """
-
-    delete_tgw_route_delay: _str = "5"
-
-
-class CleanupConfig(_BaseModel):
-    """Resources to cleanup.
-
-    Attributes:
-        vpc_cidrs: CIDR's to be deleted from VPC.
-        resources: Delete resources like `VGW`, `TGW_ATTACHMENT`, 'NAT' in a VPC.
-    """
-
-    vpc_cidrs: CIDRList = Field(default_factory=list)
-    resources: t.List[CleanupResources] = Field(default_factory=list)
-    report_only: bool = False
-
-
-GW_NAME_KEYS = ["spoke_gw_name", "transit_gw_name"]
-
-
-class DiscoveryConfiguration(_BaseModel):
-    """Discovery Migration Configuration.
-
-    Attributes:
-        aviatrix: Generate terraform resource for onboarding an Aviatrix account.
-        alert: Alerts configuration.
-        config: Script feature configuration.
-        tgw: List of TGWs used, assuming all TGWs are defining within one account.
-        account_info: Spoke VPC info.
-        switch_traffic: Configuration during switch_traffic.
-        cleanup: Resources to cleanup.
-        aws: Use AWS S3 to backup the generated account folder.
-        terraform: Mark the beginning of terraform info.
-    """
-
-    id: t.Optional[_str] = None
-    terraform: TerraformConfig
-    aviatrix: t.Optional[AviatrixConfig] = None
-    account_info: t.List[AccountInfo]
-    alert: AlertConfig = Field(default_factory=AlertConfig)
-    config: ScriptConfig = Field(default_factory=ScriptConfig)    
-    cleanup: CleanupConfig = Field(default_factory=CleanupConfig)
-    switch_traffic: SwitchTrafficConfig = Field(default_factory=SwitchTrafficConfig)
-    aws: t.Optional[BackupConfig] = None
-    tgw: t.Optional[TGWConfig] = Field(default_factory=dict)
-
-    @validator("aviatrix", always=True)
-    def check_field_for_none(cls, val, values, field):
-        if cls.discovery_only:
-            return val
-
-        if val is None:
-            raise ValueError(f"missing {field.name}")
-        return val
-
-    @validator("tgw")
-    def check_tgw_for_none(cls, val, values):
-        """
-        handle tgw None case where none of its attributes are defined.
-        """
-        if val is None:
-            raise ValueError(
-                "missing tgw_account, tgw_role and tgw_by_region attributes"
-            )
-        return val
-
-    @classmethod
-    def isExpectedVpcPrefix(cls, ip, prefixes):
-        ipn = ipaddress.ip_network(ip)
-        for n in prefixes:
-            if ipn.subnet_of(n):
-                return True
-        return False
-    
-    @validator("config")
-    def check_config(cls, val, values):
-        """1. Check configure_transit_gw_egress to configure_gw_name dependence
-           2. Check configure_transit_gw_egress to transit_gw_egress_name dependence
-           3. Validate gateway names.
-
-        Args:
-            val: The account_info dictionary.
-            values: All values passed to DiscoveryConfiguration init.
-
-        returns:
-            The account_info dictionary.
-        """
-        config = val
-        errors = []
-
-        # if discovery_only, skip validation
-        #
-        if cls.discovery_only:
-            return val
-
-        account_info = values.get("account_info", [])
-
-        # 1. check config.configure_transit_gw_egress requires config.configure_gw_name.
-        if config.configure_transit_gw_egress == True and config.configure_gw_name == False:
-            raise ValueError(
-                "config.configure_transit_gw_egress is only available when config.configure_gw_name is True."
-            )
-
-        # 2. check config.configure_transit_gw_egress and account_info.region.vpc.transit_gw_egress_name dependence
-        if config.configure_transit_gw_egress == False:
-            for account in account_info:
-                for region in account.regions:
-                    for vpc in region.vpcs:
-                        if getattr(vpc, "transit_gw_egress_name") is not None:
-                            errors.append(
-                                (account.account_id, region.region, vpc.vpc_id)
-                            )
-        if errors:
-            error_vpc_str = "\n".join(
-                f"account: {account_id}, region: {region}, vpc: {vpc_id}"
-                for account_id, region, vpc_id in errors
-            )
-            raise ValueError(
-                f"'config.configure_transit_gw_egress' must be set to True to use vpc.transit_gw_egress_name."
-                " Nonconforming VPCs: "
-                f"{error_vpc_str}"
-            )
-
-        # 3. check_gw_names
-        errors = []
-        errors2 = []
-        if config.configure_gw_name:
-            for account in account_info:
-                for region in account.regions:
-                    for vpc in region.vpcs:
-                        if any(getattr(vpc, key) is None for key in GW_NAME_KEYS):
-                            errors.append(
-                                (account.account_id, region.region, vpc.vpc_id)
-                            )
-        else:
-            for account in account_info:
-                for region in account.regions:
-                    for vpc in region.vpcs:
-                        if any(getattr(vpc, key) is not None for key in GW_NAME_KEYS):
-                            errors2.append(
-                                (account.account_id, region.region, vpc.vpc_id)
-                            )
-
-        if errors:
-            error_vpc_str = "\n".join(
-                f"account: {account_id}, region: {region}, vpc: {vpc_id}"
-                for account_id, region, vpc_id in errors
-            )
-            raise ValueError(
-                f"'config.configure_gw_name' is {config.configure_gw_name}, "
-                "both 'spoke_gw_name' and 'transit_gw_name' must be set in all VPCs."
-                "\nList of nonconforming VPCs:\n"
-                f"{error_vpc_str}"
-            )
-        if errors2:
-            error_vpc_str = "\n".join(
-                f"account: {account_id}, region: {region}, vpc: {vpc_id}"
-                for account_id, region, vpc_id in errors2
-            )
-            raise ValueError(
-                f"'config.configure_gw_name' is {config.configure_gw_name}, "
-                "both 'spoke_gw_name' and 'transit_gw_name' must NOT be set in any VPCs."
-                "\nList of nonconforming VPCs:\n"
-                f"{error_vpc_str}"
-            )
-
-        # 4. check configure_spoke_gw_hs and avtx_cidr/avtx_cidrs dependences
-        #    check gw_zones length
-        errors = []
-        avtx_cidr_errors = []
-        avtx_cidr_prefixlen_errors = []
-        gw_zones_errors = []
-        eips_hs_errors = []
-        eips_errors = []
-        for account in account_info:
-            spoke_ha = getattr(account,"spoke_ha")
-            for region in account.regions:
-                for vpc in region.vpcs:
-                    if getattr(vpc,"spoke_ha") is not None:
-                        # override account-level spoke_ha if vpc-level spoke_ha is NOT None
-                        spoke_ha = getattr(vpc,"spoke_ha")
-                    if config.configure_spoke_gw_hs and config.migrate_natgw_eip == False:
-                        allow_list = config.allow_vpc_cidrs
-                        avtx_cidr = getattr(vpc, "avtx_cidr")
-                        if avtx_cidr is not None and not cls.isExpectedVpcPrefix(avtx_cidr,allow_list):
-                            # log error if defined avtx_cidr is NOT in allow_vpc_cidrs list
-                            avtx_cidr_errors.append(
-                                (account.account_id, region.region, vpc.vpc_id)
-                            )
-                        if avtx_cidr is not None:
-                            ipn = ipaddress.IPv4Network(avtx_cidr)
-                            if ipn.prefixlen > 24:
-                                # log error if defined avtx_cidr prefix length is larger than 24
-                                avtx_cidr_prefixlen_errors.append(
-                                    (account.account_id, region.region, vpc.vpc_id)
-                                )
-                        avtx_cidrs = getattr(vpc, "avtx_cidrs")
-                        eips = getattr(vpc, "eips")                        
-                        if avtx_cidrs is None or len(avtx_cidrs) == 0:
-                            # log error if avtx_cidrs list is empty
-                            errors.append(
-                                (account.account_id, region.region, vpc.vpc_id)
-                            )
-                        elif len(avtx_cidrs) > len(getattr(vpc, "gw_zones")):
-                            # log error if length of avtx_cidrs does not match length of gw_zones
-                            gw_zones_errors.append(
-                                (account.account_id, region.region, vpc.vpc_id)
-                            )
-                        elif eips is not None and len(eips) != len(avtx_cidrs):
-                            # log error if defined number of eips does not match length of avtx_cidrs list
-                            eips_hs_errors.append(
-                                (account.account_id, region.region, vpc.vpc_id)
-                            )
-                    elif config.migrate_natgw_eip == False:
-                        eips = getattr(vpc, "eips")                        
-                        if spoke_ha == True:
-                            if eips is not None and len(eips) != 2:
-                                # log error if defined number of eips is NOT 2 in HA mode
-                                eips_errors.append(f"HA mode, 2 eips is needed in {account.account_id}/{region.region}/{vpc.vpc_id}")
-                        else:
-                            # log error if defined number of eips is NOT 1 in non-HA mode
-                            if eips is not None and len(eips) != 1:
-                                eips_errors.append(f"Non HA mode, only 1 eip is needed in {account.account_id}/{region.region}/{vpc.vpc_id}")
-
-                        if config.add_vpc_cidr == True:
-                            allow_list = config.allow_vpc_cidrs
-                            avtx_cidr = getattr(vpc, "avtx_cidr")
-                            if avtx_cidr is not None and not cls.isExpectedVpcPrefix(avtx_cidr,allow_list):
-                                # log error if avtx_cidr is NOT in allow_vpc_cidrs list
-                                avtx_cidr_errors.append(
-                                    (account.account_id, region.region, vpc.vpc_id)
-                                )
-                        if getattr(vpc, "avtx_cidr") is None or getattr(vpc, "avtx_cidrs") is not None:
-                            # log error if avtx_cidr is not defined or avtx_cidrs is defined in non-HS mode
-                            errors.append(
-                                (account.account_id, region.region, vpc.vpc_id)
-                            )
-
-        if avtx_cidr_prefixlen_errors:
-            error_vpc_str = "; ".join(
-                f"account: {account_id}, region: {region}, vpc: {vpc_id}"
-                for account_id, region, vpc_id in avtx_cidr_prefixlen_errors
-            )
-            raise ValueError(
-                    f"avtx_cidr - number of bits in network mask needs to be 24 or smaller: "
-                    f"{error_vpc_str}"
-                )
-        if avtx_cidr_errors:
-            error_vpc_str = "; ".join(
-                f"account: {account_id}, region: {region}, vpc: {vpc_id}"
-                for account_id, region, vpc_id in avtx_cidr_errors
-            )
-            raise ValueError(
-                    f"avtx_cidr is NOT in allow_vpc_cidrs list: "
-                    f"{error_vpc_str}"
-                )
-        if eips_errors:
-            error_vpc_str = "; ".join(
-                    mess
-                    for mess in eips_errors
-                )
-            raise ValueError(
-                    error_vpc_str
-                )
-        if eips_hs_errors:
-            error_vpc_str = "; ".join(
-                f"account: {account_id}, region: {region}, vpc: {vpc_id}"
-                for account_id, region, vpc_id in eips_hs_errors
-            )
-            raise ValueError(
-                    f"The number of eips should match the number of avtx_cidrs: "
-                    f"{error_vpc_str}"
-                )
-            
-        if errors:
-            error_vpc_str = "; ".join(
-                f"account: {account_id}, region: {region}, vpc: {vpc_id}"
-                for account_id, region, vpc_id in errors
-            )
-            if config.configure_spoke_gw_hs:
-                raise ValueError(
-                    f"'config.configure_spoke_gw_hs' is {config.configure_spoke_gw_hs}, "
-                    "avtx_cidrs cannot be empty. "
-                    "List of nonconforming VPCs: "
-                    f"{error_vpc_str}"
-                )
-            else:
-                raise ValueError(
-                    f"'config.configure_spoke_gw_hs' is {config.configure_spoke_gw_hs}, "
-                    "avtx_cidr must be used instead of avtx_cidrs. "
-                    "List of nonconforming VPCs: "
-                    f"{error_vpc_str}"
-                )
-        if gw_zones_errors:
-            error_vpc_str = "; ".join(
-                f"account: {account_id}, region: {region}, vpc: {vpc_id}"
-                for account_id, region, vpc_id in gw_zones_errors
-            )
-            raise ValueError(
-                "length of gw_zones must be longer than or equal to the length of avtx_cidrs. "
-                "List of nonconforming VPCs: "
-                f"{error_vpc_str}"
-            )
-        
-        # 5. check configure_spoke_advertisement and spoke_advertisement dependences
-        #    check empty spoke_advertisement
-        errors = []
-        for account in account_info:
-            for region in account.regions:
-                for vpc in region.vpcs:
-                    spoke_advertisement_list = getattr(vpc, "spoke_advertisement")
-                    if spoke_advertisement_list is not None:
-                        if config.configure_spoke_advertisement is False:
-                            raise ValueError(
-                                "configure_spoke_advertisement in config section must be set to True to use spoke_advertisement. "
-                            )
-                        if len(spoke_advertisement_list) == 0:                    
-                            errors.append(
-                                (account.account_id, region.region, vpc.vpc_id)
-                            )
-                    
-        if errors:
-            error_vpc_str = "; ".join(
-                f"account: {account_id}, region: {region}, vpc: {vpc_id}"
-                for account_id, region, vpc_id in errors
-            )
-            raise ValueError(
-                "spoke_advertisement cannot be empty. Add a CIDR or remove it. "
-                "List of nonconforming VPCs: "
-                f"{error_vpc_str}"
-            )
-
-        return config
-
-    @validator("cleanup")
-    def check_cleanup(cls, val, values):
-
-        # if discovery_only, skip validation
-        #
-        if cls.discovery_only:
-            return val
-
-        cleanup = val
-        config = values.get("config")
-        # config is not available if previous validation failed
-        if config == None:
-            return val
-
-        # check configure_gw_name and cleanup.resource["PEERING"] dependence
-        if config.configure_gw_name == False:
-            if "PEERING" in cleanup.resources:
-                raise ValueError(
-                   f"Delete 'PEERING' is only supported when config.configure_gw_name is set to True."
-                )
-
-        return val
-
-def load_from_dict(
-    config_dict: t.Dict, discovery_only: bool = False
-) -> DiscoveryConfiguration:
-    """Load discovery migration settings from a python dictionary.
-
-    Args:
-        config_dict: Python dictionary in which to load configuration
-            settings from.
-
-    Returns:
-        Parsed discovery migration settings.
-    """
-    _BaseModel.discovery_only = discovery_only
-
-    try:
-        config = DiscoveryConfiguration(**config_dict)
-    except ValidationError as e:
-        print(e.json())
-        raise SystemExit(1) from e
-    return config
-
-
-def dump_to_dict(config: DiscoveryConfiguration) -> t.Dict:
-    """Dump discovery migration settings to a python dictionary.
-
-    Args:
-        config: Discovery migration settings.
-
-    Returns:
-        Configuration dictionary.
-    """
-    json_data = config.json()
-    data = json.loads(json_data)
-
-    return data
-
-
-def load_from_yaml(
-    yml_path: pathlib.Path, discovery_only: bool = False
-) -> DiscoveryConfiguration:
-    """Load discovery migration settings from a yaml.
-
-    Args:
-        yml_path: Path to location of discovery migration yaml.
-
-    Returns:
-        Parsed discovery migration settings.
-    """
-    with open(yml_path, "r") as fh:
-        data = yaml.load(fh, Loader=yaml.FullLoader)
-
-    return load_from_dict(data, discovery_only=discovery_only)
-
-
-def dump_to_yaml(config: DiscoveryConfiguration, dest: pathlib.Path) -> pathlib.Path:
-    """Dump discovery migration settings to a yaml file.
-
-    Args:
-        config: Discovery migration settings.
-        dest: Path to destination location of discovery migration yaml.
-
-    Returns:
-        Path to destination location of discovery migration yaml.
-    """
+# -*- coding: utf-8 -*-
+"""Configuration options for discovery migration."""
+import ipaddress
+import json
+import pathlib
+import typing as t
+
+import pydantic
+import yaml
+from pydantic import constr  # Constrained string type.
+from pydantic import Field, ValidationError, root_validator, validator
+from dm.res.AviatrixProviderVersion import AviatrixProviderVersion
+from dm.res.Globals import Globals
+
+if not hasattr(t, "Literal"):
+    from typing_extensions import Literal
+
+    t.Literal = Literal
+
+
+RegionName = t.Literal[
+    "af-south-1",
+    "ap-east-1",
+    "ap-northeast-1",
+    "ap-northeast-2",
+    "ap-northeast-3",
+    "ap-south-1",
+    "ap-southeast-1",
+    "ap-southeast-2",
+    "ap-southeast-3",
+    "ca-central-1",
+    "eu-central-1",
+    "eu-north-1",
+    "eu-south-1",
+    "eu-west-1",
+    "eu-west-2",
+    "eu-west-3",
+    "me-south-3",
+    "sa-east-1",
+    "us-east-1",
+    "us-east-2",
+    "us-west-1",
+    "us-west-2",
+]
+CleanupResources = t.Literal[
+    "INTERNAL_LB",
+    "NAT",
+    "TGW_ATTACHMENT",
+    "VGW",
+    "PEERING"
+]
+CIDRList = t.List[ipaddress.IPv4Network]
+IPAddressList = t.List[ipaddress.IPv4Address]
+Tag = t.Dict[str, str]
+Tags = t.List[Tag]
+_str = constr(strip_whitespace=True)
+
+
+def _default_network() -> CIDRList:
+    return [ipaddress.IPv4Network("0.0.0.0/0")]
+
+
+class _BaseModel(pydantic.BaseModel):
+    discovery_only: t.ClassVar[bool] = False
+
+    class Config:
+        json_encoders = {
+            ipaddress.IPv4Address: str,
+            ipaddress.IPv4Network: str,
+        }
+        extra = "forbid"
+
+
+class BackupConfig(_BaseModel):
+    """Backup account folder.
+
+    Uses cloud storage to backup the generated account folder.
+    Omit this section if backup is not required.
+
+    Note:
+        Currently only S3 backup is supported.
+
+    Attributes:
+        s3: S3 backup configuration.
+    """
+
+    class S3Config(_BaseModel):
+        """Setup S3 for storing the terraform output files.
+
+        Attributes:
+            account: S3 bucket account number.
+            role_name: S3 bucket access permission.
+            name: S3 bucket name.
+            region: S3 bucket region.
+        """
+
+        account: _str
+        role_name: _str
+        name: _str
+        region: _str
+
+    s3: S3Config
+
+
+class TfControllerAccessConfig(_BaseModel):
+    """
+    Attributes:
+        mode: if "ENV" is used, AVIATRIX_USERNAME and AVIATRIX_PASSWORD should be set for terraform use.
+        ssm_role: role with SSM:getParameter permission, e.g., aviatrix-role-app. If it is set to empty string,
+                  NO assume_role statement is generated in the AWS provider.
+    """
+
+    alias: _str = "us_west_2"
+    mode: t.Literal["ENV", "SSM"] = "ENV"
+    password_store: _str = "avx-admin-password"
+    region: _str = "us-west-2"
+    ssm_role: _str = ""
+    username: _str = "admin"
+
+    @root_validator(pre=True)
+    def check_mode(cls, values):
+        """
+        Avoid confusion, do not allow other attributes if ENV is used.
+        """
+        if "mode" in values and values["mode"] == "ENV":
+            if len(values) > 1:
+                lvalues = dict(values)
+                del lvalues["mode"]
+                raise ValueError(
+                    f"When aviatrix.tf_controller_access.mode is 'ENV', "
+                    f"the following attribute(s) {lvalues} should be removed."
+                )
+
+        return values
+
+
+class TfCloudConfig(_BaseModel):
+    organization: _str = None
+    workspace_name: _str = None
+    tags: t.Optional[t.List[_str]] = None
+
+    @classmethod
+    def valid_str_attribute(cls, val):
+        if val is None or len(val) == 0:
+            return False
+        return True
+
+    @root_validator(pre=True)
+    def check_required_attributes(cls, values):
+        """
+        check required attributes are there:
+        - organization attribute is mandatory;
+        - only one of workspace_name and tags attributes is allowed and required.
+        check if
+        """
+        if "organization" not in values or not cls.valid_str_attribute(
+            values["organization"]
+        ):
+            raise ValueError("Missing organization name")
+        if "workspace_name" not in values and "tags" not in values:
+            raise ValueError(
+                "Required workspace_name or tags atttribute to be defined"
+            )
+        if "workspace_name" in values and "tags" in values:
+            raise ValueError("Either workspace_name or tags is allowed")
+        if "workspace_name" in values and not cls.valid_str_attribute(
+            values["workspace_name"]
+        ):
+            raise ValueError("Missing workspace_name")
+        if "tags" in values and not all(
+            [cls.valid_str_attribute(x) for x in values["tags"]]
+        ):
+            raise ValueError("Empty tag not allowed")
+        return values
+
+    @validator("tags")
+    def check_and_rewrite_tags(cls, v):
+        """
+        1. If tags list is empty, raise error
+        2. Convert input tags (list of string), e.g., ['abc', 'dec'] into
+           a string tags with double quote, e.g., '["abc", "dec"]'.
+           This will facilitate terraform tags generation, which requires a list
+           of double quote string.
+
+           Performing the conversion here seems to be pretty clean; otherwise,
+           it can be done inside common.readGlobalConfigOption.
+
+           *** Of course, we are changing the tags type in such conversion,
+           *** seems to be allowed by pydantic.
+        """
+        if v is not None:
+            if len(v) == 0:
+                raise ValueError("tags list cannot be empty")
+            return json.dumps(v)
+        return v
+
+
+class TerraformConfig(_BaseModel):
+    """Terraform configuration.
+
+    Attributes:
+        terraform_output: Absolute path to the TF files created.
+        terraform_version: Terraform version in terraform version syntax
+        aviatrix_provider: Aviatrix terraform provider version in
+            terraform version syntax
+        aws_provider: AWS terraform provider version in terraform version syntax
+        enable_s3_backend: Generate terraform S3 backend config.
+            Default to True.
+        module_source:  Override the module source in `vpc.tf`. If this is
+            omitted or "", we use the included TF module source.
+            Defaults to "".
+    """
+
+    DEFAULT_MODULE_SOURCE: t.ClassVar[_str] = "../module_aws_brownfield_spoke_vpc"
+    DEFAULT_MODULE_NAME: t.ClassVar[_str] = "module_aws_brownfield_spoke_vpc"
+
+    regenerate_common_tf: bool = True
+    terraform_output: _str
+    terraform_version: t.Optional[_str] = None  # = ">= 0.14"
+    aviatrix_provider: t.Optional[_str] = None  # "= 2.19.3"
+    aws_provider: t.Optional[_str] = None  # "~> 3.43.0"
+    enable_s3_backend: bool = False
+    module_source: t.Optional[_str] = DEFAULT_MODULE_SOURCE
+    module_name: t.Optional[_str] = DEFAULT_MODULE_NAME
+    tf_cloud: TfCloudConfig = None
+    tmp_folder_id: t.Optional[_str] = None
+
+    @validator("aviatrix_provider")
+    def validateAviatrixProviderVersion(cls, val):
+        Globals.setAvxProvider(val)
+        return val
+
+    @validator("terraform_version", "aviatrix_provider", "aws_provider", always=True)
+    def check_field_for_none(cls, val, values, field):
+        if cls.discovery_only:
+            return val
+
+        if val is None:
+            raise ValueError(f"missing {field.name} attribute")
+        return val
+
+    @validator("tf_cloud")
+    def check_tfcloud_for_none(cls, val, values):
+        """
+        handle tfcloud None case where none of its attributes are defined.
+        """
+        if val is None:
+            raise ValueError("missing organization, workspace_name, tags attributes")
+        return val
+
+    @validator("tmp_folder_id")
+    def validate_tmp_folder_id(cls, val):
+
+        if val is not None and val != "VPC_ID" and val != "YAML_ID":
+            raise ValueError('Valid input for tmp_folder_id is "VPC_ID" or "YAML_ID"')
+        
+        return val
+
+class AviatrixConfig(_BaseModel):
+    """Aviatrix config for onboarding.
+
+    Attributes:
+        controller_ip: Aviatrix controller IP address.
+        controller_account: The AWS Account # where the controller resides.
+        ctrl_role_app: Controller app role name in the SPOKE account.
+        ctrl_role_ec2: Controller EC2 role name in the CONTROLLER account
+        gateway_role_app: Gateway role name in the SPOKE account
+        gateway_role_ec2: Gateway instance profile name in the SPOKE account
+        tf_controller_access: terraform attributes for accessing controller password, via AWS SSM or ENV
+    """
+
+    controller_ip: ipaddress.IPv4Address
+    controller_account: _str
+    ctrl_role_app: _str = "aviatrix-role-app"
+    ctrl_role_ec2: _str = "aviatrix-role-ec2"
+    gateway_role_app: _str = "aviatrix-role-app"
+    gateway_role_ec2: _str = "aviatrix-role-ec2"
+    tf_controller_access: TfControllerAccessConfig = Field(
+        default_factory=TfControllerAccessConfig
+    )
+
+
+class AlertConfig(_BaseModel):
+    """Alert configuration.
+
+    Attributes:
+        expect_dest_cidrs: Alert IP not fall within the given CIDR list. Turn
+            off this alert using [0.0.0.0/0].
+        expect_vpc_prefixes: Alert VPC prefix not fall within given CIDR
+            ranges. Turn off this alert using [0.0.0.0/0].
+    """
+
+    expect_dest_cidrs: CIDRList = Field(default_factory=_default_network)
+    expect_vpc_prefixes: CIDRList = Field(default_factory=_default_network)
+    check_gateway_existence: t.Optional[bool] = True
+
+
+class SnatPoliciesConfig(_BaseModel):
+    src_ip: _str = None
+    connection: _str = None
+    new_src_ip: _str = None
+    protocol: _str = "all"
+    apply_route_entry: t.Optional[bool] = False
+
+
+class ScriptConfig(_BaseModel):
+    """Configuration for script features.
+
+    Attributes:
+        add_vpc_cidr:
+        allow_vpc_cidrs: List of allowed VPC CIDRs. Only the allowed CIDRs will
+            be copied to vpc_cidr and passed to the brownfield spoke VPC
+            terraform module. Set it to [0.0.0.0/0] to allow any CIDR.
+        configure_gw_name:
+        configure_spoke_advertisement:
+        filter_tgw_attachment_subnet: enable tgw attachment subnet filtering.
+            Skip subnet used by TGW vpc attachement.
+        route_table_tags: List of tags to be added to the route table(s). Omit
+            this section if no tags required.
+            Defaults to [].
+        subnet_tags: List of tags to be added to the subnet(s). Omit this
+            section if no tags required.
+            Defaults to [].
+    """
+
+    add_vpc_cidr: bool = True
+    allow_vpc_cidrs: CIDRList = Field(default_factory=_default_network)
+    configure_gw_name: bool = True
+    configure_spoke_advertisement: bool = False
+    configure_transit_gw_egress: t.Optional[bool] = False
+    configure_gw_lb_ep: t.Optional[bool] = False 
+    configure_spoke_gw_hs: t.Optional[bool] = False
+    filter_tgw_attachment_subnet: bool = False
+    filter_vgw_routes: t.Optional[bool] = True
+    filter_tgw_routes: t.Optional[bool] = True
+    route_table_tags: Tags = Field(default_factory=list)
+    subnet_tags: Tags = Field(default_factory=list)
+    snat_policies: t.List[SnatPoliciesConfig] = None
+    import_resources: t.Optional[bool] = True
+    migrate_natgw_eip: t.Optional[bool] = False
+    deploy_2_spokes_only: t.Optional[bool] = False
+    deploy_dummy_spokes: t.Optional[bool] = False
+    migrate_natgw_one_spoke_per_az: t.Optional[bool] = False
+    natgw_backup_dir: t.Optional[_str] = "natgw_backups"
+
+    @validator("configure_spoke_gw_hs")
+    def validate_configure_spoke_gw_hs(cls, val, values):
+        if val == True:
+            if values["add_vpc_cidr"] == True:
+                raise ValueError('To enable configure_spoke_gw_hs, add_vpc_cidr must be set to False')
+        return val
+
+    @validator("migrate_natgw_eip")
+    def validate_migrate_natgw_eip(cls, val, values):
+        if val == True and values["configure_spoke_gw_hs"] == False:
+            raise ValueError('configure_spoke_gw_hs must be set to True before setting migrate_natgw_eip to True')
+        return val
+
+    @validator("deploy_2_spokes_only", always=True)
+    def validate_deploy_2_spokes_only(cls, val, values):
+        # configure_spoke_gw_hs might not exist if it failed its own validation
+        if not "configure_spoke_gw_hs" in values:
+            return val
+        if val == False and values["configure_spoke_gw_hs"] == True and values["snat_policies"] is not None:
+            raise ValueError('When using gateway group (configure_spoke_gw_hs is True) with customized SNAT, deploy_2_spokes_only must be set to True')
+        if val == True and values["configure_spoke_gw_hs"] == False:
+            raise ValueError('configure_spoke_gw_hs must be set to True before setting deploy_2_spokes_only to True')
+        return val
+
+    @validator("deploy_dummy_spokes")
+    def validate_deploy_dummy_spokes(cls, val, values):
+        if val == True:
+            if "configure_spoke_gw_hs" in values and values["configure_spoke_gw_hs"] == False:
+                raise ValueError('configure_spoke_gw_hs and deploy_2_spokes_only must be set to True before setting deploy_dummy_spokes to True')                
+            if "deploy_2_spokes_only" in values and values["deploy_2_spokes_only"] == False:
+                raise ValueError('configure_spoke_gw_hs and deploy_2_spokes_only must be set to True before setting deploy_dummy_spokes to True')
+        return val
+
+    @validator("migrate_natgw_one_spoke_per_az")
+    def validate_migrate_natgw_one_spoke_per_az(cls, val, values):
+        if val == True:
+            if "configure_spoke_gw_hs" in values and values["configure_spoke_gw_hs"] == False:
+                raise ValueError('configure_spoke_gw_hs and migrate_natgw_eip must be set to True before setting migrate_natgw_one_spoke_per_az to True')
+            if "migrate_natgw_eip" in values and values["migrate_natgw_eip"] == False:
+                raise ValueError('configure_spoke_gw_hs and migrate_natgw_eip must be set to True before setting migrate_natgw_one_spoke_per_az to True')
+        return val
+
+class TGWConfig(_BaseModel):
+    """Transit gateways.
+
+    Attributes:
+        tgw_account: TGW account number.
+        tgw_role: TGW account access role.
+        tgw_by_region: Dictionary of TGW Regions to TGW ID.
+            e.g.: {"us-east-1": "tgw-020a8339660950770"}
+    """
+
+    tgw_account: _str
+    tgw_role: _str
+    tgw_by_region: t.Dict[RegionName, _str] = Field(default_factory=dict)
+
+
+GWName = constr(strip_whitespace=True, max_length=50)
+
+
+class VPCConfig(_BaseModel):
+    """Settings for VPC migration.
+
+    Attributes:
+        vpc_id: VPC ID to be migrated
+        avtx_cidr: Sets the Aviatrix CIDR used in `vpc-id.tf`.
+        gw_zones: Zone letters to deploy spoke gateways in. Discovery will
+            deduce the zones if an empty list [] is used.
+            Defaults to [].
+        spoke_gw_tags: A list of tags applied to the spoke gateway.
+        domain:
+        encrypt:
+        inspection:
+        spoke_advertisement:
+        spoke_routes:
+        spoke_gw_name: Name of the spoke gateway.
+        transit_gw_name: Name of the transit gateway.
+        retain_peerings: List of pcx-ids for which the peering routes will NOT be deleted when running dm.delete_peer_route.
+    """
+
+    vpc_id: _str
+    avtx_cidr: t.Optional[ipaddress.IPv4Network] = None
+    avtx_cidrs: t.Optional[CIDRList] = None
+    gw_zones: t.List[_str] = Field(default_factory=list)
+    eips: t.Optional[IPAddressList] = None
+    spoke_gw_tags: Tags = Field(default_factory=list)
+    domain: t.Optional[_str] = None
+    encrypt: t.Optional[bool] = None
+    encrypt_key: t.Optional[_str] = None
+    inspection: t.Optional[bool] = None
+    spoke_advertisement: t.Optional[CIDRList] = None
+    spoke_routes: t.Optional[CIDRList] = None
+    spoke_gw_name: t.Optional[GWName] = None
+    transit_gw_name: t.Optional[GWName] = None
+    transit_gw_egress_name: t.Optional[GWName] = None
+    enable_spoke_egress: t.Optional[bool] = None
+    spoke_gw_size: t.Optional[_str] = None
+    hpe: t.Optional[bool] = None
+    max_hpe_performance: t.Optional[bool] = None
+    spoke_ha: t.Optional[bool] = None
+    retain_peerings: t.List[str] = Field(default_factory=list)
+    retain_peering_cidrs: CIDRList = Field(default_factory=_default_network)
+    customized_single_ip_snat: bool = False
+    az_affinity: t.Optional[bool] = False
+
+
+    @validator("max_hpe_performance")
+    def validate_max_hpe_performance(cls, val, values):
+        avxProviderVersionStr = Globals.getAvxProvider()
+        avxProvider = AviatrixProviderVersion(avxProviderVersionStr)
+        if avxProvider.lessThan("2.22.3"):
+            raise ValueError('attribute max_hpe_performance is available only if aviatrix_provider is >= 2.22.3')
+
+        hpe = values.get("hpe", None)
+        if hpe is not None and hpe == False and val is not None:
+            raise ValueError('attribute max_hpe_performance is available only if hpe is set to True')
+        return val
+
+
+    # @validator("avtx_cidr", always=True)
+    # def check_avtx_cidr_for_none(cls, val, values):
+    #     """
+    #     Setup avtx_cidr be an optional attribute initially.
+    #     This routine is used to dynamically control its optional behavior,
+    #     based upon the args.discovery_only flag.
+    #     It also makes sure this is a valid IPv4 address
+    #     """
+    #     if cls.discovery_only:
+    #         return val
+
+    #     if val is None:
+    #         raise ValueError("missing avtx_cidr attribute")
+
+    #     ipaddress.ip_network(val)  # Checks `val` is a valid IP address.
+
+    #     return val
+
+    @validator("encrypt_key")
+    def check_encrypt_key(cls, val, values):
+        """
+        encrypt_key can only be set if encrypt is True
+        """
+        if cls.discovery_only:
+            return val
+
+        encrypt = values.get("encrypt", None)
+        if (encrypt is None or encrypt == False) and val is not None:
+            raise ValueError("encrypt must be True to set encrypt_key")
+
+        return val
+
+
+class Region(_BaseModel):
+    """Region config container.
+
+    Attributes:
+        region: Name of the region.
+        vpcs: List of vpcs in the region.
+    """
+
+    region: RegionName
+    vpcs: t.List[VPCConfig]
+
+
+class AccountInfo(_BaseModel):
+    """Information about spoke VPCs.
+
+    Attributes:
+        account_id: AWS Account number.
+        account_name: Name of the VPC account owner.
+        hpe: Enable high performance encryption on spoke gateways.
+            Defaults to True.
+        managed_tgw:
+        filter_cidrs: Filters out any route within specified CIDR when copying
+            the route table. No need to add RFC1918 routes in the list; they
+            are filtered by default. Set it to empty list [] if no filtering required.
+        spoke_gw_size: Spoke gateway instance size.
+        role_name: IAM role assumed to execute API calls.
+        add_account:
+        onboard_account:
+        regions: Dictionary of region names to a list of VPC configurations.
+    """
+
+    account_id: constr(strip_whitespace=True, regex=r"^[0-9]+$")  # noqa: F722
+    account_name: t.Optional[_str] = ""
+    regions: t.List[Region]
+    hpe: bool = True
+    managed_tgw: bool = False
+    filter_cidrs: CIDRList = Field(default_factory=list)
+    spoke_gw_size: _str = "t3.micro"
+    role_name: _str = "aviatrix-role-app"
+    add_account: bool = False
+    onboard_account: bool = False
+    enable_spoke_egress: bool = False
+    max_hpe_performance: t.Optional[bool] = None
+    spoke_ha: t.Optional[bool] = True
+
+    @validator("max_hpe_performance")
+    def validate_max_hpe_performance(cls, val, values):
+        avxProviderVersionStr = Globals.getAvxProvider()
+        avxProvider = AviatrixProviderVersion(avxProviderVersionStr)
+        if avxProvider.lessThan("2.22.3"):
+            raise ValueError('attribute max_hpe_performance is available only if aviatrix_provider is >= 2.22.3')
+
+        hpe = values.get("hpe", None)
+        if hpe is not None and hpe == False and val is not None:
+            raise ValueError('attribute max_hpe_performance is available only if hpe is set to True')
+        return val
+
+
+class SwitchTrafficConfig(_BaseModel):
+    """Settings used during `switch_traffic.
+
+    Attributes:
+        delete_tgw_route_delay: Specifiy the delay between
+            spoke-gw-advertize-cidr and tgw-route-removal in seconds.
+            Defaults to 5.
+    """
+
+    delete_tgw_route_delay: _str = "5"
+
+
+class CleanupConfig(_BaseModel):
+    """Resources to cleanup.
+
+    Attributes:
+        vpc_cidrs: CIDR's to be deleted from VPC.
+        resources: Delete resources like `VGW`, `TGW_ATTACHMENT`, 'NAT' in a VPC.
+    """
+
+    vpc_cidrs: CIDRList = Field(default_factory=list)
+    resources: t.List[CleanupResources] = Field(default_factory=list)
+    report_only: bool = False
+
+
+GW_NAME_KEYS = ["spoke_gw_name", "transit_gw_name"]
+
+
+class DiscoveryConfiguration(_BaseModel):
+    """Discovery Migration Configuration.
+
+    Attributes:
+        aviatrix: Generate terraform resource for onboarding an Aviatrix account.
+        alert: Alerts configuration.
+        config: Script feature configuration.
+        tgw: List of TGWs used, assuming all TGWs are defining within one account.
+        account_info: Spoke VPC info.
+        switch_traffic: Configuration during switch_traffic.
+        cleanup: Resources to cleanup.
+        aws: Use AWS S3 to backup the generated account folder.
+        terraform: Mark the beginning of terraform info.
+    """
+
+    id: t.Optional[_str] = None
+    terraform: TerraformConfig
+    aviatrix: t.Optional[AviatrixConfig] = None
+    account_info: t.List[AccountInfo]
+    alert: AlertConfig = Field(default_factory=AlertConfig)
+    config: ScriptConfig = Field(default_factory=ScriptConfig)    
+    cleanup: CleanupConfig = Field(default_factory=CleanupConfig)
+    switch_traffic: SwitchTrafficConfig = Field(default_factory=SwitchTrafficConfig)
+    aws: t.Optional[BackupConfig] = None
+    tgw: t.Optional[TGWConfig] = Field(default_factory=dict)
+
+    @validator("aviatrix", always=True)
+    def check_field_for_none(cls, val, values, field):
+        if cls.discovery_only:
+            return val
+
+        if val is None:
+            raise ValueError(f"missing {field.name}")
+        return val
+
+    @validator("tgw")
+    def check_tgw_for_none(cls, val, values):
+        """
+        handle tgw None case where none of its attributes are defined.
+        """
+        if val is None:
+            raise ValueError(
+                "missing tgw_account, tgw_role and tgw_by_region attributes"
+            )
+        return val
+
+    @classmethod
+    def isExpectedVpcPrefix(cls, ip, prefixes):
+        ipn = ipaddress.ip_network(ip)
+        for n in prefixes:
+            if ipn.subnet_of(n):
+                return True
+        return False
+    
+    @validator("config")
+    def check_config(cls, val, values):
+        """1. Check configure_transit_gw_egress to configure_gw_name dependence
+           2. Check configure_transit_gw_egress to transit_gw_egress_name dependence
+           3. Validate gateway names.
+
+        Args:
+            val: The account_info dictionary.
+            values: All values passed to DiscoveryConfiguration init.
+
+        returns:
+            The account_info dictionary.
+        """
+        config = val
+        errors = []
+
+        # if discovery_only, skip validation
+        #
+        if cls.discovery_only:
+            return val
+
+        account_info = values.get("account_info", [])
+
+        # 1. check config.configure_transit_gw_egress requires config.configure_gw_name.
+        if config.configure_transit_gw_egress == True and config.configure_gw_name == False:
+            raise ValueError(
+                "config.configure_transit_gw_egress is only available when config.configure_gw_name is True."
+            )
+
+        # 2. check config.configure_transit_gw_egress and account_info.region.vpc.transit_gw_egress_name dependence
+        if config.configure_transit_gw_egress == False:
+            for account in account_info:
+                for region in account.regions:
+                    for vpc in region.vpcs:
+                        if getattr(vpc, "transit_gw_egress_name") is not None:
+                            errors.append(
+                                (account.account_id, region.region, vpc.vpc_id)
+                            )
+        if errors:
+            error_vpc_str = "\n".join(
+                f"account: {account_id}, region: {region}, vpc: {vpc_id}"
+                for account_id, region, vpc_id in errors
+            )
+            raise ValueError(
+                f"'config.configure_transit_gw_egress' must be set to True to use vpc.transit_gw_egress_name."
+                " Nonconforming VPCs: "
+                f"{error_vpc_str}"
+            )
+
+        # 3. check_gw_names
+        errors = []
+        errors2 = []
+        if config.configure_gw_name:
+            for account in account_info:
+                for region in account.regions:
+                    for vpc in region.vpcs:
+                        if any(getattr(vpc, key) is None for key in GW_NAME_KEYS):
+                            errors.append(
+                                (account.account_id, region.region, vpc.vpc_id)
+                            )
+        else:
+            for account in account_info:
+                for region in account.regions:
+                    for vpc in region.vpcs:
+                        if any(getattr(vpc, key) is not None for key in GW_NAME_KEYS):
+                            errors2.append(
+                                (account.account_id, region.region, vpc.vpc_id)
+                            )
+
+        if errors:
+            error_vpc_str = "\n".join(
+                f"account: {account_id}, region: {region}, vpc: {vpc_id}"
+                for account_id, region, vpc_id in errors
+            )
+            raise ValueError(
+                f"'config.configure_gw_name' is {config.configure_gw_name}, "
+                "both 'spoke_gw_name' and 'transit_gw_name' must be set in all VPCs."
+                "\nList of nonconforming VPCs:\n"
+                f"{error_vpc_str}"
+            )
+        if errors2:
+            error_vpc_str = "\n".join(
+                f"account: {account_id}, region: {region}, vpc: {vpc_id}"
+                for account_id, region, vpc_id in errors2
+            )
+            raise ValueError(
+                f"'config.configure_gw_name' is {config.configure_gw_name}, "
+                "both 'spoke_gw_name' and 'transit_gw_name' must NOT be set in any VPCs."
+                "\nList of nonconforming VPCs:\n"
+                f"{error_vpc_str}"
+            )
+
+        # 4. check configure_spoke_gw_hs and avtx_cidr/avtx_cidrs dependences
+        #    check gw_zones length
+        errors = []
+        avtx_cidr_errors = []
+        avtx_cidr_prefixlen_errors = []
+        gw_zones_errors = []
+        eips_hs_errors = []
+        eips_errors = []
+        for account in account_info:
+            spoke_ha = getattr(account,"spoke_ha")
+            for region in account.regions:
+                for vpc in region.vpcs:
+                    if getattr(vpc,"spoke_ha") is not None:
+                        # override account-level spoke_ha if vpc-level spoke_ha is NOT None
+                        spoke_ha = getattr(vpc,"spoke_ha")
+                    if config.configure_spoke_gw_hs and config.migrate_natgw_eip == False:
+                        allow_list = config.allow_vpc_cidrs
+                        avtx_cidr = getattr(vpc, "avtx_cidr")
+                        if avtx_cidr is not None and not cls.isExpectedVpcPrefix(avtx_cidr,allow_list):
+                            # log error if defined avtx_cidr is NOT in allow_vpc_cidrs list
+                            avtx_cidr_errors.append(
+                                (account.account_id, region.region, vpc.vpc_id)
+                            )
+                        if avtx_cidr is not None:
+                            ipn = ipaddress.IPv4Network(avtx_cidr)
+                            if ipn.prefixlen > 24:
+                                # log error if defined avtx_cidr prefix length is larger than 24
+                                avtx_cidr_prefixlen_errors.append(
+                                    (account.account_id, region.region, vpc.vpc_id)
+                                )
+                        avtx_cidrs = getattr(vpc, "avtx_cidrs")
+                        eips = getattr(vpc, "eips")                        
+                        if avtx_cidrs is None or len(avtx_cidrs) == 0:
+                            # log error if avtx_cidrs list is empty
+                            errors.append(
+                                (account.account_id, region.region, vpc.vpc_id)
+                            )
+                        elif len(avtx_cidrs) > len(getattr(vpc, "gw_zones")):
+                            # log error if length of avtx_cidrs does not match length of gw_zones
+                            gw_zones_errors.append(
+                                (account.account_id, region.region, vpc.vpc_id)
+                            )
+                        elif eips is not None and len(eips) != len(avtx_cidrs):
+                            # log error if defined number of eips does not match length of avtx_cidrs list
+                            eips_hs_errors.append(
+                                (account.account_id, region.region, vpc.vpc_id)
+                            )
+                    elif config.migrate_natgw_eip == False:
+                        eips = getattr(vpc, "eips")                        
+                        if spoke_ha == True:
+                            if eips is not None and len(eips) != 2:
+                                # log error if defined number of eips is NOT 2 in HA mode
+                                eips_errors.append(f"HA mode, 2 eips is needed in {account.account_id}/{region.region}/{vpc.vpc_id}")
+                        else:
+                            # log error if defined number of eips is NOT 1 in non-HA mode
+                            if eips is not None and len(eips) != 1:
+                                eips_errors.append(f"Non HA mode, only 1 eip is needed in {account.account_id}/{region.region}/{vpc.vpc_id}")
+
+                        if config.add_vpc_cidr == True:
+                            allow_list = config.allow_vpc_cidrs
+                            avtx_cidr = getattr(vpc, "avtx_cidr")
+                            if avtx_cidr is not None and not cls.isExpectedVpcPrefix(avtx_cidr,allow_list):
+                                # log error if avtx_cidr is NOT in allow_vpc_cidrs list
+                                avtx_cidr_errors.append(
+                                    (account.account_id, region.region, vpc.vpc_id)
+                                )
+                        if getattr(vpc, "avtx_cidr") is None or getattr(vpc, "avtx_cidrs") is not None:
+                            # log error if avtx_cidr is not defined or avtx_cidrs is defined in non-HS mode
+                            errors.append(
+                                (account.account_id, region.region, vpc.vpc_id)
+                            )
+
+        if avtx_cidr_prefixlen_errors:
+            error_vpc_str = "; ".join(
+                f"account: {account_id}, region: {region}, vpc: {vpc_id}"
+                for account_id, region, vpc_id in avtx_cidr_prefixlen_errors
+            )
+            raise ValueError(
+                    f"avtx_cidr - number of bits in network mask needs to be 24 or smaller: "
+                    f"{error_vpc_str}"
+                )
+        if avtx_cidr_errors:
+            error_vpc_str = "; ".join(
+                f"account: {account_id}, region: {region}, vpc: {vpc_id}"
+                for account_id, region, vpc_id in avtx_cidr_errors
+            )
+            raise ValueError(
+                    f"avtx_cidr is NOT in allow_vpc_cidrs list: "
+                    f"{error_vpc_str}"
+                )
+        if eips_errors:
+            error_vpc_str = "; ".join(
+                    mess
+                    for mess in eips_errors
+                )
+            raise ValueError(
+                    error_vpc_str
+                )
+        if eips_hs_errors:
+            error_vpc_str = "; ".join(
+                f"account: {account_id}, region: {region}, vpc: {vpc_id}"
+                for account_id, region, vpc_id in eips_hs_errors
+            )
+            raise ValueError(
+                    f"The number of eips should match the number of avtx_cidrs: "
+                    f"{error_vpc_str}"
+                )
+            
+        if errors:
+            error_vpc_str = "; ".join(
+                f"account: {account_id}, region: {region}, vpc: {vpc_id}"
+                for account_id, region, vpc_id in errors
+            )
+            if config.configure_spoke_gw_hs:
+                raise ValueError(
+                    f"'config.configure_spoke_gw_hs' is {config.configure_spoke_gw_hs}, "
+                    "avtx_cidrs cannot be empty. "
+                    "List of nonconforming VPCs: "
+                    f"{error_vpc_str}"
+                )
+            else:
+                raise ValueError(
+                    f"'config.configure_spoke_gw_hs' is {config.configure_spoke_gw_hs}, "
+                    "avtx_cidr must be used instead of avtx_cidrs. "
+                    "List of nonconforming VPCs: "
+                    f"{error_vpc_str}"
+                )
+        if gw_zones_errors:
+            error_vpc_str = "; ".join(
+                f"account: {account_id}, region: {region}, vpc: {vpc_id}"
+                for account_id, region, vpc_id in gw_zones_errors
+            )
+            raise ValueError(
+                "length of gw_zones must be longer than or equal to the length of avtx_cidrs. "
+                "List of nonconforming VPCs: "
+                f"{error_vpc_str}"
+            )
+        
+        # 5. check configure_spoke_advertisement and spoke_advertisement dependences
+        #    check empty spoke_advertisement
+        errors = []
+        for account in account_info:
+            for region in account.regions:
+                for vpc in region.vpcs:
+                    spoke_advertisement_list = getattr(vpc, "spoke_advertisement")
+                    if spoke_advertisement_list is not None:
+                        if config.configure_spoke_advertisement is False:
+                            raise ValueError(
+                                "configure_spoke_advertisement in config section must be set to True to use spoke_advertisement. "
+                            )
+                        if len(spoke_advertisement_list) == 0:                    
+                            errors.append(
+                                (account.account_id, region.region, vpc.vpc_id)
+                            )
+                    
+        if errors:
+            error_vpc_str = "; ".join(
+                f"account: {account_id}, region: {region}, vpc: {vpc_id}"
+                for account_id, region, vpc_id in errors
+            )
+            raise ValueError(
+                "spoke_advertisement cannot be empty. Add a CIDR or remove it. "
+                "List of nonconforming VPCs: "
+                f"{error_vpc_str}"
+            )
+
+        return config
+
+    @validator("cleanup")
+    def check_cleanup(cls, val, values):
+
+        # if discovery_only, skip validation
+        #
+        if cls.discovery_only:
+            return val
+
+        cleanup = val
+        config = values.get("config")
+        # config is not available if previous validation failed
+        if config == None:
+            return val
+
+        # check configure_gw_name and cleanup.resource["PEERING"] dependence
+        if config.configure_gw_name == False:
+            if "PEERING" in cleanup.resources:
+                raise ValueError(
+                   f"Delete 'PEERING' is only supported when config.configure_gw_name is set to True."
+                )
+
+        return val
+
+def load_from_dict(
+    config_dict: t.Dict, discovery_only: bool = False
+) -> DiscoveryConfiguration:
+    """Load discovery migration settings from a python dictionary.
+
+    Args:
+        config_dict: Python dictionary in which to load configuration
+            settings from.
+
+    Returns:
+        Parsed discovery migration settings.
+    """
+    _BaseModel.discovery_only = discovery_only
+
+    try:
+        config = DiscoveryConfiguration(**config_dict)
+    except ValidationError as e:
+        print(e.json())
+        raise SystemExit(1) from e
+    return config
+
+
+def dump_to_dict(config: DiscoveryConfiguration) -> t.Dict:
+    """Dump discovery migration settings to a python dictionary.
+
+    Args:
+        config: Discovery migration settings.
+
+    Returns:
+        Configuration dictionary.
+    """
+    json_data = config.json()
+    data = json.loads(json_data)
+
+    return data
+
+
+def load_from_yaml(
+    yml_path: pathlib.Path, discovery_only: bool = False
+) -> DiscoveryConfiguration:
+    """Load discovery migration settings from a yaml.
+
+    Args:
+        yml_path: Path to location of discovery migration yaml.
+
+    Returns:
+        Parsed discovery migration settings.
+    """
+    with open(yml_path, "r") as fh:
+        data = yaml.load(fh, Loader=yaml.FullLoader)
+
+    return load_from_dict(data, discovery_only=discovery_only)
+
+
+def dump_to_yaml(config: DiscoveryConfiguration, dest: pathlib.Path) -> pathlib.Path:
+    """Dump discovery migration settings to a yaml file.
+
+    Args:
+        config: Discovery migration settings.
+        dest: Path to destination location of discovery migration yaml.
+
+    Returns:
+        Path to destination location of discovery migration yaml.
+    """
```

## Comparing `aviatrix_migration-0.2.94.data/data/migration/discovery_migration/aws/combined/account.template` & `aviatrix_migration-0.2.95.data/data/migration/discovery_migration/aws/combined/account.template`

 * *Ordering differences only*

 * *Files 8% similar despite different names*

```diff
@@ -1,11 +1,11 @@
-resource "aviatrix_account" "aws_customer" {
-  account_name         = "aws-${var.aws_account}"
-  cloud_type           = 1
-  aws_account_number   = var.aws_account
-  aws_iam              = true
-  audit_account        = false
-  aws_role_app         = "arn:aws:iam::${var.aws_account}:role/${var.ctrl_role_app}"
-  aws_role_ec2         = "arn:aws:iam::${var.aws_ctrl_account}:role/${var.ctrl_role_ec2}"
-  aws_gateway_role_app = "arn:aws:iam::${var.aws_account}:role/${var.gateway_role_app}"
-  aws_gateway_role_ec2 = "arn:aws:iam::${var.aws_account}:role/${var.gateway_role_ec2}"
-} 
+resource "aviatrix_account" "aws_customer" {
+  account_name         = "aws-${var.aws_account}"
+  cloud_type           = 1
+  aws_account_number   = var.aws_account
+  aws_iam              = true
+  audit_account        = false
+  aws_role_app         = "arn:aws:iam::${var.aws_account}:role/${var.ctrl_role_app}"
+  aws_role_ec2         = "arn:aws:iam::${var.aws_ctrl_account}:role/${var.ctrl_role_ec2}"
+  aws_gateway_role_app = "arn:aws:iam::${var.aws_account}:role/${var.gateway_role_app}"
+  aws_gateway_role_ec2 = "arn:aws:iam::${var.aws_account}:role/${var.gateway_role_ec2}"
+}
```

## Comparing `aviatrix_migration-0.2.94.data/data/migration/discovery_migration/aws/combined/main.tf` & `aviatrix_migration-0.2.95.data/data/migration/discovery_migration/aws/generic/main.tf`

 * *Files 18% similar despite different names*

```diff
@@ -1,30 +1,18 @@
-{% if data.tf_controller_access.mode == "SSM" %}
-data "aws_ssm_parameter" "avx-password" {
-  name     = "{{data.tf_controller_access.password_store}}"
-  provider = aws.{{data.tf_controller_access.alias}}
-}
-{% endif %}
-
-{% if data.onboard_account %}
-resource "aviatrix_account" "aws_customer" {
-  {% if data.account_name is defined %}
-  account_name         = "{{data.account_name}}"
-  {% else %}
-  account_name         = "aws-${var.aws_account}"
-  {% endif %}
-  cloud_type           = 1
-  aws_account_number   = var.aws_account
-  aws_iam              = true
-  audit_account        = false
-  aws_role_app         = "arn:aws:iam::${var.aws_account}:role/${var.ctrl_role_app}"
-  aws_role_ec2         = "arn:aws:iam::${var.aws_ctrl_account}:role/${var.ctrl_role_ec2}"
-  aws_gateway_role_app = "arn:aws:iam::${var.aws_account}:role/${var.gateway_role_app}"
-  aws_gateway_role_ec2 = "arn:aws:iam::${var.aws_account}:role/${var.gateway_role_ec2}"
-}
-{% endif %}
-
-{% if data.enable_s3_backend %}
-terraform {
-  backend "s3" {}
-}
-{% endif %}
+data "aws_ssm_parameter" "avx-password" {
+  name     = "avx-admin-password"
+  provider = aws.us_west_2
+}
+
+# resource "aviatrix_account" "aws_customer" {
+#   account_name       = "aws-$${var.aws_account}"
+#   cloud_type         = 1
+#   aws_account_number = var.aws_account
+#   aws_iam            = true
+#   audit_account      = false
+#   aws_role_app       = "arn:aws:iam::$${var.aws_account}:role/$${var.ctrl_role_app}"
+#   aws_role_ec2       = "arn:aws:iam::$${var.aws_ctrl_account}:role/$${var.ctrl_role_ec2}"
+#   aws_gateway_role_app       = "arn:aws:iam::$${var.aws_account}:role/$${var.gateway_role_app}"
+#   aws_gateway_role_ec2       = "arn:aws:iam::$${var.aws_account}:role/$${var.gateway_role_ec2}"
+# }
+
+$s3_backend
```

## Comparing `aviatrix_migration-0.2.94.data/data/migration/discovery_migration/aws/combined/providers.tf` & `aviatrix_migration-0.2.95.data/data/migration/discovery_migration/aws/combined/providers.tf`

 * *Ordering differences only*

 * *Files 27% similar despite different names*

```diff
@@ -1,168 +1,168 @@
-{% if data.tf_controller_access.mode == "SSM" %}
-provider "aws" {
-  region = "{{data.tf_controller_access.region}}"
-  alias  = "{{data.tf_controller_access.alias}}"
-  {% if data.tf_controller_access.ssm_role %}
-  assume_role { role_arn = "arn:aws:iam::${var.aws_ctrl_account}:role/${var.ssm_role}" }
-  {% endif %}
-}
-{% endif %}
-
-provider "aviatrix" {
-{% if data.tf_controller_access.mode == "SSM" %}
-  username      = "{{data.tf_controller_access.username}}"
-  password      = data.aws_ssm_parameter.avx-password.value
-{% endif %}
-  controller_ip = var.controller_ip
-}
-
-locals {
-  role_arn = "arn:aws:iam::${var.aws_account}:role/${var.aws_account_role}"
-}
-
-provider "aws" {
-  region              = "us-east-1"
-  alias               = "spoke_us_east_1"
-  allowed_account_ids = [var.aws_account]
-  assume_role { role_arn = local.role_arn }
-}
-
-provider "aws" {
-  region              = "us-east-2"
-  alias               = "spoke_us_east_2"
-  allowed_account_ids = [var.aws_account]
-  assume_role { role_arn = local.role_arn }
-}
-
-provider "aws" {
-  region              = "us-west-1"
-  alias               = "spoke_us_west_1"
-  allowed_account_ids = [var.aws_account]
-  assume_role { role_arn = local.role_arn }
-}
-
-provider "aws" {
-  region              = "us-west-2"
-  alias               = "spoke_us_west_2"
-  allowed_account_ids = [var.aws_account]
-  assume_role { role_arn = local.role_arn }
-}
-
-provider "aws" {
-  region              = "af-south-1"
-  alias               = "spoke_af_south_1"
-  allowed_account_ids = [var.aws_account]
-  assume_role { role_arn = local.role_arn }
-}
-
-provider "aws" {
-  region              = "ap-east-1"
-  alias               = "spoke_ap_east_1"
-  allowed_account_ids = [var.aws_account]
-  assume_role { role_arn = local.role_arn }
-}
-
-provider "aws" {
-  region              = "ap-south-1"
-  alias               = "spoke_ap_south_1"
-  allowed_account_ids = [var.aws_account]
-  assume_role { role_arn = local.role_arn }
-}
-
-provider "aws" {
-  region              = "ap-northeast-1"
-  alias               = "spoke_ap_northeast_1"
-  allowed_account_ids = [var.aws_account]
-  assume_role { role_arn = local.role_arn }
-}
-
-provider "aws" {
-  region              = "ap-northeast-2"
-  alias               = "spoke_ap_northeast_2"
-  allowed_account_ids = [var.aws_account]
-  assume_role { role_arn = local.role_arn }
-}
-
-provider "aws" {
-  region              = "ap-northeast-3"
-  alias               = "spoke_ap_northeast_3"
-  allowed_account_ids = [var.aws_account]
-  assume_role { role_arn = local.role_arn }
-}
-
-provider "aws" {
-  region              = "ap-southeast-1"
-  alias               = "spoke_ap_southeast_1"
-  allowed_account_ids = [var.aws_account]
-  assume_role { role_arn = local.role_arn }
-}
-
-provider "aws" {
-  region              = "ap-southeast-2"
-  alias               = "spoke_ap_southeast_2"
-  allowed_account_ids = [var.aws_account]
-  assume_role { role_arn = local.role_arn }
-}
-
-provider "aws" {
-  region              = "ca-central-1"
-  alias               = "spoke_ca_central_1"
-  allowed_account_ids = [var.aws_account]
-  assume_role { role_arn = local.role_arn }
-}
-
-provider "aws" {
-  region              = "eu-central-1"
-  alias               = "spoke_eu_central_1"
-  allowed_account_ids = [var.aws_account]
-  assume_role { role_arn = local.role_arn }
-}
-
-provider "aws" {
-  region              = "eu-west-1"
-  alias               = "spoke_eu_west_1"
-  allowed_account_ids = [var.aws_account]
-  assume_role { role_arn = local.role_arn }
-}
-
-provider "aws" {
-  region              = "eu-west-2"
-  alias               = "spoke_eu_west_2"
-  allowed_account_ids = [var.aws_account]
-  assume_role { role_arn = local.role_arn }
-}
-
-provider "aws" {
-  region              = "eu-west-3"
-  alias               = "spoke_eu_west_3"
-  allowed_account_ids = [var.aws_account]
-  assume_role { role_arn = local.role_arn }
-}
-
-provider "aws" {
-  region              = "eu-south-1"
-  alias               = "spoke_eu_south_1"
-  allowed_account_ids = [var.aws_account]
-  assume_role { role_arn = local.role_arn }
-}
-
-provider "aws" {
-  region              = "eu-north-1"
-  alias               = "spoke_eu_north_1"
-  allowed_account_ids = [var.aws_account]
-  assume_role { role_arn = local.role_arn }
-}
-
-provider "aws" {
-  region              = "me-south-1"
-  alias               = "spoke_me_south_1"
-  allowed_account_ids = [var.aws_account]
-  assume_role { role_arn = local.role_arn }
-}
-
-provider "aws" {
-  region              = "sa-east-1"
-  alias               = "spoke_sa_east_1"
-  allowed_account_ids = [var.aws_account]
-  assume_role { role_arn = local.role_arn }
+{% if data.tf_controller_access.mode == "SSM" %}
+provider "aws" {
+  region = "{{data.tf_controller_access.region}}"
+  alias  = "{{data.tf_controller_access.alias}}"
+  {% if data.tf_controller_access.ssm_role %}
+  assume_role { role_arn = "arn:aws:iam::${var.aws_ctrl_account}:role/${var.ssm_role}" }
+  {% endif %}
+}
+{% endif %}
+
+provider "aviatrix" {
+{% if data.tf_controller_access.mode == "SSM" %}
+  username      = "{{data.tf_controller_access.username}}"
+  password      = data.aws_ssm_parameter.avx-password.value
+{% endif %}
+  controller_ip = var.controller_ip
+}
+
+locals {
+  role_arn = "arn:aws:iam::${var.aws_account}:role/${var.aws_account_role}"
+}
+
+provider "aws" {
+  region              = "us-east-1"
+  alias               = "spoke_us_east_1"
+  allowed_account_ids = [var.aws_account]
+  assume_role { role_arn = local.role_arn }
+}
+
+provider "aws" {
+  region              = "us-east-2"
+  alias               = "spoke_us_east_2"
+  allowed_account_ids = [var.aws_account]
+  assume_role { role_arn = local.role_arn }
+}
+
+provider "aws" {
+  region              = "us-west-1"
+  alias               = "spoke_us_west_1"
+  allowed_account_ids = [var.aws_account]
+  assume_role { role_arn = local.role_arn }
+}
+
+provider "aws" {
+  region              = "us-west-2"
+  alias               = "spoke_us_west_2"
+  allowed_account_ids = [var.aws_account]
+  assume_role { role_arn = local.role_arn }
+}
+
+provider "aws" {
+  region              = "af-south-1"
+  alias               = "spoke_af_south_1"
+  allowed_account_ids = [var.aws_account]
+  assume_role { role_arn = local.role_arn }
+}
+
+provider "aws" {
+  region              = "ap-east-1"
+  alias               = "spoke_ap_east_1"
+  allowed_account_ids = [var.aws_account]
+  assume_role { role_arn = local.role_arn }
+}
+
+provider "aws" {
+  region              = "ap-south-1"
+  alias               = "spoke_ap_south_1"
+  allowed_account_ids = [var.aws_account]
+  assume_role { role_arn = local.role_arn }
+}
+
+provider "aws" {
+  region              = "ap-northeast-1"
+  alias               = "spoke_ap_northeast_1"
+  allowed_account_ids = [var.aws_account]
+  assume_role { role_arn = local.role_arn }
+}
+
+provider "aws" {
+  region              = "ap-northeast-2"
+  alias               = "spoke_ap_northeast_2"
+  allowed_account_ids = [var.aws_account]
+  assume_role { role_arn = local.role_arn }
+}
+
+provider "aws" {
+  region              = "ap-northeast-3"
+  alias               = "spoke_ap_northeast_3"
+  allowed_account_ids = [var.aws_account]
+  assume_role { role_arn = local.role_arn }
+}
+
+provider "aws" {
+  region              = "ap-southeast-1"
+  alias               = "spoke_ap_southeast_1"
+  allowed_account_ids = [var.aws_account]
+  assume_role { role_arn = local.role_arn }
+}
+
+provider "aws" {
+  region              = "ap-southeast-2"
+  alias               = "spoke_ap_southeast_2"
+  allowed_account_ids = [var.aws_account]
+  assume_role { role_arn = local.role_arn }
+}
+
+provider "aws" {
+  region              = "ca-central-1"
+  alias               = "spoke_ca_central_1"
+  allowed_account_ids = [var.aws_account]
+  assume_role { role_arn = local.role_arn }
+}
+
+provider "aws" {
+  region              = "eu-central-1"
+  alias               = "spoke_eu_central_1"
+  allowed_account_ids = [var.aws_account]
+  assume_role { role_arn = local.role_arn }
+}
+
+provider "aws" {
+  region              = "eu-west-1"
+  alias               = "spoke_eu_west_1"
+  allowed_account_ids = [var.aws_account]
+  assume_role { role_arn = local.role_arn }
+}
+
+provider "aws" {
+  region              = "eu-west-2"
+  alias               = "spoke_eu_west_2"
+  allowed_account_ids = [var.aws_account]
+  assume_role { role_arn = local.role_arn }
+}
+
+provider "aws" {
+  region              = "eu-west-3"
+  alias               = "spoke_eu_west_3"
+  allowed_account_ids = [var.aws_account]
+  assume_role { role_arn = local.role_arn }
+}
+
+provider "aws" {
+  region              = "eu-south-1"
+  alias               = "spoke_eu_south_1"
+  allowed_account_ids = [var.aws_account]
+  assume_role { role_arn = local.role_arn }
+}
+
+provider "aws" {
+  region              = "eu-north-1"
+  alias               = "spoke_eu_north_1"
+  allowed_account_ids = [var.aws_account]
+  assume_role { role_arn = local.role_arn }
+}
+
+provider "aws" {
+  region              = "me-south-1"
+  alias               = "spoke_me_south_1"
+  allowed_account_ids = [var.aws_account]
+  assume_role { role_arn = local.role_arn }
+}
+
+provider "aws" {
+  region              = "sa-east-1"
+  alias               = "spoke_sa_east_1"
+  allowed_account_ids = [var.aws_account]
+  assume_role { role_arn = local.role_arn }
 }
```

## Comparing `aviatrix_migration-0.2.94.data/data/migration/discovery_migration/aws/combined/terraform.tfvars` & `aviatrix_migration-0.2.95.data/data/migration/discovery_migration/aws/combined/terraform.tfvars`

 * *Ordering differences only*

 * *Files 15% similar despite different names*

```diff
@@ -1,15 +1,15 @@
-controller_ip    = "{{data.controller_ip}}"
-aws_account      = "{{data.account_id}}"
-aws_account_role = "{{data.aws_account_role}}"
-aws_ctrl_account = "{{data.controller_account}}"
-ctrl_role_app    = "{{data.ctrl_role_app}}"
-ctrl_role_ec2    = "{{data.ctrl_role_ec2}}"
-gateway_role_app = "{{data.gateway_role_app}}"
-gateway_role_ec2 = "{{data.gateway_role_ec2}}"
-{% if data.tf_controller_access.ssm_role %}
-ssm_role         = "{{data.tf_controller_access.ssm_role}}"
-{% endif %}
-{% if data.configure_spoke_gw_hs %}
-deploy_2_spokes_only = {{data.deploy_2_spokes_only}}
-deploy_dummy_spokes  = {{data.deploy_dummy_spokes}}
+controller_ip    = "{{data.controller_ip}}"
+aws_account      = "{{data.account_id}}"
+aws_account_role = "{{data.aws_account_role}}"
+aws_ctrl_account = "{{data.controller_account}}"
+ctrl_role_app    = "{{data.ctrl_role_app}}"
+ctrl_role_ec2    = "{{data.ctrl_role_ec2}}"
+gateway_role_app = "{{data.gateway_role_app}}"
+gateway_role_ec2 = "{{data.gateway_role_ec2}}"
+{% if data.tf_controller_access.ssm_role %}
+ssm_role         = "{{data.tf_controller_access.ssm_role}}"
+{% endif %}
+{% if data.configure_spoke_gw_hs %}
+deploy_2_spokes_only = {{data.deploy_2_spokes_only}}
+deploy_dummy_spokes  = {{data.deploy_dummy_spokes}}
 {% endif %}
```

## Comparing `aviatrix_migration-0.2.94.data/data/migration/discovery_migration/aws/combined/vpc_id.tf` & `aviatrix_migration-0.2.95.data/data/migration/discovery_migration/aws/combined/vpc_id.tf`

 * *Ordering differences only*

 * *Files 24% similar despite different names*

```diff
@@ -1,117 +1,117 @@
-variable "{{data.route_tables}}" {}
-
-module "{{data.vpc_id}}" {
-  source         = "{{data.module_source}}"
-  vpc_name       = "{{data.vpc_name}}"
-  vpc_id         = "{{data.vpc_id}}"
-{% if data.configure_spoke_gw_hs %}
-  {% if data.vpc_cidr %}
-  vpc_cidr       = "{{data.vpc_cidr}}"
-  {% endif %}
-{% else %}
-  vpc_cidr       = {{data.vpc_cidr}}
-{% endif %}
-{% if data.snat_policies or data.snat_policies == [] %}
-  vpc_cidr_for_snat = {{data.vpc_cidr_for_snat}}
-{% endif %}
-{% if data.igw_id %}
-  igw_id         = {{data.igw_id}}
-{% else %}
-  igw_id         = ""
-{% endif %}
-{% if data.configure_gw_name %}
-  spoke_gw_name  = "{{data.spoke_gw_name}}"
-{% endif %}
-{% if data.spoke_ha == "false" %}
-  spoke_ha       = false
-{% endif %}
-{% if data.configure_gw_name %}
-  transit_gw     = "{{data.transit_gw_name}}"
-{% endif %}
-{% if data.configure_transit_gw_egress and data.transit_gw_egress_name %}
-  transit_gw_egress = "{{data.transit_gw_egress_name}}"
-{% endif %}
-{% if data.configure_spoke_gw_hs %}
-  spoke_gws      = [
-    {% for gw in data.spoke_gws %}
-    {
-      gw_zone = "{{gw["gw_zone"]}}"
-      {% if gw["avtx_cidr"] %}
-      avtx_cidr = "{{gw["avtx_cidr"]}}"
-      {% endif %}
-      avtx_gw_size = "{{gw["avtx_gw_size"]}}"
-      {% if gw["eip"] %}
-      eip = "{{gw["eip"]}}"
-      {% else %}
-      eip = null
-      {% endif %}
-    },
-    {% endfor %}
-  ]
-  {% if data.avtx_cidr %}
-  avtx_cidr      = "{{data.avtx_cidr}}"
-  {% endif %}
-  {% if data.snat_policies or data.snat_policies == [] %}
-  deploy_2_spokes_only = var.deploy_2_spokes_only
-    {% if data.migrate_natgw_eip %}
-  deploy_dummy_spokes = var.deploy_dummy_spokes
-    {% endif %}
-  {% endif %}    
-{% else %}
-  avtx_cidr      = "{{data.avtx_cidr}}"
-  avtx_gw_size   = "{{data.spoke_gw_size}}"
-  gw_zones       = {{data.gw_zones}}
-  {% if data.eips %}
-  eips           = {{data.eips}}
-  {% endif %}
-{% endif %}
-  hpe            = {{data.hpe}}
-  region         = "{{data.region}}"
-  enable_spoke_egress = {{data.enable_spoke_egress}}
-{% if data.onboard_account %}
-  account_name   = aviatrix_account.aws_customer.account_name
-{% else %}
-  account_name   = "{{data.account_name}}"
-{% endif %}
-  route_tables   = var.{{data.route_tables}}
-{% if data.domain is not none %}
-  domain         = "{{data.domain}}"
-{% endif %}
-{% if data.inspection is not none %}
-  inspection     = {{data.inspection}}
-{% endif %}
-{% if data.spoke_advertisement is not none %}
-  spoke_adv      = "{{data.spoke_advertisement}}"
-{% endif %}
-{% if data.spoke_routes is not none %}
-  spoke_routes   = "{{data.spoke_routes}}"
-{% endif %}
-{% if data.spoke_gw_tags is not none %}
-  tags           = {{data.spoke_gw_tags}}
-{% endif %}
-{% if data.encrypt is not none and data.encrypt == "true" %}
-  encrypt        = {{data.encrypt}}
-{% endif %}
-{% if data.encrypt_key is not none and data.encrypt == "true" %}
-  encrypt_key    = "{{data.encrypt_key}}"
-{% endif %}
-{% if not data.pre_v2_22_3 and data.max_hpe_performance is not none %}
-  max_hpe_performance     = {{ data.max_hpe_performance }}
-{% endif %}
-  role_arn       = local.role_arn
-  switch_traffic = false
-
-  providers = { aws = {{data.providers}} }
-}
-
-{% if data.import_resources and data.igw_id %}
-resource "aws_internet_gateway" "igw-{{data.vpc_id}}" {
-  vpc_id = "{{ data.vpc_id }}"
-  tags = {{data.igw_tags}}
-  provider = {{ data.providers }}
-  lifecycle {
-    prevent_destroy = true
-  }
-}
-
+variable "{{data.route_tables}}" {}
+
+module "{{data.vpc_id}}" {
+  source         = "{{data.module_source}}"
+  vpc_name       = "{{data.vpc_name}}"
+  vpc_id         = "{{data.vpc_id}}"
+{% if data.configure_spoke_gw_hs %}
+  {% if data.vpc_cidr %}
+  vpc_cidr       = "{{data.vpc_cidr}}"
+  {% endif %}
+{% else %}
+  vpc_cidr       = {{data.vpc_cidr}}
+{% endif %}
+{% if data.snat_policies or data.snat_policies == [] %}
+  vpc_cidr_for_snat = {{data.vpc_cidr_for_snat}}
+{% endif %}
+{% if data.igw_id %}
+  igw_id         = {{data.igw_id}}
+{% else %}
+  igw_id         = ""
+{% endif %}
+{% if data.configure_gw_name %}
+  spoke_gw_name  = "{{data.spoke_gw_name}}"
+{% endif %}
+{% if data.spoke_ha == "false" %}
+  spoke_ha       = false
+{% endif %}
+{% if data.configure_gw_name %}
+  transit_gw     = "{{data.transit_gw_name}}"
+{% endif %}
+{% if data.configure_transit_gw_egress and data.transit_gw_egress_name %}
+  transit_gw_egress = "{{data.transit_gw_egress_name}}"
+{% endif %}
+{% if data.configure_spoke_gw_hs %}
+  spoke_gws      = [
+    {% for gw in data.spoke_gws %}
+    {
+      gw_zone = "{{gw["gw_zone"]}}"
+      {% if gw["avtx_cidr"] %}
+      avtx_cidr = "{{gw["avtx_cidr"]}}"
+      {% endif %}
+      avtx_gw_size = "{{gw["avtx_gw_size"]}}"
+      {% if gw["eip"] %}
+      eip = "{{gw["eip"]}}"
+      {% else %}
+      eip = null
+      {% endif %}
+    },
+    {% endfor %}
+  ]
+  {% if data.avtx_cidr %}
+  avtx_cidr      = "{{data.avtx_cidr}}"
+  {% endif %}
+  {% if data.snat_policies or data.snat_policies == [] %}
+  deploy_2_spokes_only = var.deploy_2_spokes_only
+    {% if data.migrate_natgw_eip %}
+  deploy_dummy_spokes = var.deploy_dummy_spokes
+    {% endif %}
+  {% endif %}    
+{% else %}
+  avtx_cidr      = "{{data.avtx_cidr}}"
+  avtx_gw_size   = "{{data.spoke_gw_size}}"
+  gw_zones       = {{data.gw_zones}}
+  {% if data.eips %}
+  eips           = {{data.eips}}
+  {% endif %}
+{% endif %}
+  hpe            = {{data.hpe}}
+  region         = "{{data.region}}"
+  enable_spoke_egress = {{data.enable_spoke_egress}}
+{% if data.onboard_account %}
+  account_name   = aviatrix_account.aws_customer.account_name
+{% else %}
+  account_name   = "{{data.account_name}}"
+{% endif %}
+  route_tables   = var.{{data.route_tables}}
+{% if data.domain is not none %}
+  domain         = "{{data.domain}}"
+{% endif %}
+{% if data.inspection is not none %}
+  inspection     = {{data.inspection}}
+{% endif %}
+{% if data.spoke_advertisement is not none %}
+  spoke_adv      = "{{data.spoke_advertisement}}"
+{% endif %}
+{% if data.spoke_routes is not none %}
+  spoke_routes   = "{{data.spoke_routes}}"
+{% endif %}
+{% if data.spoke_gw_tags is not none %}
+  tags           = {{data.spoke_gw_tags}}
+{% endif %}
+{% if data.encrypt is not none and data.encrypt == "true" %}
+  encrypt        = {{data.encrypt}}
+{% endif %}
+{% if data.encrypt_key is not none and data.encrypt == "true" %}
+  encrypt_key    = "{{data.encrypt_key}}"
+{% endif %}
+{% if not data.pre_v2_22_3 and data.max_hpe_performance is not none %}
+  max_hpe_performance     = {{ data.max_hpe_performance }}
+{% endif %}
+  role_arn       = local.role_arn
+  switch_traffic = false
+
+  providers = { aws = {{data.providers}} }
+}
+
+{% if data.import_resources and data.igw_id %}
+resource "aws_internet_gateway" "igw-{{data.vpc_id}}" {
+  vpc_id = "{{ data.vpc_id }}"
+  tags = {{data.igw_tags}}
+  provider = {{ data.providers }}
+  lifecycle {
+    prevent_destroy = true
+  }
+}
+
 {% endif %}
```

## Comparing `aviatrix_migration-0.2.94.data/data/migration/discovery_migration/aws/combined/module_aws_brownfield_spoke_vpc/main.tf` & `aviatrix_migration-0.2.95.data/data/migration/discovery_migration/aws/combined/module_aws_brownfield_spoke_vpc/main.tf`

 * *Ordering differences only*

 * *Files 9% similar despite different names*

```diff
@@ -1,537 +1,537 @@
-{% if data.add_vpc_cidr %}
-resource "aws_vpc_ipv4_cidr_block_association" "aviatrix_cidr" {
-  vpc_id     = var.vpc_id
-  cidr_block = var.avtx_cidr
-}
-{% endif %}
-
-resource "aws_internet_gateway" "IGW" {
-  count  = var.igw_id == "" ? 1 : 0
-  vpc_id = var.vpc_id
-  tags = {
-    Name                        = "aviatrix-${var.vpc_name}"
-    "Aviatrix-Created-Resource" = "Do-Not-Delete-Aviatrix-Created-Resource"
-  }
-}
-
-{% if not data.configure_spoke_gw_hs %}
-resource "aws_subnet" "aviatrix_public" {
-  count             = var.hpe ? 0 : (var.spoke_ha ? 2 : 1)
-  vpc_id            = var.vpc_id
-  {% if data.add_vpc_cidr %}
-  cidr_block        = cidrsubnet(aws_vpc_ipv4_cidr_block_association.aviatrix_cidr.cidr_block, 1, count.index)
-  {% else %}
-  cidr_block        = cidrsubnet(var.avtx_cidr, 1, count.index)
-  {% endif %}
-  availability_zone = var.gw_zones[count.index]
-  tags = {
-    Name                        = count.index == 0 ? "aviatrix-${var.vpc_name}-gw" : "aviatrix-${var.vpc_name}-gw-hagw"
-    "Aviatrix-Created-Resource" = "Do-Not-Delete-Aviatrix-Created-Resource"
-  }
-}
-
-resource "aws_route_table_association" "aviatrix_public" {
-  count          = var.hpe ? 0 : (var.spoke_ha ? 2 : 1)
-  subnet_id      = aws_subnet.aviatrix_public[count.index].id
-  route_table_id = aws_route_table.aviatrix_public[0].id
-}
-
-{% else %}
-locals {
-  {% if data.snat_policies or data.snat_policies == [] %}
-  gateway_count      = var.deploy_2_spokes_only ? 2 : length(var.spoke_gws)
-  ha_private_ip = [
-    aviatrix_spoke_ha_gateway.ha1,
-    aviatrix_spoke_ha_gateway.ha2,
-    aviatrix_spoke_ha_gateway.ha3,
-    aviatrix_spoke_ha_gateway.ha4,
-    aviatrix_spoke_ha_gateway.ha5,
-  ]
-  {% else %}
-  gateway_count      = length(var.spoke_gws)
-  {% endif %}
-  avtx_cidrs = [ for spoke_gw in var.spoke_gws: spoke_gw["avtx_cidr"] ]
-}
-
-resource "aws_vpc_ipv4_cidr_block_association" "aviatrix_cidr" {
-  count      = var.avtx_cidr == "" ? 0 : 1
-  vpc_id     = var.vpc_id
-  cidr_block = var.avtx_cidr
-}
-
-resource "aws_subnet" "aviatrix_public" {
-  {% if data.migrate_natgw_eip and (data.snat_policies or data.snat_policies == []) %}
-  count             = var.hpe ? 0 : (var.deploy_dummy_spokes ? length(var.spoke_gws) : local.gateway_count)
-  {% else %}
-  count             = var.hpe ? 0 : local.gateway_count
-  {% endif %}
-  vpc_id            = var.vpc_id
-  cidr_block        = var.spoke_gws[count.index]["avtx_cidr"]
-  availability_zone = var.spoke_gws[count.index]["gw_zone"]
-  map_public_ip_on_launch = false
-  tags = {
-    "Name"                      = "aviatrix-${var.vpc_name}-gw-az-${substr(var.spoke_gws[count.index]["gw_zone"],-1,1)}"
-    "Aviatrix-Created-Resource" = "Do-Not-Delete-Aviatrix-Created-Resource"
-  }
-
-  depends_on        = [ aws_vpc_ipv4_cidr_block_association.aviatrix_cidr ]
-  lifecycle {
-    ignore_changes = [availability_zone_id]
-  }
-}
-
-resource "aws_route_table_association" "aviatrix_public" {
-  {% if data.migrate_natgw_eip and (data.snat_policies or data.snat_policies == []) %}
-  count = var.hpe ? 0 : (var.deploy_dummy_spokes ? length(var.spoke_gws) : local.gateway_count)
-  {% else %}
-  count = var.hpe ? 0 : local.gateway_count
-  {% endif %}
-
-  subnet_id      = aws_subnet.aviatrix_public[count.index].id
-  route_table_id = aws_route_table.aviatrix_public[0].id
-}
-
-{% endif %}
-resource "aws_route_table" "aviatrix_public" {
-  count  = var.hpe ? 0 : 1
-  vpc_id = var.vpc_id
-  tags = {
-    Name                        = "aviatrix-${var.vpc_name}-gw"
-    "Aviatrix-Created-Resource" = "Do-Not-Delete-Aviatrix-Created-Resource"
-  }
-}
-
-resource "aws_route" "aviatrix_default" {
-  count                  = var.hpe ? 0 : 1
-  route_table_id         = aws_route_table.aviatrix_public[0].id
-  destination_cidr_block = "0.0.0.0/0"
-  gateway_id             = var.igw_id == "" ? aws_internet_gateway.IGW[0].id : var.igw_id
-}
-
-resource "aviatrix_spoke_gateway" "gw" {
-  cloud_type                        = 1
-  account_name                      = var.account_name
-  {% if data.configure_gw_name %}
-  gw_name                           = var.spoke_gw_name
-  {% else %}
-  gw_name                           = "aws-${local.region[var.region]}-${join("", formatlist("%02x", split(".", split("/", var.avtx_cidr)[0])))}-gw"
-  {% endif %}
-  vpc_id                            = var.vpc_id
-  vpc_reg                           = var.region
-  insane_mode                       = var.hpe
-  {% if not data.configure_spoke_gw_hs %}
-  gw_size                           = var.avtx_gw_size
-  ha_gw_size                        = var.spoke_ha ? var.avtx_gw_size : null
-  {% else %}
-  gw_size                           = var.spoke_gws[0]["avtx_gw_size"]
-  manage_ha_gateway                 = false
-  {% endif %}
-  {% if data.add_vpc_cidr %}
-  subnet                            = cidrsubnet(aws_vpc_ipv4_cidr_block_association.aviatrix_cidr.cidr_block, 1, 0)
-  ha_subnet                         = var.spoke_ha ? cidrsubnet(aws_vpc_ipv4_cidr_block_association.aviatrix_cidr.cidr_block, 1, 1) : null
-  {% else %}
-    {% if not data.configure_spoke_gw_hs %}
-  subnet                            = cidrsubnet(var.avtx_cidr, 1, 0)
-  ha_subnet                         = var.spoke_ha ? cidrsubnet(var.avtx_cidr, 1, 1) : null
-  allocate_new_eip                  = try(var.eips[0],null) == null ? true : false
-  eip                               = try(var.eips[0],null)
-  insane_mode_az                    = var.hpe ? var.gw_zones[0] : null
-    {% else %}
-  subnet                            = var.spoke_gws[0]["avtx_cidr"]
-  allocate_new_eip                  = try(var.spoke_gws[0]["eip"],null) == null ? true : false
-  eip                               = try(var.spoke_gws[0]["eip"],null)
-  insane_mode_az                    = var.hpe ? var.spoke_gws[0]["gw_zone"] : null
-    {% endif %}
-  {% endif %}
-
-  {% if not data.configure_spoke_gw_hs %}
-  ha_insane_mode_az                 = var.spoke_ha ? (var.hpe ? var.gw_zones[1] : null) : null
-  ha_eip                            = var.spoke_ha ? (try(var.eips[1],null)) : null
-  {% endif %}
-  {% if data.configure_spoke_gw_hs %}
-  included_advertised_spoke_routes  = var.switch_traffic ? (var.vpc_cidr == null ? null : var.vpc_cidr) : join(",", local.avtx_cidrs)
-  {% else %}
-    {% if data.add_vpc_cidr %}
-  included_advertised_spoke_routes  = var.switch_traffic ?  join(",", concat(var.vpc_cidr, [var.avtx_cidr])) : var.avtx_cidr
-    {% elif data.configure_spoke_advertisement %}
-  included_advertised_spoke_routes  = var.switch_traffic ? (var.spoke_adv != "" ? var.spoke_adv : join(",", var.vpc_cidr)): var.avtx_cidr
-    {% else %}
-  included_advertised_spoke_routes  = var.switch_traffic ? join(",", var.vpc_cidr) : var.avtx_cidr
-    {% endif %}
-  {% endif %}
-  customized_spoke_vpc_routes       = var.spoke_routes != "" ? var.spoke_routes : null
-  {% if data.pre_v3_0_0 %}
-  manage_transit_gateway_attachment = false
-  {% endif %}
-  {% if data.pre_v2_21_0 %}
-  enable_active_mesh                = true
-  {% endif %}
-  {% if not data.snat_policies and not data.snat_policies == [] %}
-  single_ip_snat                    = var.switch_traffic && var.enable_spoke_egress
-  {% endif %}
-  single_az_ha                      = true
-  customer_managed_keys             = var.encrypt_key
-  enable_encrypt_volume             = var.encrypt
-  tags                              = var.tags
-  depends_on = [aws_route.aviatrix_default, aws_route_table_association.aviatrix_public, aws_route.pre_migration, aws_internet_gateway.IGW]
-}
-
-{% if data.configure_spoke_gw_hs %}
-resource "aviatrix_spoke_ha_gateway" "ha1" {
-  {% if data.migrate_natgw_eip %}
-  count           = var.switch_traffic ? 1 : 0
-  {% else %}
-  count           = local.gateway_count > 1 ? 1 : 0
-  {% endif %}
-  primary_gw_name = aviatrix_spoke_gateway.gw.id
-  gw_name         = "${aviatrix_spoke_gateway.gw.gw_name}-${1}"
-  insane_mode     = var.hpe
-  subnet          = var.spoke_gws[1]["avtx_cidr"]
-  eip             = try(var.spoke_gws[1]["eip"],null)
-  insane_mode_az  = var.spoke_gws[1]["gw_zone"]
-  gw_size         = var.spoke_gws[1]["avtx_gw_size"]
-
-  lifecycle {
-    ignore_changes = [insane_mode_az]
-  }
-}
-
-resource "aviatrix_spoke_ha_gateway" "ha2" {
-  count           = local.gateway_count > 2 ? 1 : 0
-  primary_gw_name = aviatrix_spoke_gateway.gw.id
-  gw_name         = "${aviatrix_spoke_gateway.gw.gw_name}-${2}"
-  insane_mode     = var.hpe
-  subnet          = var.spoke_gws[2]["avtx_cidr"]
-  eip             = try(var.spoke_gws[2]["eip"],null)
-  insane_mode_az  = var.spoke_gws[2]["gw_zone"]
-  gw_size         = var.spoke_gws[2]["avtx_gw_size"]
-  depends_on      = [aviatrix_spoke_ha_gateway.ha1]
-
-  lifecycle {
-    ignore_changes = [insane_mode_az]
-  }
-}
-
-resource "aviatrix_spoke_ha_gateway" "ha3" {
-  count           = local.gateway_count > 3 ? 1 : 0
-  primary_gw_name = aviatrix_spoke_gateway.gw.id
-  gw_name         = "${aviatrix_spoke_gateway.gw.gw_name}-${3}"
-  insane_mode     = var.hpe
-  subnet          = var.spoke_gws[3]["avtx_cidr"]
-  eip             = try(var.spoke_gws[3]["eip"],null)
-  insane_mode_az  = var.spoke_gws[3]["gw_zone"]
-  gw_size         = var.spoke_gws[3]["avtx_gw_size"]
-  depends_on      = [aviatrix_spoke_ha_gateway.ha2]
-
-  lifecycle {
-    ignore_changes = [insane_mode_az]
-  }
-}
-
-resource "aviatrix_spoke_ha_gateway" "ha4" {
-  count           = local.gateway_count > 4 ? 1 : 0
-  primary_gw_name = aviatrix_spoke_gateway.gw.id
-  gw_name         = "${aviatrix_spoke_gateway.gw.gw_name}-${4}"
-  insane_mode     = var.hpe
-  subnet          = var.spoke_gws[4]["avtx_cidr"]
-  eip             = try(var.spoke_gws[4]["eip"],null)
-  insane_mode_az  = var.spoke_gws[4]["gw_zone"]
-  gw_size         = var.spoke_gws[4]["avtx_gw_size"]
-  depends_on      = [aviatrix_spoke_ha_gateway.ha3]
-
-  lifecycle {
-    ignore_changes = [insane_mode_az]
-  }
-}
-
-resource "aviatrix_spoke_ha_gateway" "ha5" {
-  count           = local.gateway_count > 5 ? 1 : 0
-  primary_gw_name = aviatrix_spoke_gateway.gw.id
-  gw_name         = "${aviatrix_spoke_gateway.gw.gw_name}-${5}"
-  insane_mode     = var.hpe
-  subnet          = var.spoke_gws[5]["avtx_cidr"]
-  eip             = try(var.spoke_gws[5]["eip"],null)
-  insane_mode_az  = var.spoke_gws[5]["gw_zone"]
-  gw_size         = var.spoke_gws[5]["avtx_gw_size"]
-  depends_on      = [aviatrix_spoke_ha_gateway.ha4]
-
-  lifecycle {
-    ignore_changes = [insane_mode_az]
-  }
-}
-
-{% endif %}
-{% if data.snat_policies or data.snat_policies == [] %}
-resource "aviatrix_gateway_snat" "internet" {
-  {% if data.configure_spoke_gw_hs %}
-  count      = var.switch_traffic ? local.gateway_count : 0
-  gw_name    = count.index == 0 ? "${aviatrix_spoke_gateway.gw.gw_name}" : "${aviatrix_spoke_gateway.gw.gw_name}-${count.index}"
-  {% else %}
-  count      = var.switch_traffic ? (var.spoke_ha ? 2 : 1) : 0
-  gw_name    = count.index == 0 ? aviatrix_spoke_gateway.gw.gw_name : aviatrix_spoke_gateway.gw.ha_gw_name
-  {% endif %}  
-  snat_mode  = "customized_snat"
-  sync_to_ha = false
-  {% for policy in data.snat_policies %}
-  snat_policy {
-    {% if policy.src_ip %}
-    src_cidr          = "{{policy.src_ip}}"
-    {% endif %}
-    {% if policy.src_port %}
-    src_port          = "{{policy.src_port}}"
-    {% endif %}
-    {% if policy.dst_ip %}
-    dest_cidr         = "{{policy.dst_ip}}"_ip
-    {% endif %}
-    {% if policy.dst_port %}
-    dest_port         = "{{policy.dst_port}}"
-    {% endif %}
-    {% if policy.protocol %}
-    protocol          = "{{policy.protocol}}"
-    {% endif %}
-    {% if policy.interface %}
-    interface         = "{{policy.interface}}"
-    {% endif %}
-    {% if policy.connection.startswith("$") %}
-    connection        = aviatrix_spoke_transit_attachment.attachment.transit_gw_name
-    {% else %}
-    connection        = "{{policy.connection}}"
-    {% endif %}
-    {% if policy.mark %}
-    mark              = "{{policy.mark}}"
-    {% endif %}
-    {% if policy.new_src_ip.startswith("$") %}
-      {% if data.configure_spoke_gw_hs %}
-    snat_ips          = count.index == 0 ? aviatrix_spoke_gateway.gw.private_ip : local.ha_private_ip[count.index -1][0].private_ip
-      {% else %}
-    snat_ips          = count.index == 0 ? aviatrix_spoke_gateway.gw.private_ip : aviatrix_spoke_gateway.gw.ha_private_ip
-      {% endif %}
-    {% else %}
-    snat_ips          = "{{policy.new_src_ip}}"
-    {% endif %}
-    {% if policy.new_src_port %}
-    snat_port         = "{{policy.new_src_port}}"
-    {% endif %}
-    {% if policy.exclude_rtb %}
-    exclude_rtb       = "{{policy.exclude_rtb}}"
-    {% endif %}
-    apply_route_entry = {{policy.apply_route_entry}}
-  }
-  {% endfor %}
-  dynamic "snat_policy" {
-    for_each = var.enable_spoke_egress ? var.vpc_cidr_for_snat : []
-
-    content {
-      src_cidr          = snat_policy.value
-      protocol          = "all"
-      interface         = "eth0"
-      connection        = "None"
-      {% if data.configure_spoke_gw_hs %}
-      snat_ips          = count.index == 0 ? aviatrix_spoke_gateway.gw.private_ip : local.ha_private_ip[count.index -1][0].private_ip
-      {% else %}
-      snat_ips          = count.index == 0 ? aviatrix_spoke_gateway.gw.private_ip : aviatrix_spoke_gateway.gw.ha_private_ip
-      {% endif %}      
-      apply_route_entry = true
-    }
-  }
-}
-{% endif %}
-
-resource "aviatrix_spoke_transit_attachment" "attachment" {
-  spoke_gw_name   = aviatrix_spoke_gateway.gw.gw_name
-  {% if data.configure_gw_name %}
-  transit_gw_name = var.transit_gw
-  {% else %}
-  transit_gw_name = "aws-${local.region[var.region]}-transit-gw"
-  {% endif %}
-  {% if not data.pre_v2_22_3 %}
-  enable_max_performance = var.hpe ? var.max_hpe_performance : null
-  {% endif %}
-  {% if data.configure_spoke_gw_hs %}
-  depends_on = [
-    aviatrix_spoke_ha_gateway.ha1, 
-    aviatrix_spoke_ha_gateway.ha2,
-    aviatrix_spoke_ha_gateway.ha3,
-    aviatrix_spoke_ha_gateway.ha4,
-    aviatrix_spoke_ha_gateway.ha5,
-  ]
-  {% endif %}  
-  route_tables    = [for k, v in var.route_tables : aws_route_table.aviatrix_managed[k].id if var.route_tables[k].ctrl_managed == "True"]
-}
-
-{% if data.configure_transit_gw_egress %}
-resource "aviatrix_spoke_transit_attachment" "attachment_egress" {
-  count = var.transit_gw_egress == "" ? 0 : 1
-  spoke_gw_name   = aviatrix_spoke_gateway.gw.gw_name
-  transit_gw_name = var.transit_gw_egress
-  {% if not data.pre_v2_22_3 %}
-  enable_max_performance = var.hpe ? var.max_hpe_performance : null
-  {% endif %} 
-  route_tables    = [for k, v in var.route_tables : aws_route_table.aviatrix_managed[k].id if var.route_tables[k].ctrl_managed == "True"]
-}
-{% endif %}
-
-resource "aws_route_table" "aviatrix_managed" {
-  for_each = var.route_tables
-  vpc_id   = var.vpc_id
-  tags     = merge(each.value.tags, { Org_RT = each.key })
-}
-
-resource "aviatrix_transit_firenet_policy" "spoke" {
-  count                        = var.inspection ? 1 : 0
-  transit_firenet_gateway_name = aviatrix_spoke_transit_attachment.attachment.transit_gw_name
-  inspected_resource_name      = "SPOKE:${aviatrix_spoke_gateway.gw.gw_name}"
-}
-
-{% if data.pre_v2_23_0 %}
-resource "aviatrix_segmentation_security_domain_association" "spoke" {
-  count                = var.domain != "" ? 1 : 0
-  transit_gateway_name = aviatrix_spoke_transit_attachment.attachment.transit_gw_name
-  security_domain_name = var.domain
-  attachment_name      = aviatrix_spoke_gateway.gw.gw_name
-}
-{% else %}
-resource "aviatrix_segmentation_network_domain_association" "spoke" {
-  count                = var.domain != "" ? 1 : 0
-  transit_gateway_name = aviatrix_spoke_transit_attachment.attachment.transit_gw_name
-  network_domain_name  = var.domain
-  attachment_name      = aviatrix_spoke_gateway.gw.gw_name
-}
-{% endif %}
-
-resource "aws_route" "pre_migration" {
-  for_each = {
-    for route in local.routes : "${route.destination}.${route.key}" => route
-    if substr(route["target"], 0, 5) != "vpce-"
-  }
-  route_table_id            = aws_route_table.aviatrix_managed[each.value.key].id
-  destination_cidr_block    = each.value.destination
-  {% if data.filter_vgw_routes %}
-  gateway_id                = split("-", each.value.target)[0] == "igw" ? (var.igw_id == "" ? aws_internet_gateway.IGW[0].id : var.igw_id) : null
-  {% else %}
-  gateway_id                = split("-", each.value.target)[0] == "vgw" ? each.value.target : (split("-", each.value.target)[0] == "igw" ? (var.igw_id == "" ? aws_internet_gateway.IGW[0].id : var.igw_id) : null)
-  {% endif %}
-  {% if data.filter_tgw_routes == false %}
-  transit_gateway_id        = split("-", each.value.target)[0] == "tgw" ? each.value.target : null
-  {% endif %}
-  nat_gateway_id            = split("-", each.value.target)[0] == "nat" ? each.value.target : null
-  local_gateway_id          = split("-", each.value.target)[0] == "Igw" ? each.value.target : null # outpost gateway
-  network_interface_id      = split("-", each.value.target)[0] == "eni" ? each.value.target : null
-  vpc_peering_connection_id = split("-", each.value.target)[0] == "pcx" ? each.value.target : null
-  {% if data.configure_gw_lb_ep %}
-  vpc_endpoint_id           = split("-", each.value.target)[0] == "glb" ? substr(each.value.target,4,-1) : null
-  {% endif %}
-
-  # VPC gateway endpoints routes can't be added here, endpoint manages RTs
-
-}
-
-resource "aws_vpc_endpoint_route_table_association" "vpce_route" {
-  for_each = {
-    for route in local.routes : "${route.destination}.${route.key}" => route
-    if substr(route["target"], 0, 5) == "vpce-"
-  }
-  route_table_id  = aws_route_table.aviatrix_managed[each.value.key].id
-  vpc_endpoint_id = each.value["target"]
-}
-
-locals {
-  routes = flatten([
-    for rt_key, rt_val in var.route_tables : [
-      for route in rt_val.routes : {
-        key         = rt_key
-        destination = route.destination
-        target      = route.target
-      }
-    ]
-  ])
-  {% if not data.configure_gw_name %}
-  region = {
-    us-west-1      = "usw1"
-    us-west-2      = "usw2"
-    us-east-1      = "use1"
-    us-east-2      = "use2"
-    ca-central-1   = "cac1"
-    sa-east-1      = "sae1"
-    eu-west-1      = "euw1"
-    eu-west-2      = "euw2"
-    eu-west-3      = "euw3"
-    eu-central-1   = "euc1"
-    eu-north-1     = "eun1"
-    ap-south-1     = "aps1"
-    ap-southeast-1 = "apse1"
-    ap-southeast-2 = "apse2"
-    ap-northeast-1 = "apne1"
-    ap-northeast-2 = "apne2"
-    ap-northeast-3 = "apne3"
-    cn-north-1     = "cnn1"
-    cn-northwest-1 = "cnnw1"
-  }
-  {% endif %}
-}
-
-{% if data.migrate_natgw_eip and (data.snat_policies or data.snat_policies == []) %}
-data "aws_ami" "ubuntu_server" {
-  count = var.deploy_dummy_spokes ? 1 : 0
-
-  most_recent = true
-  owners      = ["099720109477"]
-
-  filter {
-    name   = "name"
-    values = ["ubuntu/images/hvm-ssd/ubuntu-lunar-23.04-amd64-server-*"]
-  }
-  filter {
-    name   = "root-device-type"
-    values = ["ebs"]
-  }
-
-  filter {
-    name   = "virtualization-type"
-    values = ["hvm"]
-  }
-}
-
-data "aws_eip" "dummy_spoke" {
-  count = var.deploy_dummy_spokes ? length(var.spoke_gws) - 2 : 0
-
-  public_ip = var.spoke_gws[count.index + 2]["eip"]
-}
-
-resource "aws_network_interface" "dummy_spoke" {
-  count = var.deploy_dummy_spokes ? length(var.spoke_gws) - 2 : 0
-
-  subnet_id = aws_subnet.aviatrix_public[count.index + 2].id
-  tags = merge(var.tags, {
-    "Name"                      = "Aviatrix-eni@${aviatrix_spoke_gateway.gw.gw_name}-${count.index + 2}_eth0"
-    "Aviatrix-Created-Resource" = "Do-Not-Delete-Aviatrix-Created-Resource"
-    "Description"               = "Created by Aviatrix gateway ${aviatrix_spoke_gateway.gw.gw_name}-${count.index + 2}, please do NOT remove it."
-  })
-}
-
-resource "aws_eip_association" "dummy_spoke" {
-  count = var.deploy_dummy_spokes ? length(var.spoke_gws) - 2 : 0
-
-  network_interface_id = aws_network_interface.dummy_spoke[count.index].id
-  allocation_id        = data.aws_eip.dummy_spoke[count.index].id
-}
-
-resource "aws_instance" "dummy_for_aviatrix_spoke" {
-  count = var.deploy_dummy_spokes ? length(var.spoke_gws) - 2 : 0
-
-  ami           = data.aws_ami.ubuntu_server[0].id
-  instance_type = "t3.micro"
-
-  network_interface {
-    network_interface_id = aws_network_interface.dummy_spoke[count.index].id
-    device_index         = 0
-  }
-
-  tags = merge(var.tags, {
-    "Name"                      = "aviatrix-${aviatrix_spoke_gateway.gw.gw_name}-${count.index + 2}"
-    "Aviatrix-Created-Resource" = "Do-Not-Delete-Aviatrix-Created-Resource"
-    "HA"                        = "True"
-    "Type"                      = "gateway"
-  })
-}
+{% if data.add_vpc_cidr %}
+resource "aws_vpc_ipv4_cidr_block_association" "aviatrix_cidr" {
+  vpc_id     = var.vpc_id
+  cidr_block = var.avtx_cidr
+}
+{% endif %}
+
+resource "aws_internet_gateway" "IGW" {
+  count  = var.igw_id == "" ? 1 : 0
+  vpc_id = var.vpc_id
+  tags = {
+    Name                        = "aviatrix-${var.vpc_name}"
+    "Aviatrix-Created-Resource" = "Do-Not-Delete-Aviatrix-Created-Resource"
+  }
+}
+
+{% if not data.configure_spoke_gw_hs %}
+resource "aws_subnet" "aviatrix_public" {
+  count             = var.hpe ? 0 : (var.spoke_ha ? 2 : 1)
+  vpc_id            = var.vpc_id
+  {% if data.add_vpc_cidr %}
+  cidr_block        = cidrsubnet(aws_vpc_ipv4_cidr_block_association.aviatrix_cidr.cidr_block, 1, count.index)
+  {% else %}
+  cidr_block        = cidrsubnet(var.avtx_cidr, 1, count.index)
+  {% endif %}
+  availability_zone = var.gw_zones[count.index]
+  tags = {
+    Name                        = count.index == 0 ? "aviatrix-${var.vpc_name}-gw" : "aviatrix-${var.vpc_name}-gw-hagw"
+    "Aviatrix-Created-Resource" = "Do-Not-Delete-Aviatrix-Created-Resource"
+  }
+}
+
+resource "aws_route_table_association" "aviatrix_public" {
+  count          = var.hpe ? 0 : (var.spoke_ha ? 2 : 1)
+  subnet_id      = aws_subnet.aviatrix_public[count.index].id
+  route_table_id = aws_route_table.aviatrix_public[0].id
+}
+
+{% else %}
+locals {
+  {% if data.snat_policies or data.snat_policies == [] %}
+  gateway_count      = var.deploy_2_spokes_only ? 2 : length(var.spoke_gws)
+  ha_private_ip = [
+    aviatrix_spoke_ha_gateway.ha1,
+    aviatrix_spoke_ha_gateway.ha2,
+    aviatrix_spoke_ha_gateway.ha3,
+    aviatrix_spoke_ha_gateway.ha4,
+    aviatrix_spoke_ha_gateway.ha5,
+  ]
+  {% else %}
+  gateway_count      = length(var.spoke_gws)
+  {% endif %}
+  avtx_cidrs = [ for spoke_gw in var.spoke_gws: spoke_gw["avtx_cidr"] ]
+}
+
+resource "aws_vpc_ipv4_cidr_block_association" "aviatrix_cidr" {
+  count      = var.avtx_cidr == "" ? 0 : 1
+  vpc_id     = var.vpc_id
+  cidr_block = var.avtx_cidr
+}
+
+resource "aws_subnet" "aviatrix_public" {
+  {% if data.migrate_natgw_eip and (data.snat_policies or data.snat_policies == []) %}
+  count             = var.hpe ? 0 : (var.deploy_dummy_spokes ? length(var.spoke_gws) : local.gateway_count)
+  {% else %}
+  count             = var.hpe ? 0 : local.gateway_count
+  {% endif %}
+  vpc_id            = var.vpc_id
+  cidr_block        = var.spoke_gws[count.index]["avtx_cidr"]
+  availability_zone = var.spoke_gws[count.index]["gw_zone"]
+  map_public_ip_on_launch = false
+  tags = {
+    "Name"                      = "aviatrix-${var.vpc_name}-gw-az-${substr(var.spoke_gws[count.index]["gw_zone"],-1,1)}"
+    "Aviatrix-Created-Resource" = "Do-Not-Delete-Aviatrix-Created-Resource"
+  }
+
+  depends_on        = [ aws_vpc_ipv4_cidr_block_association.aviatrix_cidr ]
+  lifecycle {
+    ignore_changes = [availability_zone_id]
+  }
+}
+
+resource "aws_route_table_association" "aviatrix_public" {
+  {% if data.migrate_natgw_eip and (data.snat_policies or data.snat_policies == []) %}
+  count = var.hpe ? 0 : (var.deploy_dummy_spokes ? length(var.spoke_gws) : local.gateway_count)
+  {% else %}
+  count = var.hpe ? 0 : local.gateway_count
+  {% endif %}
+
+  subnet_id      = aws_subnet.aviatrix_public[count.index].id
+  route_table_id = aws_route_table.aviatrix_public[0].id
+}
+
+{% endif %}
+resource "aws_route_table" "aviatrix_public" {
+  count  = var.hpe ? 0 : 1
+  vpc_id = var.vpc_id
+  tags = {
+    Name                        = "aviatrix-${var.vpc_name}-gw"
+    "Aviatrix-Created-Resource" = "Do-Not-Delete-Aviatrix-Created-Resource"
+  }
+}
+
+resource "aws_route" "aviatrix_default" {
+  count                  = var.hpe ? 0 : 1
+  route_table_id         = aws_route_table.aviatrix_public[0].id
+  destination_cidr_block = "0.0.0.0/0"
+  gateway_id             = var.igw_id == "" ? aws_internet_gateway.IGW[0].id : var.igw_id
+}
+
+resource "aviatrix_spoke_gateway" "gw" {
+  cloud_type                        = 1
+  account_name                      = var.account_name
+  {% if data.configure_gw_name %}
+  gw_name                           = var.spoke_gw_name
+  {% else %}
+  gw_name                           = "aws-${local.region[var.region]}-${join("", formatlist("%02x", split(".", split("/", var.avtx_cidr)[0])))}-gw"
+  {% endif %}
+  vpc_id                            = var.vpc_id
+  vpc_reg                           = var.region
+  insane_mode                       = var.hpe
+  {% if not data.configure_spoke_gw_hs %}
+  gw_size                           = var.avtx_gw_size
+  ha_gw_size                        = var.spoke_ha ? var.avtx_gw_size : null
+  {% else %}
+  gw_size                           = var.spoke_gws[0]["avtx_gw_size"]
+  manage_ha_gateway                 = false
+  {% endif %}
+  {% if data.add_vpc_cidr %}
+  subnet                            = cidrsubnet(aws_vpc_ipv4_cidr_block_association.aviatrix_cidr.cidr_block, 1, 0)
+  ha_subnet                         = var.spoke_ha ? cidrsubnet(aws_vpc_ipv4_cidr_block_association.aviatrix_cidr.cidr_block, 1, 1) : null
+  {% else %}
+    {% if not data.configure_spoke_gw_hs %}
+  subnet                            = cidrsubnet(var.avtx_cidr, 1, 0)
+  ha_subnet                         = var.spoke_ha ? cidrsubnet(var.avtx_cidr, 1, 1) : null
+  allocate_new_eip                  = try(var.eips[0],null) == null ? true : false
+  eip                               = try(var.eips[0],null)
+  insane_mode_az                    = var.hpe ? var.gw_zones[0] : null
+    {% else %}
+  subnet                            = var.spoke_gws[0]["avtx_cidr"]
+  allocate_new_eip                  = try(var.spoke_gws[0]["eip"],null) == null ? true : false
+  eip                               = try(var.spoke_gws[0]["eip"],null)
+  insane_mode_az                    = var.hpe ? var.spoke_gws[0]["gw_zone"] : null
+    {% endif %}
+  {% endif %}
+
+  {% if not data.configure_spoke_gw_hs %}
+  ha_insane_mode_az                 = var.spoke_ha ? (var.hpe ? var.gw_zones[1] : null) : null
+  ha_eip                            = var.spoke_ha ? (try(var.eips[1],null)) : null
+  {% endif %}
+  {% if data.configure_spoke_gw_hs %}
+  included_advertised_spoke_routes  = var.switch_traffic ? (var.vpc_cidr == null ? null : var.vpc_cidr) : join(",", local.avtx_cidrs)
+  {% else %}
+    {% if data.add_vpc_cidr %}
+  included_advertised_spoke_routes  = var.switch_traffic ?  join(",", concat(var.vpc_cidr, [var.avtx_cidr])) : var.avtx_cidr
+    {% elif data.configure_spoke_advertisement %}
+  included_advertised_spoke_routes  = var.switch_traffic ? (var.spoke_adv != "" ? var.spoke_adv : join(",", var.vpc_cidr)): var.avtx_cidr
+    {% else %}
+  included_advertised_spoke_routes  = var.switch_traffic ? join(",", var.vpc_cidr) : var.avtx_cidr
+    {% endif %}
+  {% endif %}
+  customized_spoke_vpc_routes       = var.spoke_routes != "" ? var.spoke_routes : null
+  {% if data.pre_v3_0_0 %}
+  manage_transit_gateway_attachment = false
+  {% endif %}
+  {% if data.pre_v2_21_0 %}
+  enable_active_mesh                = true
+  {% endif %}
+  {% if not data.snat_policies and not data.snat_policies == [] %}
+  single_ip_snat                    = var.switch_traffic && var.enable_spoke_egress
+  {% endif %}
+  single_az_ha                      = true
+  customer_managed_keys             = var.encrypt_key
+  enable_encrypt_volume             = var.encrypt
+  tags                              = var.tags
+  depends_on = [aws_route.aviatrix_default, aws_route_table_association.aviatrix_public, aws_route.pre_migration, aws_internet_gateway.IGW]
+}
+
+{% if data.configure_spoke_gw_hs %}
+resource "aviatrix_spoke_ha_gateway" "ha1" {
+  {% if data.migrate_natgw_eip %}
+  count           = var.switch_traffic ? 1 : 0
+  {% else %}
+  count           = local.gateway_count > 1 ? 1 : 0
+  {% endif %}
+  primary_gw_name = aviatrix_spoke_gateway.gw.id
+  gw_name         = "${aviatrix_spoke_gateway.gw.gw_name}-${1}"
+  insane_mode     = var.hpe
+  subnet          = var.spoke_gws[1]["avtx_cidr"]
+  eip             = try(var.spoke_gws[1]["eip"],null)
+  insane_mode_az  = var.spoke_gws[1]["gw_zone"]
+  gw_size         = var.spoke_gws[1]["avtx_gw_size"]
+
+  lifecycle {
+    ignore_changes = [insane_mode_az]
+  }
+}
+
+resource "aviatrix_spoke_ha_gateway" "ha2" {
+  count           = local.gateway_count > 2 ? 1 : 0
+  primary_gw_name = aviatrix_spoke_gateway.gw.id
+  gw_name         = "${aviatrix_spoke_gateway.gw.gw_name}-${2}"
+  insane_mode     = var.hpe
+  subnet          = var.spoke_gws[2]["avtx_cidr"]
+  eip             = try(var.spoke_gws[2]["eip"],null)
+  insane_mode_az  = var.spoke_gws[2]["gw_zone"]
+  gw_size         = var.spoke_gws[2]["avtx_gw_size"]
+  depends_on      = [aviatrix_spoke_ha_gateway.ha1]
+
+  lifecycle {
+    ignore_changes = [insane_mode_az]
+  }
+}
+
+resource "aviatrix_spoke_ha_gateway" "ha3" {
+  count           = local.gateway_count > 3 ? 1 : 0
+  primary_gw_name = aviatrix_spoke_gateway.gw.id
+  gw_name         = "${aviatrix_spoke_gateway.gw.gw_name}-${3}"
+  insane_mode     = var.hpe
+  subnet          = var.spoke_gws[3]["avtx_cidr"]
+  eip             = try(var.spoke_gws[3]["eip"],null)
+  insane_mode_az  = var.spoke_gws[3]["gw_zone"]
+  gw_size         = var.spoke_gws[3]["avtx_gw_size"]
+  depends_on      = [aviatrix_spoke_ha_gateway.ha2]
+
+  lifecycle {
+    ignore_changes = [insane_mode_az]
+  }
+}
+
+resource "aviatrix_spoke_ha_gateway" "ha4" {
+  count           = local.gateway_count > 4 ? 1 : 0
+  primary_gw_name = aviatrix_spoke_gateway.gw.id
+  gw_name         = "${aviatrix_spoke_gateway.gw.gw_name}-${4}"
+  insane_mode     = var.hpe
+  subnet          = var.spoke_gws[4]["avtx_cidr"]
+  eip             = try(var.spoke_gws[4]["eip"],null)
+  insane_mode_az  = var.spoke_gws[4]["gw_zone"]
+  gw_size         = var.spoke_gws[4]["avtx_gw_size"]
+  depends_on      = [aviatrix_spoke_ha_gateway.ha3]
+
+  lifecycle {
+    ignore_changes = [insane_mode_az]
+  }
+}
+
+resource "aviatrix_spoke_ha_gateway" "ha5" {
+  count           = local.gateway_count > 5 ? 1 : 0
+  primary_gw_name = aviatrix_spoke_gateway.gw.id
+  gw_name         = "${aviatrix_spoke_gateway.gw.gw_name}-${5}"
+  insane_mode     = var.hpe
+  subnet          = var.spoke_gws[5]["avtx_cidr"]
+  eip             = try(var.spoke_gws[5]["eip"],null)
+  insane_mode_az  = var.spoke_gws[5]["gw_zone"]
+  gw_size         = var.spoke_gws[5]["avtx_gw_size"]
+  depends_on      = [aviatrix_spoke_ha_gateway.ha4]
+
+  lifecycle {
+    ignore_changes = [insane_mode_az]
+  }
+}
+
+{% endif %}
+{% if data.snat_policies or data.snat_policies == [] %}
+resource "aviatrix_gateway_snat" "internet" {
+  {% if data.configure_spoke_gw_hs %}
+  count      = var.switch_traffic ? local.gateway_count : 0
+  gw_name    = count.index == 0 ? "${aviatrix_spoke_gateway.gw.gw_name}" : "${aviatrix_spoke_gateway.gw.gw_name}-${count.index}"
+  {% else %}
+  count      = var.switch_traffic ? (var.spoke_ha ? 2 : 1) : 0
+  gw_name    = count.index == 0 ? aviatrix_spoke_gateway.gw.gw_name : aviatrix_spoke_gateway.gw.ha_gw_name
+  {% endif %}  
+  snat_mode  = "customized_snat"
+  sync_to_ha = false
+  {% for policy in data.snat_policies %}
+  snat_policy {
+    {% if policy.src_ip %}
+    src_cidr          = "{{policy.src_ip}}"
+    {% endif %}
+    {% if policy.src_port %}
+    src_port          = "{{policy.src_port}}"
+    {% endif %}
+    {% if policy.dst_ip %}
+    dest_cidr         = "{{policy.dst_ip}}"_ip
+    {% endif %}
+    {% if policy.dst_port %}
+    dest_port         = "{{policy.dst_port}}"
+    {% endif %}
+    {% if policy.protocol %}
+    protocol          = "{{policy.protocol}}"
+    {% endif %}
+    {% if policy.interface %}
+    interface         = "{{policy.interface}}"
+    {% endif %}
+    {% if policy.connection.startswith("$") %}
+    connection        = aviatrix_spoke_transit_attachment.attachment.transit_gw_name
+    {% else %}
+    connection        = "{{policy.connection}}"
+    {% endif %}
+    {% if policy.mark %}
+    mark              = "{{policy.mark}}"
+    {% endif %}
+    {% if policy.new_src_ip.startswith("$") %}
+      {% if data.configure_spoke_gw_hs %}
+    snat_ips          = count.index == 0 ? aviatrix_spoke_gateway.gw.private_ip : local.ha_private_ip[count.index -1][0].private_ip
+      {% else %}
+    snat_ips          = count.index == 0 ? aviatrix_spoke_gateway.gw.private_ip : aviatrix_spoke_gateway.gw.ha_private_ip
+      {% endif %}
+    {% else %}
+    snat_ips          = "{{policy.new_src_ip}}"
+    {% endif %}
+    {% if policy.new_src_port %}
+    snat_port         = "{{policy.new_src_port}}"
+    {% endif %}
+    {% if policy.exclude_rtb %}
+    exclude_rtb       = "{{policy.exclude_rtb}}"
+    {% endif %}
+    apply_route_entry = {{policy.apply_route_entry}}
+  }
+  {% endfor %}
+  dynamic "snat_policy" {
+    for_each = var.enable_spoke_egress ? var.vpc_cidr_for_snat : []
+
+    content {
+      src_cidr          = snat_policy.value
+      protocol          = "all"
+      interface         = "eth0"
+      connection        = "None"
+      {% if data.configure_spoke_gw_hs %}
+      snat_ips          = count.index == 0 ? aviatrix_spoke_gateway.gw.private_ip : local.ha_private_ip[count.index -1][0].private_ip
+      {% else %}
+      snat_ips          = count.index == 0 ? aviatrix_spoke_gateway.gw.private_ip : aviatrix_spoke_gateway.gw.ha_private_ip
+      {% endif %}      
+      apply_route_entry = true
+    }
+  }
+}
+{% endif %}
+
+resource "aviatrix_spoke_transit_attachment" "attachment" {
+  spoke_gw_name   = aviatrix_spoke_gateway.gw.gw_name
+  {% if data.configure_gw_name %}
+  transit_gw_name = var.transit_gw
+  {% else %}
+  transit_gw_name = "aws-${local.region[var.region]}-transit-gw"
+  {% endif %}
+  {% if not data.pre_v2_22_3 %}
+  enable_max_performance = var.hpe ? var.max_hpe_performance : null
+  {% endif %}
+  {% if data.configure_spoke_gw_hs %}
+  depends_on = [
+    aviatrix_spoke_ha_gateway.ha1, 
+    aviatrix_spoke_ha_gateway.ha2,
+    aviatrix_spoke_ha_gateway.ha3,
+    aviatrix_spoke_ha_gateway.ha4,
+    aviatrix_spoke_ha_gateway.ha5,
+  ]
+  {% endif %}  
+  route_tables    = [for k, v in var.route_tables : aws_route_table.aviatrix_managed[k].id if var.route_tables[k].ctrl_managed == "True"]
+}
+
+{% if data.configure_transit_gw_egress %}
+resource "aviatrix_spoke_transit_attachment" "attachment_egress" {
+  count = var.transit_gw_egress == "" ? 0 : 1
+  spoke_gw_name   = aviatrix_spoke_gateway.gw.gw_name
+  transit_gw_name = var.transit_gw_egress
+  {% if not data.pre_v2_22_3 %}
+  enable_max_performance = var.hpe ? var.max_hpe_performance : null
+  {% endif %} 
+  route_tables    = [for k, v in var.route_tables : aws_route_table.aviatrix_managed[k].id if var.route_tables[k].ctrl_managed == "True"]
+}
+{% endif %}
+
+resource "aws_route_table" "aviatrix_managed" {
+  for_each = var.route_tables
+  vpc_id   = var.vpc_id
+  tags     = merge(each.value.tags, { Org_RT = each.key })
+}
+
+resource "aviatrix_transit_firenet_policy" "spoke" {
+  count                        = var.inspection ? 1 : 0
+  transit_firenet_gateway_name = aviatrix_spoke_transit_attachment.attachment.transit_gw_name
+  inspected_resource_name      = "SPOKE:${aviatrix_spoke_gateway.gw.gw_name}"
+}
+
+{% if data.pre_v2_23_0 %}
+resource "aviatrix_segmentation_security_domain_association" "spoke" {
+  count                = var.domain != "" ? 1 : 0
+  transit_gateway_name = aviatrix_spoke_transit_attachment.attachment.transit_gw_name
+  security_domain_name = var.domain
+  attachment_name      = aviatrix_spoke_gateway.gw.gw_name
+}
+{% else %}
+resource "aviatrix_segmentation_network_domain_association" "spoke" {
+  count                = var.domain != "" ? 1 : 0
+  transit_gateway_name = aviatrix_spoke_transit_attachment.attachment.transit_gw_name
+  network_domain_name  = var.domain
+  attachment_name      = aviatrix_spoke_gateway.gw.gw_name
+}
+{% endif %}
+
+resource "aws_route" "pre_migration" {
+  for_each = {
+    for route in local.routes : "${route.destination}.${route.key}" => route
+    if substr(route["target"], 0, 5) != "vpce-"
+  }
+  route_table_id            = aws_route_table.aviatrix_managed[each.value.key].id
+  destination_cidr_block    = each.value.destination
+  {% if data.filter_vgw_routes %}
+  gateway_id                = split("-", each.value.target)[0] == "igw" ? (var.igw_id == "" ? aws_internet_gateway.IGW[0].id : var.igw_id) : null
+  {% else %}
+  gateway_id                = split("-", each.value.target)[0] == "vgw" ? each.value.target : (split("-", each.value.target)[0] == "igw" ? (var.igw_id == "" ? aws_internet_gateway.IGW[0].id : var.igw_id) : null)
+  {% endif %}
+  {% if data.filter_tgw_routes == false %}
+  transit_gateway_id        = split("-", each.value.target)[0] == "tgw" ? each.value.target : null
+  {% endif %}
+  nat_gateway_id            = split("-", each.value.target)[0] == "nat" ? each.value.target : null
+  local_gateway_id          = split("-", each.value.target)[0] == "Igw" ? each.value.target : null # outpost gateway
+  network_interface_id      = split("-", each.value.target)[0] == "eni" ? each.value.target : null
+  vpc_peering_connection_id = split("-", each.value.target)[0] == "pcx" ? each.value.target : null
+  {% if data.configure_gw_lb_ep %}
+  vpc_endpoint_id           = split("-", each.value.target)[0] == "glb" ? substr(each.value.target,4,-1) : null
+  {% endif %}
+
+  # VPC gateway endpoints routes can't be added here, endpoint manages RTs
+
+}
+
+resource "aws_vpc_endpoint_route_table_association" "vpce_route" {
+  for_each = {
+    for route in local.routes : "${route.destination}.${route.key}" => route
+    if substr(route["target"], 0, 5) == "vpce-"
+  }
+  route_table_id  = aws_route_table.aviatrix_managed[each.value.key].id
+  vpc_endpoint_id = each.value["target"]
+}
+
+locals {
+  routes = flatten([
+    for rt_key, rt_val in var.route_tables : [
+      for route in rt_val.routes : {
+        key         = rt_key
+        destination = route.destination
+        target      = route.target
+      }
+    ]
+  ])
+  {% if not data.configure_gw_name %}
+  region = {
+    us-west-1      = "usw1"
+    us-west-2      = "usw2"
+    us-east-1      = "use1"
+    us-east-2      = "use2"
+    ca-central-1   = "cac1"
+    sa-east-1      = "sae1"
+    eu-west-1      = "euw1"
+    eu-west-2      = "euw2"
+    eu-west-3      = "euw3"
+    eu-central-1   = "euc1"
+    eu-north-1     = "eun1"
+    ap-south-1     = "aps1"
+    ap-southeast-1 = "apse1"
+    ap-southeast-2 = "apse2"
+    ap-northeast-1 = "apne1"
+    ap-northeast-2 = "apne2"
+    ap-northeast-3 = "apne3"
+    cn-north-1     = "cnn1"
+    cn-northwest-1 = "cnnw1"
+  }
+  {% endif %}
+}
+
+{% if data.migrate_natgw_eip and (data.snat_policies or data.snat_policies == []) %}
+data "aws_ami" "ubuntu_server" {
+  count = var.deploy_dummy_spokes ? 1 : 0
+
+  most_recent = true
+  owners      = ["099720109477"]
+
+  filter {
+    name   = "name"
+    values = ["ubuntu/images/hvm-ssd/ubuntu-lunar-23.04-amd64-server-*"]
+  }
+  filter {
+    name   = "root-device-type"
+    values = ["ebs"]
+  }
+
+  filter {
+    name   = "virtualization-type"
+    values = ["hvm"]
+  }
+}
+
+data "aws_eip" "dummy_spoke" {
+  count = var.deploy_dummy_spokes ? length(var.spoke_gws) - 2 : 0
+
+  public_ip = var.spoke_gws[count.index + 2]["eip"]
+}
+
+resource "aws_network_interface" "dummy_spoke" {
+  count = var.deploy_dummy_spokes ? length(var.spoke_gws) - 2 : 0
+
+  subnet_id = aws_subnet.aviatrix_public[count.index + 2].id
+  tags = merge(var.tags, {
+    "Name"                      = "Aviatrix-eni@${aviatrix_spoke_gateway.gw.gw_name}-${count.index + 2}_eth0"
+    "Aviatrix-Created-Resource" = "Do-Not-Delete-Aviatrix-Created-Resource"
+    "Description"               = "Created by Aviatrix gateway ${aviatrix_spoke_gateway.gw.gw_name}-${count.index + 2}, please do NOT remove it."
+  })
+}
+
+resource "aws_eip_association" "dummy_spoke" {
+  count = var.deploy_dummy_spokes ? length(var.spoke_gws) - 2 : 0
+
+  network_interface_id = aws_network_interface.dummy_spoke[count.index].id
+  allocation_id        = data.aws_eip.dummy_spoke[count.index].id
+}
+
+resource "aws_instance" "dummy_for_aviatrix_spoke" {
+  count = var.deploy_dummy_spokes ? length(var.spoke_gws) - 2 : 0
+
+  ami           = data.aws_ami.ubuntu_server[0].id
+  instance_type = "t3.micro"
+
+  network_interface {
+    network_interface_id = aws_network_interface.dummy_spoke[count.index].id
+    device_index         = 0
+  }
+
+  tags = merge(var.tags, {
+    "Name"                      = "aviatrix-${aviatrix_spoke_gateway.gw.gw_name}-${count.index + 2}"
+    "Aviatrix-Created-Resource" = "Do-Not-Delete-Aviatrix-Created-Resource"
+    "HA"                        = "True"
+    "Type"                      = "gateway"
+  })
+}
 {% endif %}
```

## Comparing `aviatrix_migration-0.2.94.data/data/migration/discovery_migration/aws/combined/module_aws_brownfield_spoke_vpc/variables.tf` & `aviatrix_migration-0.2.95.data/data/migration/discovery_migration/aws/combined/module_aws_brownfield_spoke_vpc/variables.tf`

 * *Ordering differences only*

 * *Files 18% similar despite different names*

```diff
@@ -1,170 +1,170 @@
-variable "region" {}
-
-variable "account_name" {}
-
-variable "role_arn" {}
-
-variable "vpc_name" {}
-
-{% if data.configure_spoke_gw_hs %}
-variable "vpc_cidr" {
-  default = null
-  type = string
-}
-
-{% else %}
-variable "vpc_cidr" {
-  type = list(string)
-}
-
-variable "gw_zones" {
-  type = list(any)
-}
-
-variable "avtx_gw_size" {
-  default = ""
-}
-{% endif %}
-variable "vpc_id" {}
-
-variable "avtx_cidr" {
-  default     = ""
-  description = "CIDR used by the Aviatrix gateways"
-}
-
-variable "hpe" {
-  default = false
-}
-
-variable "igw_id" {
-  default = ""
-}
-
-variable "route_tables" {}
-
-variable "gw_name_suffix" {
-  default = ""
-}
-
-variable "switch_traffic" {
-  type    = bool
-  default = false
-}
-
-variable "spoke_gw_name" {
-  default = ""
-}
-
-variable "transit_gw" {
-  default = ""
-}
-
-{% if data.configure_transit_gw_egress %}
-variable "transit_gw_egress" {
-  default = ""
-}
-
-{% endif %}
-variable "tgw_name" {
-  default = ""
-}
-
-variable "tags" {
-  description = "Map of tags to assign to the gateway."
-  type        = map(any)
-  default     = null
-}
-
-variable "domain" {
-  description = "Provide security domain name to which spoke needs to be deployed. Transit gateway mus tbe attached and have segmentation enabled."
-  type        = string
-  default     = ""
-}
-
-variable "inspection" {
-  description = "Set to true to enable east/west Firenet inspection. Only valid when transit_gw is East/West transit Firenet"
-  type        = bool
-  default     = false
-}
-
-variable "spoke_routes" {
-  description = "A list of comma separated CIDRs to be customized for the spoke VPC routes. When configured, it will replace all learned routes in VPC routing tables, including RFC1918 and non-RFC1918 CIDRs. It applies to this spoke gateway only"
-  type        = string
-  default     = ""
-}
-
-variable "spoke_adv" {
-  description = "A list of comma separated CIDRs to be advertised to on-prem as Included CIDR List. When configured, it will replace all advertised routes from this VPC."
-  type        = string
-  default     = ""
-}
-
-variable "encrypt" {
-  description = "Enable EBS volume encryption for Gateway. Only supports AWS and AWSGOV provider. Valid values: true, false. Default value: false"
-  type        = bool
-  default     = false
-}
-
-variable "encrypt_key" {
-  description = "The encryption key name for EBS volume encryption."
-  type        = string
-  default     = null
-}
-
-variable "enable_spoke_egress" {
-  type    = bool
-  default = false
-}
-
-variable "vpc_cidr_for_snat" {
-  type = list(string)
-  default = []
-}
-
-{% if not data.pre_v2_22_3 %}
-variable "max_hpe_performance" {
-  type        = bool
-  default     = true
-  description = "False causes creation of only one spoke-transit tunnel (4 total) over a private peering"
-}
-
-{% endif %}
-output aws_route_table_aviatrix_managed {
-  value = aws_route_table.aviatrix_managed
-}
-
-variable "spoke_ha" {
-  type        = bool
-  default     = true
-  description = "Set to false to skip spoke HA gateway creation"
-}
-
-{% if data.configure_spoke_gw_hs %}
-variable "spoke_gws" {
-  type = list(object({ 
-    avtx_cidr = string
-    gw_zone = string
-    eip = string
-    avtx_gw_size = string
-  }))
-}
-
-  {% if data.snat_policies or data.snat_policies == [] %}
-variable "deploy_2_spokes_only" {
-  type = bool
-  default = false
-}
-  {% endif %}
-{% endif %}
-
-{% if data.migrate_natgw_eip and (data.snat_policies or data.snat_policies == []) %}
-variable "deploy_dummy_spokes" {
-  type    = bool
-  default = false
-}
-{% endif %}
-
-variable "eips" {
-  type = list(string)
-  default = []
+variable "region" {}
+
+variable "account_name" {}
+
+variable "role_arn" {}
+
+variable "vpc_name" {}
+
+{% if data.configure_spoke_gw_hs %}
+variable "vpc_cidr" {
+  default = null
+  type = string
+}
+
+{% else %}
+variable "vpc_cidr" {
+  type = list(string)
+}
+
+variable "gw_zones" {
+  type = list(any)
+}
+
+variable "avtx_gw_size" {
+  default = ""
+}
+{% endif %}
+variable "vpc_id" {}
+
+variable "avtx_cidr" {
+  default     = ""
+  description = "CIDR used by the Aviatrix gateways"
+}
+
+variable "hpe" {
+  default = false
+}
+
+variable "igw_id" {
+  default = ""
+}
+
+variable "route_tables" {}
+
+variable "gw_name_suffix" {
+  default = ""
+}
+
+variable "switch_traffic" {
+  type    = bool
+  default = false
+}
+
+variable "spoke_gw_name" {
+  default = ""
+}
+
+variable "transit_gw" {
+  default = ""
+}
+
+{% if data.configure_transit_gw_egress %}
+variable "transit_gw_egress" {
+  default = ""
+}
+
+{% endif %}
+variable "tgw_name" {
+  default = ""
+}
+
+variable "tags" {
+  description = "Map of tags to assign to the gateway."
+  type        = map(any)
+  default     = null
+}
+
+variable "domain" {
+  description = "Provide security domain name to which spoke needs to be deployed. Transit gateway mus tbe attached and have segmentation enabled."
+  type        = string
+  default     = ""
+}
+
+variable "inspection" {
+  description = "Set to true to enable east/west Firenet inspection. Only valid when transit_gw is East/West transit Firenet"
+  type        = bool
+  default     = false
+}
+
+variable "spoke_routes" {
+  description = "A list of comma separated CIDRs to be customized for the spoke VPC routes. When configured, it will replace all learned routes in VPC routing tables, including RFC1918 and non-RFC1918 CIDRs. It applies to this spoke gateway only"
+  type        = string
+  default     = ""
+}
+
+variable "spoke_adv" {
+  description = "A list of comma separated CIDRs to be advertised to on-prem as Included CIDR List. When configured, it will replace all advertised routes from this VPC."
+  type        = string
+  default     = ""
+}
+
+variable "encrypt" {
+  description = "Enable EBS volume encryption for Gateway. Only supports AWS and AWSGOV provider. Valid values: true, false. Default value: false"
+  type        = bool
+  default     = false
+}
+
+variable "encrypt_key" {
+  description = "The encryption key name for EBS volume encryption."
+  type        = string
+  default     = null
+}
+
+variable "enable_spoke_egress" {
+  type    = bool
+  default = false
+}
+
+variable "vpc_cidr_for_snat" {
+  type = list(string)
+  default = []
+}
+
+{% if not data.pre_v2_22_3 %}
+variable "max_hpe_performance" {
+  type        = bool
+  default     = true
+  description = "False causes creation of only one spoke-transit tunnel (4 total) over a private peering"
+}
+
+{% endif %}
+output aws_route_table_aviatrix_managed {
+  value = aws_route_table.aviatrix_managed
+}
+
+variable "spoke_ha" {
+  type        = bool
+  default     = true
+  description = "Set to false to skip spoke HA gateway creation"
+}
+
+{% if data.configure_spoke_gw_hs %}
+variable "spoke_gws" {
+  type = list(object({ 
+    avtx_cidr = string
+    gw_zone = string
+    eip = string
+    avtx_gw_size = string
+  }))
+}
+
+  {% if data.snat_policies or data.snat_policies == [] %}
+variable "deploy_2_spokes_only" {
+  type = bool
+  default = false
+}
+  {% endif %}
+{% endif %}
+
+{% if data.migrate_natgw_eip and (data.snat_policies or data.snat_policies == []) %}
+variable "deploy_dummy_spokes" {
+  type    = bool
+  default = false
+}
+{% endif %}
+
+variable "eips" {
+  type = list(string)
+  default = []
 }
```

## Comparing `aviatrix_migration-0.2.94.data/data/migration/discovery_migration/aws/generic/account.template` & `aviatrix_migration-0.2.95.data/data/migration/discovery_migration/vpc_template/account.template`

 * *Ordering differences only*

 * *Files 18% similar despite different names*

```diff
@@ -1,11 +1,11 @@
-resource "aviatrix_account" "aws_customer" {
-  account_name       = "aws-${var.aws_account}"
-  cloud_type         = 1
-  aws_account_number = var.aws_account
-  aws_iam            = true
-  audit_account      = false
-  aws_role_app       = "arn:aws:iam::${var.aws_account}:role/${var.ctrl_role_app}"
-  aws_role_ec2       = "arn:aws:iam::${var.aws_ctrl_account}:role/${var.ctrl_role_ec2}"
-  aws_gateway_role_app       = "arn:aws:iam::${var.aws_account}:role/${var.gateway_role_app}"
-  aws_gateway_role_ec2       = "arn:aws:iam::${var.aws_account}:role/${var.gateway_role_ec2}"
+resource "aviatrix_account" "aws_customer" {
+  account_name       = "aws-${var.aws_account}"
+  cloud_type         = 1
+  aws_account_number = var.aws_account
+  aws_iam            = true
+  audit_account      = false
+  aws_role_app       = "arn:aws:iam::${var.aws_account}:role/${var.ctrl_role_app}"
+  aws_role_ec2       = "arn:aws:iam::${var.aws_ctrl_account}:role/${var.ctrl_role_ec2}"
+  aws_gateway_role_app       = "arn:aws:iam::${var.aws_account}:role/${var.gateway_role_app}"
+  aws_gateway_role_ec2       = "arn:aws:iam::${var.aws_account}:role/${var.gateway_role_ec2}"
 }
```

## Comparing `aviatrix_migration-0.2.94.data/data/migration/discovery_migration/aws/generic/main.tf` & `aviatrix_migration-0.2.95.data/data/migration/discovery_migration/aws/nameless/account.template`

 * *Files 26% similar despite different names*

```diff
@@ -1,18 +1,11 @@
-data "aws_ssm_parameter" "avx-password" {
-  name     = "avx-admin-password"
-  provider = aws.us_west_2
-}
-
-# resource "aviatrix_account" "aws_customer" {
-#   account_name       = "aws-$${var.aws_account}"
-#   cloud_type         = 1
-#   aws_account_number = var.aws_account
-#   aws_iam            = true
-#   audit_account      = false
-#   aws_role_app       = "arn:aws:iam::$${var.aws_account}:role/$${var.ctrl_role_app}"
-#   aws_role_ec2       = "arn:aws:iam::$${var.aws_ctrl_account}:role/$${var.ctrl_role_ec2}"
-#   aws_gateway_role_app       = "arn:aws:iam::$${var.aws_account}:role/$${var.gateway_role_app}"
-#   aws_gateway_role_ec2       = "arn:aws:iam::$${var.aws_account}:role/$${var.gateway_role_ec2}"
-# }
-
-$s3_backend
+resource "aviatrix_account" "aws_customer" {
+  account_name       = "aws-${var.aws_account}"
+  cloud_type         = 1
+  aws_account_number = var.aws_account
+  aws_iam            = true
+  audit_account      = false
+  aws_role_app       = "arn:aws:iam::${var.aws_account}:role/${var.ctrl_role_app}"
+  aws_role_ec2       = "arn:aws:iam::${var.aws_ctrl_account}:role/${var.ctrl_role_ec2}"
+  aws_gateway_role_app       = "arn:aws:iam::${var.aws_account}:role/${var.gateway_role_app}"
+  aws_gateway_role_ec2       = "arn:aws:iam::${var.aws_account}:role/${var.gateway_role_ec2}"
+}
```

## Comparing `aviatrix_migration-0.2.94.data/data/migration/discovery_migration/aws/generic/providers.tf` & `aviatrix_migration-0.2.95.data/data/migration/discovery_migration/vpc_template/providers.tf`

 * *Ordering differences only*

 * *Files 23% similar despite different names*

```diff
@@ -1,161 +1,161 @@
-provider "aws" {
-  region = "us-west-2"
-  alias  = "us_west_2"
-}
-
-provider "aviatrix" {
-  username      = "admin"
-  password      = data.aws_ssm_parameter.avx-password.value
-  controller_ip = var.controller_ip
-}
-
-locals {
-  role_arn = "arn:aws:iam::${var.aws_account}:role/${var.aws_account_role}"
-}
-
-provider "aws" {
-  region              = "us-east-1"
-  alias               = "spoke_us_east_1"
-  allowed_account_ids = [var.aws_account]
-  assume_role { role_arn = local.role_arn }
-}
-
-provider "aws" {
-  region              = "us-east-2"
-  alias               = "spoke_us_east_2"
-  allowed_account_ids = [var.aws_account]
-  assume_role { role_arn = local.role_arn }
-}
-
-provider "aws" {
-  region              = "us-west-1"
-  alias               = "spoke_us_west_1"
-  allowed_account_ids = [var.aws_account]
-  assume_role { role_arn = local.role_arn }
-}
-
-provider "aws" {
-  region              = "us-west-2"
-  alias               = "spoke_us_west_2"
-  allowed_account_ids = [var.aws_account]
-  assume_role { role_arn = local.role_arn }
-}
-
-provider "aws" {
-  region              = "af-south-1"
-  alias               = "spoke_af_south_1"
-  allowed_account_ids = [var.aws_account]
-  assume_role { role_arn = local.role_arn }
-}
-
-provider "aws" {
-  region              = "ap-east-1"
-  alias               = "spoke_ap_east_1"
-  allowed_account_ids = [var.aws_account]
-  assume_role { role_arn = local.role_arn }
-}
-
-provider "aws" {
-  region              = "ap-south-1"
-  alias               = "spoke_ap_south_1"
-  allowed_account_ids = [var.aws_account]
-  assume_role { role_arn = local.role_arn }
-}
-
-provider "aws" {
-  region              = "ap-northeast-1"
-  alias               = "spoke_ap_northeast_1"
-  allowed_account_ids = [var.aws_account]
-  assume_role { role_arn = local.role_arn }
-}
-
-provider "aws" {
-  region              = "ap-northeast-2"
-  alias               = "spoke_ap_northeast_2"
-  allowed_account_ids = [var.aws_account]
-  assume_role { role_arn = local.role_arn }
-}
-
-provider "aws" {
-  region              = "ap-northeast-3"
-  alias               = "spoke_ap_northeast_3"
-  allowed_account_ids = [var.aws_account]
-  assume_role { role_arn = local.role_arn }
-}
-
-provider "aws" {
-  region              = "ap-southeast-1"
-  alias               = "spoke_ap_southeast_1"
-  allowed_account_ids = [var.aws_account]
-  assume_role { role_arn = local.role_arn }
-}
-
-provider "aws" {
-  region              = "ap-southeast-2"
-  alias               = "spoke_ap_southeast_2"
-  allowed_account_ids = [var.aws_account]
-  assume_role { role_arn = local.role_arn }
-}
-
-provider "aws" {
-  region              = "ca-central-1"
-  alias               = "spoke_ca_central_1"
-  allowed_account_ids = [var.aws_account]
-  assume_role { role_arn = local.role_arn }
-}
-
-provider "aws" {
-  region              = "eu-central-1"
-  alias               = "spoke_eu_central_1"
-  allowed_account_ids = [var.aws_account]
-  assume_role { role_arn = local.role_arn }
-}
-
-provider "aws" {
-  region              = "eu-west-1"
-  alias               = "spoke_eu_west_1"
-  allowed_account_ids = [var.aws_account]
-  assume_role { role_arn = local.role_arn }
-}
-
-provider "aws" {
-  region              = "eu-west-2"
-  alias               = "spoke_eu_west_2"
-  allowed_account_ids = [var.aws_account]
-  assume_role { role_arn = local.role_arn }
-}
-
-provider "aws" {
-  region              = "eu-west-3"
-  alias               = "spoke_eu_west_3"
-  allowed_account_ids = [var.aws_account]
-  assume_role { role_arn = local.role_arn }
-}
-
-provider "aws" {
-  region              = "eu-south-1"
-  alias               = "spoke_eu_south_1"
-  allowed_account_ids = [var.aws_account]
-  assume_role { role_arn = local.role_arn }
-}
-
-provider "aws" {
-  region              = "eu-north-1"
-  alias               = "spoke_eu_north_1"
-  allowed_account_ids = [var.aws_account]
-  assume_role { role_arn = local.role_arn }
-}
-
-provider "aws" {
-  region              = "me-south-1"
-  alias               = "spoke_me_south_1"
-  allowed_account_ids = [var.aws_account]
-  assume_role { role_arn = local.role_arn }
-}
-
-provider "aws" {
-  region              = "sa-east-1"
-  alias               = "spoke_sa_east_1"
-  allowed_account_ids = [var.aws_account]
-  assume_role { role_arn = local.role_arn }
+provider "aws" {
+  region = "us-west-2"
+  alias  = "us_west_2"
+}
+
+provider "aviatrix" {
+  username      = "admin"
+  password      = data.aws_ssm_parameter.avx-password.value
+  controller_ip = var.controller_ip
+}
+
+locals {
+  role_arn = "arn:aws:iam::${var.aws_account}:role/${var.aws_account_role}"
+}
+
+provider "aws" {
+  region              = "us-east-1"
+  alias               = "spoke_us_east_1"
+  allowed_account_ids = [var.aws_account]
+  assume_role { role_arn = local.role_arn }
+}
+
+provider "aws" {
+  region              = "us-east-2"
+  alias               = "spoke_us_east_2"
+  allowed_account_ids = [var.aws_account]
+  assume_role { role_arn = local.role_arn }
+}
+
+provider "aws" {
+  region              = "us-west-1"
+  alias               = "spoke_us_west_1"
+  allowed_account_ids = [var.aws_account]
+  assume_role { role_arn = local.role_arn }
+}
+
+provider "aws" {
+  region              = "us-west-2"
+  alias               = "spoke_us_west_2"
+  allowed_account_ids = [var.aws_account]
+  assume_role { role_arn = local.role_arn }
+}
+
+provider "aws" {
+  region              = "af-south-1"
+  alias               = "spoke_af_south_1"
+  allowed_account_ids = [var.aws_account]
+  assume_role { role_arn = local.role_arn }
+}
+
+provider "aws" {
+  region              = "ap-east-1"
+  alias               = "spoke_ap_east_1"
+  allowed_account_ids = [var.aws_account]
+  assume_role { role_arn = local.role_arn }
+}
+
+provider "aws" {
+  region              = "ap-south-1"
+  alias               = "spoke_ap_south_1"
+  allowed_account_ids = [var.aws_account]
+  assume_role { role_arn = local.role_arn }
+}
+
+provider "aws" {
+  region              = "ap-northeast-1"
+  alias               = "spoke_ap_northeast_1"
+  allowed_account_ids = [var.aws_account]
+  assume_role { role_arn = local.role_arn }
+}
+
+provider "aws" {
+  region              = "ap-northeast-2"
+  alias               = "spoke_ap_northeast_2"
+  allowed_account_ids = [var.aws_account]
+  assume_role { role_arn = local.role_arn }
+}
+
+provider "aws" {
+  region              = "ap-northeast-3"
+  alias               = "spoke_ap_northeast_3"
+  allowed_account_ids = [var.aws_account]
+  assume_role { role_arn = local.role_arn }
+}
+
+provider "aws" {
+  region              = "ap-southeast-1"
+  alias               = "spoke_ap_southeast_1"
+  allowed_account_ids = [var.aws_account]
+  assume_role { role_arn = local.role_arn }
+}
+
+provider "aws" {
+  region              = "ap-southeast-2"
+  alias               = "spoke_ap_southeast_2"
+  allowed_account_ids = [var.aws_account]
+  assume_role { role_arn = local.role_arn }
+}
+
+provider "aws" {
+  region              = "ca-central-1"
+  alias               = "spoke_ca_central_1"
+  allowed_account_ids = [var.aws_account]
+  assume_role { role_arn = local.role_arn }
+}
+
+provider "aws" {
+  region              = "eu-central-1"
+  alias               = "spoke_eu_central_1"
+  allowed_account_ids = [var.aws_account]
+  assume_role { role_arn = local.role_arn }
+}
+
+provider "aws" {
+  region              = "eu-west-1"
+  alias               = "spoke_eu_west_1"
+  allowed_account_ids = [var.aws_account]
+  assume_role { role_arn = local.role_arn }
+}
+
+provider "aws" {
+  region              = "eu-west-2"
+  alias               = "spoke_eu_west_2"
+  allowed_account_ids = [var.aws_account]
+  assume_role { role_arn = local.role_arn }
+}
+
+provider "aws" {
+  region              = "eu-west-3"
+  alias               = "spoke_eu_west_3"
+  allowed_account_ids = [var.aws_account]
+  assume_role { role_arn = local.role_arn }
+}
+
+provider "aws" {
+  region              = "eu-south-1"
+  alias               = "spoke_eu_south_1"
+  allowed_account_ids = [var.aws_account]
+  assume_role { role_arn = local.role_arn }
+}
+
+provider "aws" {
+  region              = "eu-north-1"
+  alias               = "spoke_eu_north_1"
+  allowed_account_ids = [var.aws_account]
+  assume_role { role_arn = local.role_arn }
+}
+
+provider "aws" {
+  region              = "me-south-1"
+  alias               = "spoke_me_south_1"
+  allowed_account_ids = [var.aws_account]
+  assume_role { role_arn = local.role_arn }
+}
+
+provider "aws" {
+  region              = "sa-east-1"
+  alias               = "spoke_sa_east_1"
+  allowed_account_ids = [var.aws_account]
+  assume_role { role_arn = local.role_arn }
 }
```

## Comparing `aviatrix_migration-0.2.94.data/data/migration/discovery_migration/aws/generic/module_aws_brownfield_spoke_vpc/main-vpc-name.tf` & `aviatrix_migration-0.2.95.data/data/migration/discovery_migration/aws/generic/module_aws_brownfield_spoke_vpc/main-vpc-name.tf`

 * *Files 22% similar despite different names*

```diff
@@ -1,366 +1,358 @@
-00000000: 0d0a 7265 736f 7572 6365 2022 6177 735f  ..resource "aws_
-00000010: 7670 635f 6970 7634 5f63 6964 725f 626c  vpc_ipv4_cidr_bl
-00000020: 6f63 6b5f 6173 736f 6369 6174 696f 6e22  ock_association"
-00000030: 2022 6176 6961 7472 6978 5f63 6964 7222   "aviatrix_cidr"
-00000040: 207b 0d0a 2020 636f 756e 7420 2020 2020   {..  count     
-00000050: 203d 2076 6172 2e61 6464 5f76 7063 5f63   = var.add_vpc_c
-00000060: 6964 7220 3f20 3120 3a20 300d 0a20 2076  idr ? 1 : 0..  v
-00000070: 7063 5f69 6420 2020 2020 3d20 7661 722e  pc_id     = var.
-00000080: 7670 635f 6964 0d0a 2020 6369 6472 5f62  vpc_id..  cidr_b
-00000090: 6c6f 636b 203d 2076 6172 2e61 7674 785f  lock = var.avtx_
-000000a0: 6369 6472 0d0a 7d0d 0a0d 0a72 6573 6f75  cidr..}....resou
-000000b0: 7263 6520 2261 7773 5f69 6e74 6572 6e65  rce "aws_interne
-000000c0: 745f 6761 7465 7761 7922 2022 4947 5722  t_gateway" "IGW"
-000000d0: 207b 0d0a 2020 636f 756e 7420 203d 206c   {..  count  = l
-000000e0: 656e 6774 6828 7661 722e 6967 775f 6964  ength(var.igw_id
-000000f0: 2920 3e20 3320 3f20 3020 3a20 310d 0a20  ) > 3 ? 0 : 1.. 
-00000100: 2076 7063 5f69 6420 3d20 7661 722e 7670   vpc_id = var.vp
-00000110: 635f 6964 0d0a 2020 7461 6773 203d 207b  c_id..  tags = {
-00000120: 0d0a 2020 2020 4e61 6d65 203d 2022 6176  ..    Name = "av
-00000130: 6961 7472 6978 2d24 7b76 6172 2e76 7063  iatrix-${var.vpc
-00000140: 5f6e 616d 657d 220d 0a20 207d 0d0a 7d0d  _name}"..  }..}.
-00000150: 0a0d 0a72 6573 6f75 7263 6520 2261 7773  ...resource "aws
-00000160: 5f73 7562 6e65 7422 2022 6176 6961 7472  _subnet" "aviatr
-00000170: 6978 5f70 7562 6c69 6322 207b 0d0a 2020  ix_public" {..  
-00000180: 636f 756e 7420 2020 2020 2020 2020 2020  count           
-00000190: 2020 3d20 7661 722e 6164 645f 7670 635f    = var.add_vpc_
-000001a0: 6369 6472 203f 2028 7661 722e 6870 6520  cidr ? (var.hpe 
-000001b0: 3f20 3020 3a20 3229 203a 2030 0d0a 2020  ? 0 : 2) : 0..  
-000001c0: 7670 635f 6964 2020 2020 2020 2020 2020  vpc_id          
-000001d0: 2020 3d20 7661 722e 7670 635f 6964 0d0a    = var.vpc_id..
-000001e0: 2020 6369 6472 5f62 6c6f 636b 2020 2020    cidr_block    
-000001f0: 2020 2020 3d20 6369 6472 7375 626e 6574      = cidrsubnet
-00000200: 2861 7773 5f76 7063 5f69 7076 345f 6369  (aws_vpc_ipv4_ci
-00000210: 6472 5f62 6c6f 636b 5f61 7373 6f63 6961  dr_block_associa
-00000220: 7469 6f6e 2e61 7669 6174 7269 785f 6369  tion.aviatrix_ci
-00000230: 6472 5b30 5d2e 6369 6472 5f62 6c6f 636b  dr[0].cidr_block
-00000240: 2c20 312c 2063 6f75 6e74 2e69 6e64 6578  , 1, count.index
-00000250: 290d 0a20 2061 7661 696c 6162 696c 6974  )..  availabilit
-00000260: 795f 7a6f 6e65 203d 2076 6172 2e67 775f  y_zone = var.gw_
-00000270: 7a6f 6e65 735b 636f 756e 742e 696e 6465  zones[count.inde
-00000280: 785d 0d0a 2020 7461 6773 203d 207b 0d0a  x]..  tags = {..
-00000290: 2020 2020 4e61 6d65 203d 2063 6f75 6e74      Name = count
-000002a0: 2e69 6e64 6578 203d 3d20 3020 3f20 2261  .index == 0 ? "a
-000002b0: 7669 6174 7269 782d 247b 7661 722e 7670  viatrix-${var.vp
-000002c0: 635f 6e61 6d65 7d2d 6777 2220 3a20 2261  c_name}-gw" : "a
-000002d0: 7669 6174 7269 782d 247b 7661 722e 7670  viatrix-${var.vp
-000002e0: 635f 6e61 6d65 7d2d 6777 2d68 6167 7722  c_name}-gw-hagw"
-000002f0: 0d0a 2020 7d0d 0a7d 0d0a 0d0a 7265 736f  ..  }..}....reso
-00000300: 7572 6365 2022 6177 735f 726f 7574 655f  urce "aws_route_
-00000310: 7461 626c 6522 2022 6176 6961 7472 6978  table" "aviatrix
-00000320: 5f70 7562 6c69 6322 207b 0d0a 2020 636f  _public" {..  co
-00000330: 756e 7420 203d 2076 6172 2e61 6464 5f76  unt  = var.add_v
-00000340: 7063 5f63 6964 7220 3f20 2876 6172 2e68  pc_cidr ? (var.h
-00000350: 7065 203f 2030 203a 2031 2920 3a20 300d  pe ? 0 : 1) : 0.
-00000360: 0a20 2076 7063 5f69 6420 3d20 7661 722e  .  vpc_id = var.
-00000370: 7670 635f 6964 0d0a 2020 7461 6773 203d  vpc_id..  tags =
-00000380: 207b 0d0a 2020 2020 4e61 6d65 203d 2022   {..    Name = "
-00000390: 6176 6961 7472 6978 2d24 7b76 6172 2e76  aviatrix-${var.v
-000003a0: 7063 5f6e 616d 657d 2d67 7722 0d0a 2020  pc_name}-gw"..  
-000003b0: 7d0d 0a7d 0d0a 0d0a 7265 736f 7572 6365  }..}....resource
-000003c0: 2022 6177 735f 726f 7574 6522 2022 6176   "aws_route" "av
-000003d0: 6961 7472 6978 5f64 6566 6175 6c74 2220  iatrix_default" 
-000003e0: 7b0d 0a20 2063 6f75 6e74 2020 2020 2020  {..  count      
-000003f0: 2020 2020 2020 2020 2020 2020 3d20 7661              = va
-00000400: 722e 6164 645f 7670 635f 6369 6472 203f  r.add_vpc_cidr ?
-00000410: 2028 7661 722e 6870 6520 3f20 3020 3a20   (var.hpe ? 0 : 
-00000420: 3129 203a 2030 0d0a 2020 726f 7574 655f  1) : 0..  route_
-00000430: 7461 626c 655f 6964 2020 2020 2020 2020  table_id        
-00000440: 203d 2061 7773 5f72 6f75 7465 5f74 6162   = aws_route_tab
-00000450: 6c65 2e61 7669 6174 7269 785f 7075 626c  le.aviatrix_publ
-00000460: 6963 5b30 5d2e 6964 0d0a 2020 6465 7374  ic[0].id..  dest
-00000470: 696e 6174 696f 6e5f 6369 6472 5f62 6c6f  ination_cidr_blo
-00000480: 636b 203d 2022 302e 302e 302e 302f 3022  ck = "0.0.0.0/0"
-00000490: 0d0a 2020 6761 7465 7761 795f 6964 2020  ..  gateway_id  
-000004a0: 2020 2020 2020 2020 2020 203d 2076 6172             = var
-000004b0: 2e69 6777 5f69 6420 3d3d 2022 2220 3f20  .igw_id == "" ? 
-000004c0: 6177 735f 696e 7465 726e 6574 5f67 6174  aws_internet_gat
-000004d0: 6577 6179 2e49 4757 5b30 5d2e 6964 203a  eway.IGW[0].id :
-000004e0: 2076 6172 2e69 6777 5f69 640d 0a7d 0d0a   var.igw_id..}..
-000004f0: 0d0a 7265 736f 7572 6365 2022 6177 735f  ..resource "aws_
-00000500: 726f 7574 655f 7461 626c 655f 6173 736f  route_table_asso
-00000510: 6369 6174 696f 6e22 2022 6176 6961 7472  ciation" "aviatr
-00000520: 6978 5f70 7562 6c69 6322 207b 0d0a 2020  ix_public" {..  
-00000530: 636f 756e 7420 2020 2020 2020 2020 203d  count          =
-00000540: 2076 6172 2e61 6464 5f76 7063 5f63 6964   var.add_vpc_cid
-00000550: 7220 3f20 2876 6172 2e68 7065 203f 2030  r ? (var.hpe ? 0
-00000560: 203a 2032 2920 3a20 300d 0a20 2073 7562   : 2) : 0..  sub
-00000570: 6e65 745f 6964 2020 2020 2020 3d20 6177  net_id      = aw
-00000580: 735f 7375 626e 6574 2e61 7669 6174 7269  s_subnet.aviatri
-00000590: 785f 7075 626c 6963 5b63 6f75 6e74 2e69  x_public[count.i
-000005a0: 6e64 6578 5d2e 6964 0d0a 2020 726f 7574  ndex].id..  rout
-000005b0: 655f 7461 626c 655f 6964 203d 2061 7773  e_table_id = aws
-000005c0: 5f72 6f75 7465 5f74 6162 6c65 2e61 7669  _route_table.avi
-000005d0: 6174 7269 785f 7075 626c 6963 5b30 5d2e  atrix_public[0].
-000005e0: 6964 0d0a 7d0d 0a0d 0a72 6573 6f75 7263  id..}....resourc
-000005f0: 6520 2261 7669 6174 7269 785f 7370 6f6b  e "aviatrix_spok
-00000600: 655f 6761 7465 7761 7922 2022 6777 2220  e_gateway" "gw" 
-00000610: 7b0d 0a20 2063 6c6f 7564 5f74 7970 6520  {..  cloud_type 
+00000000: 0a72 6573 6f75 7263 6520 2261 7773 5f76  .resource "aws_v
+00000010: 7063 5f69 7076 345f 6369 6472 5f62 6c6f  pc_ipv4_cidr_blo
+00000020: 636b 5f61 7373 6f63 6961 7469 6f6e 2220  ck_association" 
+00000030: 2261 7669 6174 7269 785f 6369 6472 2220  "aviatrix_cidr" 
+00000040: 7b0a 2020 636f 756e 7420 2020 2020 203d  {.  count      =
+00000050: 2076 6172 2e61 6464 5f76 7063 5f63 6964   var.add_vpc_cid
+00000060: 7220 3f20 3120 3a20 300a 2020 7670 635f  r ? 1 : 0.  vpc_
+00000070: 6964 2020 2020 203d 2076 6172 2e76 7063  id     = var.vpc
+00000080: 5f69 640a 2020 6369 6472 5f62 6c6f 636b  _id.  cidr_block
+00000090: 203d 2076 6172 2e61 7674 785f 6369 6472   = var.avtx_cidr
+000000a0: 0a7d 0a0a 7265 736f 7572 6365 2022 6177  .}..resource "aw
+000000b0: 735f 696e 7465 726e 6574 5f67 6174 6577  s_internet_gatew
+000000c0: 6179 2220 2249 4757 2220 7b0a 2020 636f  ay" "IGW" {.  co
+000000d0: 756e 7420 203d 206c 656e 6774 6828 7661  unt  = length(va
+000000e0: 722e 6967 775f 6964 2920 3e20 3320 3f20  r.igw_id) > 3 ? 
+000000f0: 3020 3a20 310a 2020 7670 635f 6964 203d  0 : 1.  vpc_id =
+00000100: 2076 6172 2e76 7063 5f69 640a 2020 7461   var.vpc_id.  ta
+00000110: 6773 203d 207b 0a20 2020 204e 616d 6520  gs = {.    Name 
+00000120: 3d20 2261 7669 6174 7269 782d 247b 7661  = "aviatrix-${va
+00000130: 722e 7670 635f 6e61 6d65 7d22 0a20 207d  r.vpc_name}".  }
+00000140: 0a7d 0a0a 7265 736f 7572 6365 2022 6177  .}..resource "aw
+00000150: 735f 7375 626e 6574 2220 2261 7669 6174  s_subnet" "aviat
+00000160: 7269 785f 7075 626c 6963 2220 7b0a 2020  rix_public" {.  
+00000170: 636f 756e 7420 2020 2020 2020 2020 2020  count           
+00000180: 2020 3d20 7661 722e 6164 645f 7670 635f    = var.add_vpc_
+00000190: 6369 6472 203f 2028 7661 722e 6870 6520  cidr ? (var.hpe 
+000001a0: 3f20 3020 3a20 3229 203a 2030 0a20 2076  ? 0 : 2) : 0.  v
+000001b0: 7063 5f69 6420 2020 2020 2020 2020 2020  pc_id           
+000001c0: 203d 2076 6172 2e76 7063 5f69 640a 2020   = var.vpc_id.  
+000001d0: 6369 6472 5f62 6c6f 636b 2020 2020 2020  cidr_block      
+000001e0: 2020 3d20 6369 6472 7375 626e 6574 2861    = cidrsubnet(a
+000001f0: 7773 5f76 7063 5f69 7076 345f 6369 6472  ws_vpc_ipv4_cidr
+00000200: 5f62 6c6f 636b 5f61 7373 6f63 6961 7469  _block_associati
+00000210: 6f6e 2e61 7669 6174 7269 785f 6369 6472  on.aviatrix_cidr
+00000220: 5b30 5d2e 6369 6472 5f62 6c6f 636b 2c20  [0].cidr_block, 
+00000230: 312c 2063 6f75 6e74 2e69 6e64 6578 290a  1, count.index).
+00000240: 2020 6176 6169 6c61 6269 6c69 7479 5f7a    availability_z
+00000250: 6f6e 6520 3d20 7661 722e 6777 5f7a 6f6e  one = var.gw_zon
+00000260: 6573 5b63 6f75 6e74 2e69 6e64 6578 5d0a  es[count.index].
+00000270: 2020 7461 6773 203d 207b 0a20 2020 204e    tags = {.    N
+00000280: 616d 6520 3d20 636f 756e 742e 696e 6465  ame = count.inde
+00000290: 7820 3d3d 2030 203f 2022 6176 6961 7472  x == 0 ? "aviatr
+000002a0: 6978 2d24 7b76 6172 2e76 7063 5f6e 616d  ix-${var.vpc_nam
+000002b0: 657d 2d67 7722 203a 2022 6176 6961 7472  e}-gw" : "aviatr
+000002c0: 6978 2d24 7b76 6172 2e76 7063 5f6e 616d  ix-${var.vpc_nam
+000002d0: 657d 2d67 772d 6861 6777 220a 2020 7d0a  e}-gw-hagw".  }.
+000002e0: 7d0a 0a72 6573 6f75 7263 6520 2261 7773  }..resource "aws
+000002f0: 5f72 6f75 7465 5f74 6162 6c65 2220 2261  _route_table" "a
+00000300: 7669 6174 7269 785f 7075 626c 6963 2220  viatrix_public" 
+00000310: 7b0a 2020 636f 756e 7420 203d 2076 6172  {.  count  = var
+00000320: 2e61 6464 5f76 7063 5f63 6964 7220 3f20  .add_vpc_cidr ? 
+00000330: 2876 6172 2e68 7065 203f 2030 203a 2031  (var.hpe ? 0 : 1
+00000340: 2920 3a20 300a 2020 7670 635f 6964 203d  ) : 0.  vpc_id =
+00000350: 2076 6172 2e76 7063 5f69 640a 2020 7461   var.vpc_id.  ta
+00000360: 6773 203d 207b 0a20 2020 204e 616d 6520  gs = {.    Name 
+00000370: 3d20 2261 7669 6174 7269 782d 247b 7661  = "aviatrix-${va
+00000380: 722e 7670 635f 6e61 6d65 7d2d 6777 220a  r.vpc_name}-gw".
+00000390: 2020 7d0a 7d0a 0a72 6573 6f75 7263 6520    }.}..resource 
+000003a0: 2261 7773 5f72 6f75 7465 2220 2261 7669  "aws_route" "avi
+000003b0: 6174 7269 785f 6465 6661 756c 7422 207b  atrix_default" {
+000003c0: 0a20 2063 6f75 6e74 2020 2020 2020 2020  .  count        
+000003d0: 2020 2020 2020 2020 2020 3d20 7661 722e            = var.
+000003e0: 6164 645f 7670 635f 6369 6472 203f 2028  add_vpc_cidr ? (
+000003f0: 7661 722e 6870 6520 3f20 3020 3a20 3129  var.hpe ? 0 : 1)
+00000400: 203a 2030 0a20 2072 6f75 7465 5f74 6162   : 0.  route_tab
+00000410: 6c65 5f69 6420 2020 2020 2020 2020 3d20  le_id         = 
+00000420: 6177 735f 726f 7574 655f 7461 626c 652e  aws_route_table.
+00000430: 6176 6961 7472 6978 5f70 7562 6c69 635b  aviatrix_public[
+00000440: 305d 2e69 640a 2020 6465 7374 696e 6174  0].id.  destinat
+00000450: 696f 6e5f 6369 6472 5f62 6c6f 636b 203d  ion_cidr_block =
+00000460: 2022 302e 302e 302e 302f 3022 0a20 2067   "0.0.0.0/0".  g
+00000470: 6174 6577 6179 5f69 6420 2020 2020 2020  ateway_id       
+00000480: 2020 2020 2020 3d20 7661 722e 6967 775f        = var.igw_
+00000490: 6964 203d 3d20 2222 203f 2061 7773 5f69  id == "" ? aws_i
+000004a0: 6e74 6572 6e65 745f 6761 7465 7761 792e  nternet_gateway.
+000004b0: 4947 575b 305d 2e69 6420 3a20 7661 722e  IGW[0].id : var.
+000004c0: 6967 775f 6964 0a7d 0a0a 7265 736f 7572  igw_id.}..resour
+000004d0: 6365 2022 6177 735f 726f 7574 655f 7461  ce "aws_route_ta
+000004e0: 626c 655f 6173 736f 6369 6174 696f 6e22  ble_association"
+000004f0: 2022 6176 6961 7472 6978 5f70 7562 6c69   "aviatrix_publi
+00000500: 6322 207b 0a20 2063 6f75 6e74 2020 2020  c" {.  count    
+00000510: 2020 2020 2020 3d20 7661 722e 6164 645f        = var.add_
+00000520: 7670 635f 6369 6472 203f 2028 7661 722e  vpc_cidr ? (var.
+00000530: 6870 6520 3f20 3020 3a20 3229 203a 2030  hpe ? 0 : 2) : 0
+00000540: 0a20 2073 7562 6e65 745f 6964 2020 2020  .  subnet_id    
+00000550: 2020 3d20 6177 735f 7375 626e 6574 2e61    = aws_subnet.a
+00000560: 7669 6174 7269 785f 7075 626c 6963 5b63  viatrix_public[c
+00000570: 6f75 6e74 2e69 6e64 6578 5d2e 6964 0a20  ount.index].id. 
+00000580: 2072 6f75 7465 5f74 6162 6c65 5f69 6420   route_table_id 
+00000590: 3d20 6177 735f 726f 7574 655f 7461 626c  = aws_route_tabl
+000005a0: 652e 6176 6961 7472 6978 5f70 7562 6c69  e.aviatrix_publi
+000005b0: 635b 305d 2e69 640a 7d0a 0a72 6573 6f75  c[0].id.}..resou
+000005c0: 7263 6520 2261 7669 6174 7269 785f 7370  rce "aviatrix_sp
+000005d0: 6f6b 655f 6761 7465 7761 7922 2022 6777  oke_gateway" "gw
+000005e0: 2220 7b0a 2020 636c 6f75 645f 7479 7065  " {.  cloud_type
+000005f0: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00000600: 2020 2020 2020 2020 3d20 310a 2020 6163          = 1.  ac
+00000610: 636f 756e 745f 6e61 6d65 2020 2020 2020  count_name      
 00000620: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00000630: 2020 2020 2020 203d 2031 0d0a 2020 6163         = 1..  ac
-00000640: 636f 756e 745f 6e61 6d65 2020 2020 2020  count_name      
+00000630: 3d20 7661 722e 6163 636f 756e 745f 6e61  = var.account_na
+00000640: 6d65 0a20 2067 775f 6e61 6d65 2020 2020  me.  gw_name    
 00000650: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00000660: 3d20 7661 722e 6163 636f 756e 745f 6e61  = var.account_na
-00000670: 6d65 0d0a 2020 6777 5f6e 616d 6520 2020  me..  gw_name   
-00000680: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00000690: 2020 2020 2020 2020 3d20 7661 722e 7370          = var.sp
-000006a0: 6f6b 655f 6777 5f6e 616d 650d 0a20 2076  oke_gw_name..  v
-000006b0: 7063 5f69 6420 2020 2020 2020 2020 2020  pc_id           
+00000660: 2020 2020 2020 203d 2076 6172 2e73 706f         = var.spo
+00000670: 6b65 5f67 775f 6e61 6d65 0a20 2076 7063  ke_gw_name.  vpc
+00000680: 5f69 6420 2020 2020 2020 2020 2020 2020  _id             
+00000690: 2020 2020 2020 2020 2020 2020 2020 203d                 =
+000006a0: 2076 6172 2e76 7063 5f69 640a 2020 7670   var.vpc_id.  vp
+000006b0: 635f 7265 6720 2020 2020 2020 2020 2020  c_reg           
 000006c0: 2020 2020 2020 2020 2020 2020 2020 2020                  
-000006d0: 203d 2076 6172 2e76 7063 5f69 640d 0a20   = var.vpc_id.. 
-000006e0: 2076 7063 5f72 6567 2020 2020 2020 2020   vpc_reg        
+000006d0: 3d20 7661 722e 7265 6769 6f6e 0a20 2069  = var.region.  i
+000006e0: 6e73 616e 655f 6d6f 6465 2020 2020 2020  nsane_mode      
 000006f0: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00000700: 2020 203d 2076 6172 2e72 6567 696f 6e0d     = var.region.
-00000710: 0a20 2069 6e73 616e 655f 6d6f 6465 2020  .  insane_mode  
-00000720: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00000730: 2020 2020 203d 2076 6172 2e68 7065 0d0a       = var.hpe..
-00000740: 2020 6777 5f73 697a 6520 2020 2020 2020    gw_size       
+00000700: 203d 2076 6172 2e68 7065 0a20 2067 775f   = var.hpe.  gw_
+00000710: 7369 7a65 2020 2020 2020 2020 2020 2020  size            
+00000720: 2020 2020 2020 2020 2020 2020 2020 203d                 =
+00000730: 2076 6172 2e61 7674 785f 6777 5f73 697a   var.avtx_gw_siz
+00000740: 650a 2020 6861 5f67 775f 7369 7a65 2020  e.  ha_gw_size  
 00000750: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00000760: 2020 2020 3d20 7661 722e 6176 7478 5f67      = var.avtx_g
-00000770: 775f 7369 7a65 0d0a 2020 6861 5f67 775f  w_size..  ha_gw_
-00000780: 7369 7a65 2020 2020 2020 2020 2020 2020  size            
-00000790: 2020 2020 2020 2020 2020 2020 3d20 7661              = va
-000007a0: 722e 6176 7478 5f67 775f 7369 7a65 0d0a  r.avtx_gw_size..
-000007b0: 2020 7375 626e 6574 2020 2020 2020 2020    subnet        
-000007c0: 2020 2020 2020 2020 2020 2020 2020 2020                  
-000007d0: 2020 2020 3d20 7661 722e 6164 645f 7670      = var.add_vp
-000007e0: 635f 6369 6472 203f 2063 6964 7273 7562  c_cidr ? cidrsub
-000007f0: 6e65 7428 6177 735f 7670 635f 6970 7634  net(aws_vpc_ipv4
-00000800: 5f63 6964 725f 626c 6f63 6b5f 6173 736f  _cidr_block_asso
-00000810: 6369 6174 696f 6e2e 6176 6961 7472 6978  ciation.aviatrix
-00000820: 5f63 6964 725b 305d 2e63 6964 725f 626c  _cidr[0].cidr_bl
-00000830: 6f63 6b2c 2031 2c20 3029 203a 2073 706c  ock, 1, 0) : spl
-00000840: 6974 2822 2c22 2c20 7661 722e 6176 7478  it(",", var.avtx
-00000850: 5f63 6964 7229 5b30 5d0d 0a20 2068 615f  _cidr)[0]..  ha_
-00000860: 7375 626e 6574 2020 2020 2020 2020 2020  subnet          
-00000870: 2020 2020 2020 2020 2020 2020 2020 203d                 =
-00000880: 2076 6172 2e61 6464 5f76 7063 5f63 6964   var.add_vpc_cid
-00000890: 7220 3f20 6369 6472 7375 626e 6574 2861  r ? cidrsubnet(a
-000008a0: 7773 5f76 7063 5f69 7076 345f 6369 6472  ws_vpc_ipv4_cidr
-000008b0: 5f62 6c6f 636b 5f61 7373 6f63 6961 7469  _block_associati
-000008c0: 6f6e 2e61 7669 6174 7269 785f 6369 6472  on.aviatrix_cidr
-000008d0: 5b30 5d2e 6369 6472 5f62 6c6f 636b 2c20  [0].cidr_block, 
-000008e0: 312c 2031 2920 3a20 7370 6c69 7428 222c  1, 1) : split(",
-000008f0: 222c 2076 6172 2e61 7674 785f 6369 6472  ", var.avtx_cidr
-00000900: 295b 315d 0d0a 2020 696e 7361 6e65 5f6d  )[1]..  insane_m
-00000910: 6f64 655f 617a 2020 2020 2020 2020 2020  ode_az          
-00000920: 2020 2020 2020 2020 2020 3d20 7661 722e            = var.
-00000930: 6870 6520 3f20 7661 722e 6777 5f7a 6f6e  hpe ? var.gw_zon
-00000940: 6573 5b30 5d20 3a20 6e75 6c6c 0d0a 2020  es[0] : null..  
-00000950: 6861 5f69 6e73 616e 655f 6d6f 6465 5f61  ha_insane_mode_a
-00000960: 7a20 2020 2020 2020 2020 2020 2020 2020  z               
-00000970: 2020 3d20 7661 722e 6870 6520 3f20 7661    = var.hpe ? va
-00000980: 722e 6777 5f7a 6f6e 6573 5b31 5d20 3a20  r.gw_zones[1] : 
-00000990: 6e75 6c6c 0d0a 2020 696e 636c 7564 6564  null..  included
-000009a0: 5f61 6476 6572 7469 7365 645f 7370 6f6b  _advertised_spok
-000009b0: 655f 726f 7574 6573 2020 3d20 7661 722e  e_routes  = var.
-000009c0: 7377 6974 6368 5f74 7261 6666 6963 203f  switch_traffic ?
-000009d0: 2028 7661 722e 6164 645f 7670 635f 6369   (var.add_vpc_ci
-000009e0: 6472 203f 2028 6c65 6e67 7468 2876 6172  dr ? (length(var
-000009f0: 2e73 706f 6b65 5f61 6476 2920 3e20 3020  .spoke_adv) > 0 
-00000a00: 3f20 7661 722e 7370 6f6b 655f 6164 7620  ? var.spoke_adv 
-00000a10: 3a20 6a6f 696e 2822 2c22 2c20 636f 6e63  : join(",", conc
-00000a20: 6174 2876 6172 2e76 7063 5f63 6964 722c  at(var.vpc_cidr,
-00000a30: 205b 7661 722e 6176 7478 5f63 6964 725d   [var.avtx_cidr]
-00000a40: 2929 2920 3a20 286c 656e 6774 6828 7661  ))) : (length(va
-00000a50: 722e 7370 6f6b 655f 6164 7629 203e 2030  r.spoke_adv) > 0
-00000a60: 203f 2076 6172 2e73 706f 6b65 5f61 6476   ? var.spoke_adv
-00000a70: 203a 206a 6f69 6e28 222c 222c 2076 6172   : join(",", var
-00000a80: 2e76 7063 5f63 6964 7229 2929 203a 2076  .vpc_cidr))) : v
-00000a90: 6172 2e61 7674 785f 6369 6472 0d0a 2020  ar.avtx_cidr..  
-00000aa0: 6375 7374 6f6d 697a 6564 5f73 706f 6b65  customized_spoke
-00000ab0: 5f76 7063 5f72 6f75 7465 7320 2020 2020  _vpc_routes     
-00000ac0: 2020 3d20 7661 722e 7370 6f6b 655f 726f    = var.spoke_ro
-00000ad0: 7574 6573 0d0a 2020 6d61 6e61 6765 5f74  utes..  manage_t
-00000ae0: 7261 6e73 6974 5f67 6174 6577 6179 5f61  ransit_gateway_a
-00000af0: 7474 6163 686d 656e 7420 3d20 6661 6c73  ttachment = fals
-00000b00: 650d 0a20 2065 6e61 626c 655f 6163 7469  e..  enable_acti
-00000b10: 7665 5f6d 6573 6820 2020 2020 2020 2020  ve_mesh         
-00000b20: 2020 2020 2020 203d 2074 7275 650d 0a20         = true.. 
-00000b30: 2073 696e 676c 655f 617a 5f68 6120 2020   single_az_ha   
-00000b40: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00000b50: 2020 203d 2074 7275 650d 0a20 2074 6167     = true..  tag
-00000b60: 7320 2020 2020 2020 2020 2020 2020 2020  s               
-00000b70: 2020 2020 2020 2020 2020 2020 2020 203d                 =
-00000b80: 2076 6172 2e74 6167 730d 0a20 2064 6570   var.tags..  dep
-00000b90: 656e 6473 5f6f 6e20 2020 2020 2020 2020  ends_on         
-00000ba0: 2020 2020 2020 2020 2020 2020 2020 203d                 =
-00000bb0: 205b 6177 735f 726f 7574 652e 6176 6961   [aws_route.avia
-00000bc0: 7472 6978 5f64 6566 6175 6c74 2c20 6177  trix_default, aw
-00000bd0: 735f 726f 7574 655f 7461 626c 655f 6173  s_route_table_as
-00000be0: 736f 6369 6174 696f 6e2e 6176 6961 7472  sociation.aviatr
-00000bf0: 6978 5f70 7562 6c69 632c 2061 7773 5f72  ix_public, aws_r
-00000c00: 6f75 7465 2e70 7265 5f6d 6967 7261 7469  oute.pre_migrati
-00000c10: 6f6e 5d0d 0a7d 0d0a 0d0a 7265 736f 7572  on]..}....resour
-00000c20: 6365 2022 6176 6961 7472 6978 5f73 706f  ce "aviatrix_spo
-00000c30: 6b65 5f74 7261 6e73 6974 5f61 7474 6163  ke_transit_attac
-00000c40: 686d 656e 7422 2022 6174 7461 6368 6d65  hment" "attachme
-00000c50: 6e74 2220 7b0d 0a20 2073 706f 6b65 5f67  nt" {..  spoke_g
-00000c60: 775f 6e61 6d65 2020 203d 2061 7669 6174  w_name   = aviat
-00000c70: 7269 785f 7370 6f6b 655f 6761 7465 7761  rix_spoke_gatewa
-00000c80: 792e 6777 2e67 775f 6e61 6d65 0d0a 2020  y.gw.gw_name..  
-00000c90: 7472 616e 7369 745f 6777 5f6e 616d 6520  transit_gw_name 
-00000ca0: 3d20 7661 722e 7472 616e 7369 745f 6777  = var.transit_gw
-00000cb0: 0d0a 2020 726f 7574 655f 7461 626c 6573  ..  route_tables
-00000cc0: 2020 2020 3d20 5b66 6f72 206b 2c20 7620      = [for k, v 
-00000cd0: 696e 2076 6172 2e72 6f75 7465 5f74 6162  in var.route_tab
-00000ce0: 6c65 7320 3a20 6177 735f 726f 7574 655f  les : aws_route_
-00000cf0: 7461 626c 652e 6176 6961 7472 6978 5f6d  table.aviatrix_m
-00000d00: 616e 6167 6564 5b6b 5d2e 6964 5d0d 0a7d  anaged[k].id]..}
-00000d10: 0d0a 0d0a 7265 736f 7572 6365 2022 6177  ....resource "aw
-00000d20: 735f 726f 7574 655f 7461 626c 6522 2022  s_route_table" "
-00000d30: 6176 6961 7472 6978 5f6d 616e 6167 6564  aviatrix_managed
-00000d40: 2220 7b0d 0a20 2066 6f72 5f65 6163 6820  " {..  for_each 
-00000d50: 3d20 7661 722e 726f 7574 655f 7461 626c  = var.route_tabl
-00000d60: 6573 0d0a 2020 7670 635f 6964 2020 203d  es..  vpc_id   =
-00000d70: 2076 6172 2e76 7063 5f69 640d 0a20 2074   var.vpc_id..  t
-00000d80: 6167 7320 2020 2020 3d20 6d65 7267 6528  ags     = merge(
-00000d90: 6561 6368 2e76 616c 7565 2e74 6167 732c  each.value.tags,
-00000da0: 207b 204f 7267 5f52 5420 3d20 6561 6368   { Org_RT = each
-00000db0: 2e6b 6579 207d 290d 0a7d 0d0a 0d0a 7265  .key })..}....re
-00000dc0: 736f 7572 6365 2022 6176 6961 7472 6978  source "aviatrix
-00000dd0: 5f74 7261 6e73 6974 5f66 6972 656e 6574  _transit_firenet
-00000de0: 5f70 6f6c 6963 7922 2022 6465 6661 756c  _policy" "defaul
-00000df0: 7422 207b 0d0a 2020 636f 756e 7420 2020  t" {..  count   
-00000e00: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00000e10: 2020 2020 203d 2076 6172 2e69 6e73 7065       = var.inspe
-00000e20: 6374 696f 6e20 3f20 3120 3a20 300d 0a20  ction ? 1 : 0.. 
-00000e30: 2074 7261 6e73 6974 5f66 6972 656e 6574   transit_firenet
-00000e40: 5f67 6174 6577 6179 5f6e 616d 6520 3d20  _gateway_name = 
-00000e50: 7661 722e 7472 616e 7369 745f 6777 0d0a  var.transit_gw..
-00000e60: 2020 696e 7370 6563 7465 645f 7265 736f    inspected_reso
-00000e70: 7572 6365 5f6e 616d 6520 2020 2020 203d  urce_name      =
-00000e80: 2022 5350 4f4b 453a 247b 6176 6961 7472   "SPOKE:${aviatr
-00000e90: 6978 5f73 706f 6b65 5f67 6174 6577 6179  ix_spoke_gateway
-00000ea0: 2e67 772e 6777 5f6e 616d 657d 220d 0a20  .gw.gw_name}".. 
-00000eb0: 2064 6570 656e 6473 5f6f 6e20 2020 2020   depends_on     
-00000ec0: 2020 2020 2020 2020 2020 2020 2020 3d20                = 
-00000ed0: 5b61 7669 6174 7269 785f 7370 6f6b 655f  [aviatrix_spoke_
-00000ee0: 7472 616e 7369 745f 6174 7461 6368 6d65  transit_attachme
-00000ef0: 6e74 2e61 7474 6163 686d 656e 745d 0d0a  nt.attachment]..
-00000f00: 7d0d 0a0d 0a72 6573 6f75 7263 6520 2261  }....resource "a
-00000f10: 7669 6174 7269 785f 7365 676d 656e 7461  viatrix_segmenta
-00000f20: 7469 6f6e 5f73 6563 7572 6974 795f 646f  tion_security_do
-00000f30: 6d61 696e 5f61 7373 6f63 6961 7469 6f6e  main_association
-00000f40: 2220 2264 6566 6175 6c74 2220 7b0d 0a20  " "default" {.. 
-00000f50: 2063 6f75 6e74 2020 2020 2020 2020 2020   count          
-00000f60: 2020 2020 2020 3d20 6c65 6e67 7468 2876        = length(v
-00000f70: 6172 2e64 6f6d 6169 6e29 203e 2030 203f  ar.domain) > 0 ?
-00000f80: 2031 203a 2030 0d0a 2020 7472 616e 7369   1 : 0..  transi
-00000f90: 745f 6761 7465 7761 795f 6e61 6d65 203d  t_gateway_name =
-00000fa0: 2076 6172 2e74 7261 6e73 6974 5f67 770d   var.transit_gw.
-00000fb0: 0a20 2073 6563 7572 6974 795f 646f 6d61  .  security_doma
-00000fc0: 696e 5f6e 616d 6520 3d20 7661 722e 646f  in_name = var.do
-00000fd0: 6d61 696e 0d0a 2020 6174 7461 6368 6d65  main..  attachme
-00000fe0: 6e74 5f6e 616d 6520 2020 2020 203d 2061  nt_name      = a
-00000ff0: 7669 6174 7269 785f 7370 6f6b 655f 6761  viatrix_spoke_ga
-00001000: 7465 7761 792e 6777 2e67 775f 6e61 6d65  teway.gw.gw_name
-00001010: 0d0a 2020 6465 7065 6e64 735f 6f6e 2020  ..  depends_on  
-00001020: 2020 2020 2020 2020 203d 205b 6176 6961           = [avia
-00001030: 7472 6978 5f73 706f 6b65 5f74 7261 6e73  trix_spoke_trans
-00001040: 6974 5f61 7474 6163 686d 656e 742e 6174  it_attachment.at
-00001050: 7461 6368 6d65 6e74 5d0d 0a7d 0d0a 0d0a  tachment]..}....
-00001060: 0d0a 7265 736f 7572 6365 2022 6177 735f  ..resource "aws_
-00001070: 726f 7574 6522 2022 7072 655f 6d69 6772  route" "pre_migr
-00001080: 6174 696f 6e22 207b 0d0a 2020 666f 725f  ation" {..  for_
-00001090: 6561 6368 203d 207b 0d0a 2020 2020 666f  each = {..    fo
-000010a0: 7220 726f 7574 6520 696e 206c 6f63 616c  r route in local
-000010b0: 2e72 6f75 7465 7320 3a20 2224 7b72 6f75  .routes : "${rou
-000010c0: 7465 2e64 6573 7469 6e61 7469 6f6e 7d2e  te.destination}.
-000010d0: 247b 726f 7574 652e 6b65 797d 2220 3d3e  ${route.key}" =>
-000010e0: 2072 6f75 7465 0d0a 2020 2020 6966 2073   route..    if s
-000010f0: 7562 7374 7228 726f 7574 655b 2274 6172  ubstr(route["tar
-00001100: 6765 7422 5d2c 2030 2c20 3529 2021 3d20  get"], 0, 5) != 
-00001110: 2276 7063 652d 220d 0a20 207d 0d0a 2020  "vpce-"..  }..  
-00001120: 726f 7574 655f 7461 626c 655f 6964 2020  route_table_id  
-00001130: 2020 2020 2020 2020 2020 3d20 6177 735f            = aws_
-00001140: 726f 7574 655f 7461 626c 652e 6176 6961  route_table.avia
-00001150: 7472 6978 5f6d 616e 6167 6564 5b65 6163  trix_managed[eac
-00001160: 682e 7661 6c75 652e 6b65 795d 2e69 640d  h.value.key].id.
-00001170: 0a20 2064 6573 7469 6e61 7469 6f6e 5f63  .  destination_c
-00001180: 6964 725f 626c 6f63 6b20 2020 203d 2065  idr_block    = e
-00001190: 6163 682e 7661 6c75 652e 6465 7374 696e  ach.value.destin
-000011a0: 6174 696f 6e0d 0a20 2067 6174 6577 6179  ation..  gateway
-000011b0: 5f69 6420 2020 2020 2020 2020 2020 2020  _id             
-000011c0: 2020 203d 2073 706c 6974 2822 2d22 2c20     = split("-", 
-000011d0: 6561 6368 2e76 616c 7565 2e74 6172 6765  each.value.targe
-000011e0: 7429 5b30 5d20 3d3d 2022 6967 7722 203f  t)[0] == "igw" ?
-000011f0: 2065 6163 682e 7661 6c75 652e 7461 7267   each.value.targ
-00001200: 6574 203a 206e 756c 6c0d 0a20 2069 6e73  et : null..  ins
-00001210: 7461 6e63 655f 6964 2020 2020 2020 2020  tance_id        
-00001220: 2020 2020 2020 203d 2073 706c 6974 2822         = split("
-00001230: 2d22 2c20 6561 6368 2e76 616c 7565 2e74  -", each.value.t
-00001240: 6172 6765 7429 5b30 5d20 3d3d 2022 6922  arget)[0] == "i"
-00001250: 203f 2065 6163 682e 7661 6c75 652e 7461   ? each.value.ta
-00001260: 7267 6574 203a 206e 756c 6c0d 0a20 206e  rget : null..  n
-00001270: 6174 5f67 6174 6577 6179 5f69 6420 2020  at_gateway_id   
-00001280: 2020 2020 2020 2020 203d 2073 706c 6974           = split
-00001290: 2822 2d22 2c20 6561 6368 2e76 616c 7565  ("-", each.value
-000012a0: 2e74 6172 6765 7429 5b30 5d20 3d3d 2022  .target)[0] == "
-000012b0: 6e61 7422 203f 2065 6163 682e 7661 6c75  nat" ? each.valu
-000012c0: 652e 7461 7267 6574 203a 206e 756c 6c0d  e.target : null.
-000012d0: 0a20 206c 6f63 616c 5f67 6174 6577 6179  .  local_gateway
-000012e0: 5f69 6420 2020 2020 2020 2020 203d 2073  _id          = s
-000012f0: 706c 6974 2822 2d22 2c20 6561 6368 2e76  plit("-", each.v
-00001300: 616c 7565 2e74 6172 6765 7429 5b30 5d20  alue.target)[0] 
-00001310: 3d3d 2022 4967 7722 203f 2065 6163 682e  == "Igw" ? each.
-00001320: 7661 6c75 652e 7461 7267 6574 203a 206e  value.target : n
-00001330: 756c 6c20 2320 6f75 7470 6f73 7420 6761  ull # outpost ga
-00001340: 7465 7761 790d 0a20 206e 6574 776f 726b  teway..  network
-00001350: 5f69 6e74 6572 6661 6365 5f69 6420 2020  _interface_id   
-00001360: 2020 203d 2073 706c 6974 2822 2d22 2c20     = split("-", 
-00001370: 6561 6368 2e76 616c 7565 2e74 6172 6765  each.value.targe
-00001380: 7429 5b30 5d20 3d3d 2022 656e 6922 203f  t)[0] == "eni" ?
-00001390: 2065 6163 682e 7661 6c75 652e 7461 7267   each.value.targ
-000013a0: 6574 203a 206e 756c 6c0d 0a20 2076 7063  et : null..  vpc
-000013b0: 5f70 6565 7269 6e67 5f63 6f6e 6e65 6374  _peering_connect
-000013c0: 696f 6e5f 6964 203d 2073 706c 6974 2822  ion_id = split("
-000013d0: 2d22 2c20 6561 6368 2e76 616c 7565 2e74  -", each.value.t
-000013e0: 6172 6765 7429 5b30 5d20 3d3d 2022 7063  arget)[0] == "pc
-000013f0: 7822 203f 2065 6163 682e 7661 6c75 652e  x" ? each.value.
-00001400: 7461 7267 6574 203a 206e 756c 6c0d 0a0d  target : null...
-00001410: 0a20 2023 2056 5043 2067 6174 6577 6179  .  # VPC gateway
-00001420: 2065 6e64 706f 696e 7473 2072 6f75 7465   endpoints route
-00001430: 7320 6361 6e27 7420 6265 2061 6464 6564  s can't be added
-00001440: 2068 6572 652c 2065 6e64 706f 696e 7420   here, endpoint 
-00001450: 6d61 6e61 6765 7320 5254 730d 0a0d 0a7d  manages RTs....}
-00001460: 0d0a 0d0a 7265 736f 7572 6365 2022 6e75  ....resource "nu
-00001470: 6c6c 5f72 6573 6f75 7263 6522 2022 7670  ll_resource" "vp
-00001480: 6365 5f72 6f75 7465 2220 7b0d 0a20 2066  ce_route" {..  f
-00001490: 6f72 5f65 6163 6820 3d20 7b0d 0a20 2020  or_each = {..   
-000014a0: 2066 6f72 2072 6f75 7465 2069 6e20 6c6f   for route in lo
-000014b0: 6361 6c2e 726f 7574 6573 203a 2022 247b  cal.routes : "${
-000014c0: 726f 7574 652e 6465 7374 696e 6174 696f  route.destinatio
-000014d0: 6e7d 2e24 7b72 6f75 7465 2e6b 6579 7d22  n}.${route.key}"
-000014e0: 203d 3e20 726f 7574 650d 0a20 2020 2069   => route..    i
-000014f0: 6620 7375 6273 7472 2872 6f75 7465 5b22  f substr(route["
-00001500: 7461 7267 6574 225d 2c20 302c 2035 2920  target"], 0, 5) 
-00001510: 3d3d 2022 7670 6365 2d22 0d0a 2020 7d0d  == "vpce-"..  }.
-00001520: 0a20 2070 726f 7669 7369 6f6e 6572 2022  .  provisioner "
-00001530: 6c6f 6361 6c2d 6578 6563 2220 7b0d 0a20  local-exec" {.. 
-00001540: 2020 2063 6f6d 6d61 6e64 203d 2022 7079     command = "py
-00001550: 7468 6f6e 3320 2d6d 2064 6d2e 6164 645f  thon3 -m dm.add_
-00001560: 7670 6365 5f72 6f75 7465 2024 7b76 6172  vpce_route ${var
-00001570: 2e72 6567 696f 6e7d 2024 7b76 6172 2e72  .region} ${var.r
-00001580: 6f6c 655f 6172 6e7d 2024 7b65 6163 682e  ole_arn} ${each.
-00001590: 7661 6c75 655b 2274 6172 6765 7422 5d7d  value["target"]}
-000015a0: 2024 7b61 7773 5f72 6f75 7465 5f74 6162   ${aws_route_tab
-000015b0: 6c65 2e61 7669 6174 7269 785f 6d61 6e61  le.aviatrix_mana
-000015c0: 6765 645b 6561 6368 2e76 616c 7565 2e6b  ged[each.value.k
-000015d0: 6579 5d2e 6964 7d22 0d0a 2020 7d0d 0a7d  ey].id}"..  }..}
-000015e0: 0d0a 0d0a 6c6f 6361 6c73 207b 0d0a 2020  ....locals {..  
-000015f0: 726f 7574 6573 203d 2066 6c61 7474 656e  routes = flatten
-00001600: 285b 0d0a 2020 2020 666f 7220 7274 5f6b  ([..    for rt_k
-00001610: 6579 2c20 7274 5f76 616c 2069 6e20 7661  ey, rt_val in va
-00001620: 722e 726f 7574 655f 7461 626c 6573 203a  r.route_tables :
-00001630: 205b 0d0a 2020 2020 2020 666f 7220 726f   [..      for ro
-00001640: 7574 6520 696e 2072 745f 7661 6c2e 726f  ute in rt_val.ro
-00001650: 7574 6573 203a 207b 0d0a 2020 2020 2020  utes : {..      
-00001660: 2020 6b65 7920 2020 2020 2020 2020 3d20    key         = 
-00001670: 7274 5f6b 6579 0d0a 2020 2020 2020 2020  rt_key..        
-00001680: 6465 7374 696e 6174 696f 6e20 3d20 726f  destination = ro
-00001690: 7574 652e 6465 7374 696e 6174 696f 6e0d  ute.destination.
-000016a0: 0a20 2020 2020 2020 2074 6172 6765 7420  .        target 
-000016b0: 2020 2020 203d 2072 6f75 7465 2e74 6172       = route.tar
-000016c0: 6765 740d 0a20 2020 2020 207d 0d0a 2020  get..      }..  
-000016d0: 2020 5d0d 0a20 205d 290d 0a7d 0d0a         ]..  ])..}..
+00000760: 2020 2020 2020 3d20 7661 722e 6176 7478        = var.avtx
+00000770: 5f67 775f 7369 7a65 0a20 2073 7562 6e65  _gw_size.  subne
+00000780: 7420 2020 2020 2020 2020 2020 2020 2020  t               
+00000790: 2020 2020 2020 2020 2020 2020 203d 2076               = v
+000007a0: 6172 2e61 6464 5f76 7063 5f63 6964 7220  ar.add_vpc_cidr 
+000007b0: 3f20 6369 6472 7375 626e 6574 2861 7773  ? cidrsubnet(aws
+000007c0: 5f76 7063 5f69 7076 345f 6369 6472 5f62  _vpc_ipv4_cidr_b
+000007d0: 6c6f 636b 5f61 7373 6f63 6961 7469 6f6e  lock_association
+000007e0: 2e61 7669 6174 7269 785f 6369 6472 5b30  .aviatrix_cidr[0
+000007f0: 5d2e 6369 6472 5f62 6c6f 636b 2c20 312c  ].cidr_block, 1,
+00000800: 2030 2920 3a20 7370 6c69 7428 222c 222c   0) : split(",",
+00000810: 2076 6172 2e61 7674 785f 6369 6472 295b   var.avtx_cidr)[
+00000820: 305d 0a20 2068 615f 7375 626e 6574 2020  0].  ha_subnet  
+00000830: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00000840: 2020 2020 2020 203d 2076 6172 2e61 6464         = var.add
+00000850: 5f76 7063 5f63 6964 7220 3f20 6369 6472  _vpc_cidr ? cidr
+00000860: 7375 626e 6574 2861 7773 5f76 7063 5f69  subnet(aws_vpc_i
+00000870: 7076 345f 6369 6472 5f62 6c6f 636b 5f61  pv4_cidr_block_a
+00000880: 7373 6f63 6961 7469 6f6e 2e61 7669 6174  ssociation.aviat
+00000890: 7269 785f 6369 6472 5b30 5d2e 6369 6472  rix_cidr[0].cidr
+000008a0: 5f62 6c6f 636b 2c20 312c 2031 2920 3a20  _block, 1, 1) : 
+000008b0: 7370 6c69 7428 222c 222c 2076 6172 2e61  split(",", var.a
+000008c0: 7674 785f 6369 6472 295b 315d 0a20 2069  vtx_cidr)[1].  i
+000008d0: 6e73 616e 655f 6d6f 6465 5f61 7a20 2020  nsane_mode_az   
+000008e0: 2020 2020 2020 2020 2020 2020 2020 2020                  
+000008f0: 203d 2076 6172 2e68 7065 203f 2076 6172   = var.hpe ? var
+00000900: 2e67 775f 7a6f 6e65 735b 305d 203a 206e  .gw_zones[0] : n
+00000910: 756c 6c0a 2020 6861 5f69 6e73 616e 655f  ull.  ha_insane_
+00000920: 6d6f 6465 5f61 7a20 2020 2020 2020 2020  mode_az         
+00000930: 2020 2020 2020 2020 3d20 7661 722e 6870          = var.hp
+00000940: 6520 3f20 7661 722e 6777 5f7a 6f6e 6573  e ? var.gw_zones
+00000950: 5b31 5d20 3a20 6e75 6c6c 0a20 2069 6e63  [1] : null.  inc
+00000960: 6c75 6465 645f 6164 7665 7274 6973 6564  luded_advertised
+00000970: 5f73 706f 6b65 5f72 6f75 7465 7320 203d  _spoke_routes  =
+00000980: 2076 6172 2e73 7769 7463 685f 7472 6166   var.switch_traf
+00000990: 6669 6320 3f20 2876 6172 2e61 6464 5f76  fic ? (var.add_v
+000009a0: 7063 5f63 6964 7220 3f20 286c 656e 6774  pc_cidr ? (lengt
+000009b0: 6828 7661 722e 7370 6f6b 655f 6164 7629  h(var.spoke_adv)
+000009c0: 203e 2030 203f 2076 6172 2e73 706f 6b65   > 0 ? var.spoke
+000009d0: 5f61 6476 203a 206a 6f69 6e28 222c 222c  _adv : join(",",
+000009e0: 2063 6f6e 6361 7428 7661 722e 7670 635f   concat(var.vpc_
+000009f0: 6369 6472 2c20 5b76 6172 2e61 7674 785f  cidr, [var.avtx_
+00000a00: 6369 6472 5d29 2929 203a 2028 6c65 6e67  cidr]))) : (leng
+00000a10: 7468 2876 6172 2e73 706f 6b65 5f61 6476  th(var.spoke_adv
+00000a20: 2920 3e20 3020 3f20 7661 722e 7370 6f6b  ) > 0 ? var.spok
+00000a30: 655f 6164 7620 3a20 6a6f 696e 2822 2c22  e_adv : join(","
+00000a40: 2c20 7661 722e 7670 635f 6369 6472 2929  , var.vpc_cidr))
+00000a50: 2920 3a20 7661 722e 6176 7478 5f63 6964  ) : var.avtx_cid
+00000a60: 720a 2020 6375 7374 6f6d 697a 6564 5f73  r.  customized_s
+00000a70: 706f 6b65 5f76 7063 5f72 6f75 7465 7320  poke_vpc_routes 
+00000a80: 2020 2020 2020 3d20 7661 722e 7370 6f6b        = var.spok
+00000a90: 655f 726f 7574 6573 0a20 206d 616e 6167  e_routes.  manag
+00000aa0: 655f 7472 616e 7369 745f 6761 7465 7761  e_transit_gatewa
+00000ab0: 795f 6174 7461 6368 6d65 6e74 203d 2066  y_attachment = f
+00000ac0: 616c 7365 0a20 2065 6e61 626c 655f 6163  alse.  enable_ac
+00000ad0: 7469 7665 5f6d 6573 6820 2020 2020 2020  tive_mesh       
+00000ae0: 2020 2020 2020 2020 203d 2074 7275 650a           = true.
+00000af0: 2020 7369 6e67 6c65 5f61 7a5f 6861 2020    single_az_ha  
+00000b00: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00000b10: 2020 2020 3d20 7472 7565 0a20 2074 6167      = true.  tag
+00000b20: 7320 2020 2020 2020 2020 2020 2020 2020  s               
+00000b30: 2020 2020 2020 2020 2020 2020 2020 203d                 =
+00000b40: 2076 6172 2e74 6167 730a 2020 6465 7065   var.tags.  depe
+00000b50: 6e64 735f 6f6e 2020 2020 2020 2020 2020  nds_on          
+00000b60: 2020 2020 2020 2020 2020 2020 2020 3d20                = 
+00000b70: 5b61 7773 5f72 6f75 7465 2e61 7669 6174  [aws_route.aviat
+00000b80: 7269 785f 6465 6661 756c 742c 2061 7773  rix_default, aws
+00000b90: 5f72 6f75 7465 5f74 6162 6c65 5f61 7373  _route_table_ass
+00000ba0: 6f63 6961 7469 6f6e 2e61 7669 6174 7269  ociation.aviatri
+00000bb0: 785f 7075 626c 6963 2c20 6177 735f 726f  x_public, aws_ro
+00000bc0: 7574 652e 7072 655f 6d69 6772 6174 696f  ute.pre_migratio
+00000bd0: 6e5d 0a7d 0a0a 7265 736f 7572 6365 2022  n].}..resource "
+00000be0: 6176 6961 7472 6978 5f73 706f 6b65 5f74  aviatrix_spoke_t
+00000bf0: 7261 6e73 6974 5f61 7474 6163 686d 656e  ransit_attachmen
+00000c00: 7422 2022 6174 7461 6368 6d65 6e74 2220  t" "attachment" 
+00000c10: 7b0a 2020 7370 6f6b 655f 6777 5f6e 616d  {.  spoke_gw_nam
+00000c20: 6520 2020 3d20 6176 6961 7472 6978 5f73  e   = aviatrix_s
+00000c30: 706f 6b65 5f67 6174 6577 6179 2e67 772e  poke_gateway.gw.
+00000c40: 6777 5f6e 616d 650a 2020 7472 616e 7369  gw_name.  transi
+00000c50: 745f 6777 5f6e 616d 6520 3d20 7661 722e  t_gw_name = var.
+00000c60: 7472 616e 7369 745f 6777 0a20 2072 6f75  transit_gw.  rou
+00000c70: 7465 5f74 6162 6c65 7320 2020 203d 205b  te_tables    = [
+00000c80: 666f 7220 6b2c 2076 2069 6e20 7661 722e  for k, v in var.
+00000c90: 726f 7574 655f 7461 626c 6573 203a 2061  route_tables : a
+00000ca0: 7773 5f72 6f75 7465 5f74 6162 6c65 2e61  ws_route_table.a
+00000cb0: 7669 6174 7269 785f 6d61 6e61 6765 645b  viatrix_managed[
+00000cc0: 6b5d 2e69 645d 0a7d 0a0a 7265 736f 7572  k].id].}..resour
+00000cd0: 6365 2022 6177 735f 726f 7574 655f 7461  ce "aws_route_ta
+00000ce0: 626c 6522 2022 6176 6961 7472 6978 5f6d  ble" "aviatrix_m
+00000cf0: 616e 6167 6564 2220 7b0a 2020 666f 725f  anaged" {.  for_
+00000d00: 6561 6368 203d 2076 6172 2e72 6f75 7465  each = var.route
+00000d10: 5f74 6162 6c65 730a 2020 7670 635f 6964  _tables.  vpc_id
+00000d20: 2020 203d 2076 6172 2e76 7063 5f69 640a     = var.vpc_id.
+00000d30: 2020 7461 6773 2020 2020 203d 206d 6572    tags     = mer
+00000d40: 6765 2865 6163 682e 7661 6c75 652e 7461  ge(each.value.ta
+00000d50: 6773 2c20 7b20 4f72 675f 5254 203d 2065  gs, { Org_RT = e
+00000d60: 6163 682e 6b65 7920 7d29 0a7d 0a0a 7265  ach.key }).}..re
+00000d70: 736f 7572 6365 2022 6176 6961 7472 6978  source "aviatrix
+00000d80: 5f74 7261 6e73 6974 5f66 6972 656e 6574  _transit_firenet
+00000d90: 5f70 6f6c 6963 7922 2022 6465 6661 756c  _policy" "defaul
+00000da0: 7422 207b 0a20 2063 6f75 6e74 2020 2020  t" {.  count    
+00000db0: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00000dc0: 2020 2020 3d20 7661 722e 696e 7370 6563      = var.inspec
+00000dd0: 7469 6f6e 203f 2031 203a 2030 0a20 2074  tion ? 1 : 0.  t
+00000de0: 7261 6e73 6974 5f66 6972 656e 6574 5f67  ransit_firenet_g
+00000df0: 6174 6577 6179 5f6e 616d 6520 3d20 7661  ateway_name = va
+00000e00: 722e 7472 616e 7369 745f 6777 0a20 2069  r.transit_gw.  i
+00000e10: 6e73 7065 6374 6564 5f72 6573 6f75 7263  nspected_resourc
+00000e20: 655f 6e61 6d65 2020 2020 2020 3d20 2253  e_name      = "S
+00000e30: 504f 4b45 3a24 7b61 7669 6174 7269 785f  POKE:${aviatrix_
+00000e40: 7370 6f6b 655f 6761 7465 7761 792e 6777  spoke_gateway.gw
+00000e50: 2e67 775f 6e61 6d65 7d22 0a20 2064 6570  .gw_name}".  dep
+00000e60: 656e 6473 5f6f 6e20 2020 2020 2020 2020  ends_on         
+00000e70: 2020 2020 2020 2020 2020 3d20 5b61 7669            = [avi
+00000e80: 6174 7269 785f 7370 6f6b 655f 7472 616e  atrix_spoke_tran
+00000e90: 7369 745f 6174 7461 6368 6d65 6e74 2e61  sit_attachment.a
+00000ea0: 7474 6163 686d 656e 745d 0a7d 0a0a 7265  ttachment].}..re
+00000eb0: 736f 7572 6365 2022 6176 6961 7472 6978  source "aviatrix
+00000ec0: 5f73 6567 6d65 6e74 6174 696f 6e5f 7365  _segmentation_se
+00000ed0: 6375 7269 7479 5f64 6f6d 6169 6e5f 6173  curity_domain_as
+00000ee0: 736f 6369 6174 696f 6e22 2022 6465 6661  sociation" "defa
+00000ef0: 756c 7422 207b 0a20 2063 6f75 6e74 2020  ult" {.  count  
+00000f00: 2020 2020 2020 2020 2020 2020 2020 3d20                = 
+00000f10: 6c65 6e67 7468 2876 6172 2e64 6f6d 6169  length(var.domai
+00000f20: 6e29 203e 2030 203f 2031 203a 2030 0a20  n) > 0 ? 1 : 0. 
+00000f30: 2074 7261 6e73 6974 5f67 6174 6577 6179   transit_gateway
+00000f40: 5f6e 616d 6520 3d20 7661 722e 7472 616e  _name = var.tran
+00000f50: 7369 745f 6777 0a20 2073 6563 7572 6974  sit_gw.  securit
+00000f60: 795f 646f 6d61 696e 5f6e 616d 6520 3d20  y_domain_name = 
+00000f70: 7661 722e 646f 6d61 696e 0a20 2061 7474  var.domain.  att
+00000f80: 6163 686d 656e 745f 6e61 6d65 2020 2020  achment_name    
+00000f90: 2020 3d20 6176 6961 7472 6978 5f73 706f    = aviatrix_spo
+00000fa0: 6b65 5f67 6174 6577 6179 2e67 772e 6777  ke_gateway.gw.gw
+00000fb0: 5f6e 616d 650a 2020 6465 7065 6e64 735f  _name.  depends_
+00000fc0: 6f6e 2020 2020 2020 2020 2020 203d 205b  on           = [
+00000fd0: 6176 6961 7472 6978 5f73 706f 6b65 5f74  aviatrix_spoke_t
+00000fe0: 7261 6e73 6974 5f61 7474 6163 686d 656e  ransit_attachmen
+00000ff0: 742e 6174 7461 6368 6d65 6e74 5d0a 7d0a  t.attachment].}.
+00001000: 0a0a 7265 736f 7572 6365 2022 6177 735f  ..resource "aws_
+00001010: 726f 7574 6522 2022 7072 655f 6d69 6772  route" "pre_migr
+00001020: 6174 696f 6e22 207b 0a20 2066 6f72 5f65  ation" {.  for_e
+00001030: 6163 6820 3d20 7b0a 2020 2020 666f 7220  ach = {.    for 
+00001040: 726f 7574 6520 696e 206c 6f63 616c 2e72  route in local.r
+00001050: 6f75 7465 7320 3a20 2224 7b72 6f75 7465  outes : "${route
+00001060: 2e64 6573 7469 6e61 7469 6f6e 7d2e 247b  .destination}.${
+00001070: 726f 7574 652e 6b65 797d 2220 3d3e 2072  route.key}" => r
+00001080: 6f75 7465 0a20 2020 2069 6620 7375 6273  oute.    if subs
+00001090: 7472 2872 6f75 7465 5b22 7461 7267 6574  tr(route["target
+000010a0: 225d 2c20 302c 2035 2920 213d 2022 7670  "], 0, 5) != "vp
+000010b0: 6365 2d22 0a20 207d 0a20 2072 6f75 7465  ce-".  }.  route
+000010c0: 5f74 6162 6c65 5f69 6420 2020 2020 2020  _table_id       
+000010d0: 2020 2020 203d 2061 7773 5f72 6f75 7465       = aws_route
+000010e0: 5f74 6162 6c65 2e61 7669 6174 7269 785f  _table.aviatrix_
+000010f0: 6d61 6e61 6765 645b 6561 6368 2e76 616c  managed[each.val
+00001100: 7565 2e6b 6579 5d2e 6964 0a20 2064 6573  ue.key].id.  des
+00001110: 7469 6e61 7469 6f6e 5f63 6964 725f 626c  tination_cidr_bl
+00001120: 6f63 6b20 2020 203d 2065 6163 682e 7661  ock    = each.va
+00001130: 6c75 652e 6465 7374 696e 6174 696f 6e0a  lue.destination.
+00001140: 2020 6761 7465 7761 795f 6964 2020 2020    gateway_id    
+00001150: 2020 2020 2020 2020 2020 2020 3d20 7370              = sp
+00001160: 6c69 7428 222d 222c 2065 6163 682e 7661  lit("-", each.va
+00001170: 6c75 652e 7461 7267 6574 295b 305d 203d  lue.target)[0] =
+00001180: 3d20 2269 6777 2220 3f20 6561 6368 2e76  = "igw" ? each.v
+00001190: 616c 7565 2e74 6172 6765 7420 3a20 6e75  alue.target : nu
+000011a0: 6c6c 0a20 2069 6e73 7461 6e63 655f 6964  ll.  instance_id
+000011b0: 2020 2020 2020 2020 2020 2020 2020 203d                 =
+000011c0: 2073 706c 6974 2822 2d22 2c20 6561 6368   split("-", each
+000011d0: 2e76 616c 7565 2e74 6172 6765 7429 5b30  .value.target)[0
+000011e0: 5d20 3d3d 2022 6922 203f 2065 6163 682e  ] == "i" ? each.
+000011f0: 7661 6c75 652e 7461 7267 6574 203a 206e  value.target : n
+00001200: 756c 6c0a 2020 6e61 745f 6761 7465 7761  ull.  nat_gatewa
+00001210: 795f 6964 2020 2020 2020 2020 2020 2020  y_id            
+00001220: 3d20 7370 6c69 7428 222d 222c 2065 6163  = split("-", eac
+00001230: 682e 7661 6c75 652e 7461 7267 6574 295b  h.value.target)[
+00001240: 305d 203d 3d20 226e 6174 2220 3f20 6561  0] == "nat" ? ea
+00001250: 6368 2e76 616c 7565 2e74 6172 6765 7420  ch.value.target 
+00001260: 3a20 6e75 6c6c 0a20 206c 6f63 616c 5f67  : null.  local_g
+00001270: 6174 6577 6179 5f69 6420 2020 2020 2020  ateway_id       
+00001280: 2020 203d 2073 706c 6974 2822 2d22 2c20     = split("-", 
+00001290: 6561 6368 2e76 616c 7565 2e74 6172 6765  each.value.targe
+000012a0: 7429 5b30 5d20 3d3d 2022 4967 7722 203f  t)[0] == "Igw" ?
+000012b0: 2065 6163 682e 7661 6c75 652e 7461 7267   each.value.targ
+000012c0: 6574 203a 206e 756c 6c20 2320 6f75 7470  et : null # outp
+000012d0: 6f73 7420 6761 7465 7761 790a 2020 6e65  ost gateway.  ne
+000012e0: 7477 6f72 6b5f 696e 7465 7266 6163 655f  twork_interface_
+000012f0: 6964 2020 2020 2020 3d20 7370 6c69 7428  id      = split(
+00001300: 222d 222c 2065 6163 682e 7661 6c75 652e  "-", each.value.
+00001310: 7461 7267 6574 295b 305d 203d 3d20 2265  target)[0] == "e
+00001320: 6e69 2220 3f20 6561 6368 2e76 616c 7565  ni" ? each.value
+00001330: 2e74 6172 6765 7420 3a20 6e75 6c6c 0a20  .target : null. 
+00001340: 2076 7063 5f70 6565 7269 6e67 5f63 6f6e   vpc_peering_con
+00001350: 6e65 6374 696f 6e5f 6964 203d 2073 706c  nection_id = spl
+00001360: 6974 2822 2d22 2c20 6561 6368 2e76 616c  it("-", each.val
+00001370: 7565 2e74 6172 6765 7429 5b30 5d20 3d3d  ue.target)[0] ==
+00001380: 2022 7063 7822 203f 2065 6163 682e 7661   "pcx" ? each.va
+00001390: 6c75 652e 7461 7267 6574 203a 206e 756c  lue.target : nul
+000013a0: 6c0a 0a20 2023 2056 5043 2067 6174 6577  l..  # VPC gatew
+000013b0: 6179 2065 6e64 706f 696e 7473 2072 6f75  ay endpoints rou
+000013c0: 7465 7320 6361 6e27 7420 6265 2061 6464  tes can't be add
+000013d0: 6564 2068 6572 652c 2065 6e64 706f 696e  ed here, endpoin
+000013e0: 7420 6d61 6e61 6765 7320 5254 730a 0a7d  t manages RTs..}
+000013f0: 0a0a 7265 736f 7572 6365 2022 6e75 6c6c  ..resource "null
+00001400: 5f72 6573 6f75 7263 6522 2022 7670 6365  _resource" "vpce
+00001410: 5f72 6f75 7465 2220 7b0a 2020 666f 725f  _route" {.  for_
+00001420: 6561 6368 203d 207b 0a20 2020 2066 6f72  each = {.    for
+00001430: 2072 6f75 7465 2069 6e20 6c6f 6361 6c2e   route in local.
+00001440: 726f 7574 6573 203a 2022 247b 726f 7574  routes : "${rout
+00001450: 652e 6465 7374 696e 6174 696f 6e7d 2e24  e.destination}.$
+00001460: 7b72 6f75 7465 2e6b 6579 7d22 203d 3e20  {route.key}" => 
+00001470: 726f 7574 650a 2020 2020 6966 2073 7562  route.    if sub
+00001480: 7374 7228 726f 7574 655b 2274 6172 6765  str(route["targe
+00001490: 7422 5d2c 2030 2c20 3529 203d 3d20 2276  t"], 0, 5) == "v
+000014a0: 7063 652d 220a 2020 7d0a 2020 7072 6f76  pce-".  }.  prov
+000014b0: 6973 696f 6e65 7220 226c 6f63 616c 2d65  isioner "local-e
+000014c0: 7865 6322 207b 0a20 2020 2063 6f6d 6d61  xec" {.    comma
+000014d0: 6e64 203d 2022 7079 7468 6f6e 3320 2d6d  nd = "python3 -m
+000014e0: 2064 6d2e 6164 645f 7670 6365 5f72 6f75   dm.add_vpce_rou
+000014f0: 7465 2024 7b76 6172 2e72 6567 696f 6e7d  te ${var.region}
+00001500: 2024 7b76 6172 2e72 6f6c 655f 6172 6e7d   ${var.role_arn}
+00001510: 2024 7b65 6163 682e 7661 6c75 655b 2274   ${each.value["t
+00001520: 6172 6765 7422 5d7d 2024 7b61 7773 5f72  arget"]} ${aws_r
+00001530: 6f75 7465 5f74 6162 6c65 2e61 7669 6174  oute_table.aviat
+00001540: 7269 785f 6d61 6e61 6765 645b 6561 6368  rix_managed[each
+00001550: 2e76 616c 7565 2e6b 6579 5d2e 6964 7d22  .value.key].id}"
+00001560: 0a20 207d 0a7d 0a0a 6c6f 6361 6c73 207b  .  }.}..locals {
+00001570: 0a20 2072 6f75 7465 7320 3d20 666c 6174  .  routes = flat
+00001580: 7465 6e28 5b0a 2020 2020 666f 7220 7274  ten([.    for rt
+00001590: 5f6b 6579 2c20 7274 5f76 616c 2069 6e20  _key, rt_val in 
+000015a0: 7661 722e 726f 7574 655f 7461 626c 6573  var.route_tables
+000015b0: 203a 205b 0a20 2020 2020 2066 6f72 2072   : [.      for r
+000015c0: 6f75 7465 2069 6e20 7274 5f76 616c 2e72  oute in rt_val.r
+000015d0: 6f75 7465 7320 3a20 7b0a 2020 2020 2020  outes : {.      
+000015e0: 2020 6b65 7920 2020 2020 2020 2020 3d20    key         = 
+000015f0: 7274 5f6b 6579 0a20 2020 2020 2020 2064  rt_key.        d
+00001600: 6573 7469 6e61 7469 6f6e 203d 2072 6f75  estination = rou
+00001610: 7465 2e64 6573 7469 6e61 7469 6f6e 0a20  te.destination. 
+00001620: 2020 2020 2020 2074 6172 6765 7420 2020         target   
+00001630: 2020 203d 2072 6f75 7465 2e74 6172 6765     = route.targe
+00001640: 740a 2020 2020 2020 7d0a 2020 2020 5d0a  t.      }.    ].
+00001650: 2020 5d29 0a7d 0a                          ]).}.
```

## Comparing `aviatrix_migration-0.2.94.data/data/migration/discovery_migration/aws/generic/module_aws_brownfield_spoke_vpc/variables.tf` & `aviatrix_migration-0.2.95.data/data/migration/discovery_migration/aws/generic/module_aws_brownfield_spoke_vpc/variables.tf`

 * *Ordering differences only*

 * *Files 15% similar despite different names*

```diff
@@ -1,94 +1,94 @@
-#generic
-variable "region" {}
-
-variable "account_name" {}
-
-variable "role_arn" {}
-
-variable "vpc_name" {}
-
-variable "vpc_cidr" {
-  type = list(string)
-}
-
-variable "vpc_id" {}
-
-variable "avtx_cidr" {
-  default     = ""
-  description = "CIDR used by the Aviatrix gateways"
-}
-
-variable "tgw_vpc" {
-  default     = false
-  description = "Decides if VPC should be attached to a TGW"
-}
-
-variable "avtx_gw_size" {
-  default = ""
-}
-
-variable "hpe" {
-  default = false
-}
-
-variable "igw_id" {}
-
-variable "route_tables" {}
-
-variable "gw_zones" {
-  type = list
-}
-
-variable "switch_traffic" {
-  type    = bool
-  default = false
-}
-
-variable "add_vpc_cidr" {
-  type    = bool
-  default = false
-}
-
-variable "spoke_gw_name" {
-  default = ""
-}
-
-variable "transit_gw" {
-  default = ""
-}
-
-variable "tags" {
-  description = "Map of tags to assign to the gateway."
-  type        = map
-  default     = null
-}
-
-variable "domain" {
-  description = "Provide security domain name to which spoke needs to be deployed. Transit gateway mus tbe attached and have segmentation enabled."
-  type        = string
-  default     = ""
-}
-
-variable "inspection" {
-  description = "Set to true to enable east/west Firenet inspection. Only valid when transit_gw is East/West transit Firenet"
-  type        = bool
-  default     = false
-}
-
-variable "spoke_routes" {
-  description = "A list of comma separated CIDRs to be customized for the spoke VPC routes. When configured, it will replace all learned routes in VPC routing tables, including RFC1918 and non-RFC1918 CIDRs. It applies to this spoke gateway only"
-  type        = string
-  default     = ""
-}
-
-variable "spoke_adv" {
-  description = "A list of comma separated CIDRs to be advertised to on-prem as Included CIDR List. When configured, it will replace all advertised routes from this VPC."
-  type        = string
-  default     = ""
-}
-
-variable "encrypt" {
-  description = "Enable EBS volume encryption for Gateway. Only supports AWS and AWSGOV provider. Valid values: true, false. Default value: false"
-  type        = bool
-  default     = false
-}
+#generic
+variable "region" {}
+
+variable "account_name" {}
+
+variable "role_arn" {}
+
+variable "vpc_name" {}
+
+variable "vpc_cidr" {
+  type = list(string)
+}
+
+variable "vpc_id" {}
+
+variable "avtx_cidr" {
+  default     = ""
+  description = "CIDR used by the Aviatrix gateways"
+}
+
+variable "tgw_vpc" {
+  default     = false
+  description = "Decides if VPC should be attached to a TGW"
+}
+
+variable "avtx_gw_size" {
+  default = ""
+}
+
+variable "hpe" {
+  default = false
+}
+
+variable "igw_id" {}
+
+variable "route_tables" {}
+
+variable "gw_zones" {
+  type = list
+}
+
+variable "switch_traffic" {
+  type    = bool
+  default = false
+}
+
+variable "add_vpc_cidr" {
+  type    = bool
+  default = false
+}
+
+variable "spoke_gw_name" {
+  default = ""
+}
+
+variable "transit_gw" {
+  default = ""
+}
+
+variable "tags" {
+  description = "Map of tags to assign to the gateway."
+  type        = map
+  default     = null
+}
+
+variable "domain" {
+  description = "Provide security domain name to which spoke needs to be deployed. Transit gateway mus tbe attached and have segmentation enabled."
+  type        = string
+  default     = ""
+}
+
+variable "inspection" {
+  description = "Set to true to enable east/west Firenet inspection. Only valid when transit_gw is East/West transit Firenet"
+  type        = bool
+  default     = false
+}
+
+variable "spoke_routes" {
+  description = "A list of comma separated CIDRs to be customized for the spoke VPC routes. When configured, it will replace all learned routes in VPC routing tables, including RFC1918 and non-RFC1918 CIDRs. It applies to this spoke gateway only"
+  type        = string
+  default     = ""
+}
+
+variable "spoke_adv" {
+  description = "A list of comma separated CIDRs to be advertised to on-prem as Included CIDR List. When configured, it will replace all advertised routes from this VPC."
+  type        = string
+  default     = ""
+}
+
+variable "encrypt" {
+  description = "Enable EBS volume encryption for Gateway. Only supports AWS and AWSGOV provider. Valid values: true, false. Default value: false"
+  type        = bool
+  default     = false
+}
```

## Comparing `aviatrix_migration-0.2.94.data/data/migration/discovery_migration/aws/nameless/account.template` & `aviatrix_migration-0.2.95.data/data/migration/discovery_migration/aws/generic/account.template`

 * *Ordering differences only*

 * *Files 18% similar despite different names*

```diff
@@ -1,11 +1,11 @@
-resource "aviatrix_account" "aws_customer" {
-  account_name       = "aws-${var.aws_account}"
-  cloud_type         = 1
-  aws_account_number = var.aws_account
-  aws_iam            = true
-  audit_account      = false
-  aws_role_app       = "arn:aws:iam::${var.aws_account}:role/${var.ctrl_role_app}"
-  aws_role_ec2       = "arn:aws:iam::${var.aws_ctrl_account}:role/${var.ctrl_role_ec2}"
-  aws_gateway_role_app       = "arn:aws:iam::${var.aws_account}:role/${var.gateway_role_app}"
-  aws_gateway_role_ec2       = "arn:aws:iam::${var.aws_account}:role/${var.gateway_role_ec2}"
+resource "aviatrix_account" "aws_customer" {
+  account_name       = "aws-${var.aws_account}"
+  cloud_type         = 1
+  aws_account_number = var.aws_account
+  aws_iam            = true
+  audit_account      = false
+  aws_role_app       = "arn:aws:iam::${var.aws_account}:role/${var.ctrl_role_app}"
+  aws_role_ec2       = "arn:aws:iam::${var.aws_ctrl_account}:role/${var.ctrl_role_ec2}"
+  aws_gateway_role_app       = "arn:aws:iam::${var.aws_account}:role/${var.gateway_role_app}"
+  aws_gateway_role_ec2       = "arn:aws:iam::${var.aws_account}:role/${var.gateway_role_ec2}"
 }
```

## Comparing `aviatrix_migration-0.2.94.data/data/migration/discovery_migration/aws/nameless/main.tf` & `aviatrix_migration-0.2.95.data/data/migration/discovery_migration/vpc_template/main.tf`

 * *Ordering differences only*

 * *Files 19% similar despite different names*

```diff
@@ -1,18 +1,18 @@
-data "aws_ssm_parameter" "avx-password" {
-  name     = "avx-admin-password"
-  provider = aws.us_west_2
-}
-
-resource "aviatrix_account" "aws_customer" {
-  account_name       = "aws-$${var.aws_account}"
-  cloud_type         = 1
-  aws_account_number = var.aws_account
-  aws_iam            = true
-  audit_account      = false
-  aws_role_app       = "arn:aws:iam::$${var.aws_account}:role/$${var.ctrl_role_app}"
-  aws_role_ec2       = "arn:aws:iam::$${var.aws_ctrl_account}:role/$${var.ctrl_role_ec2}"
-  aws_gateway_role_app       = "arn:aws:iam::$${var.aws_account}:role/$${var.gateway_role_app}"
-  aws_gateway_role_ec2       = "arn:aws:iam::$${var.aws_account}:role/$${var.gateway_role_ec2}"
-}
-
+data "aws_ssm_parameter" "avx-password" {
+  name     = "avx-admin-password"
+  provider = aws.us_west_2
+}
+
+resource "aviatrix_account" "aws_customer" {
+  account_name       = "aws-$${var.aws_account}"
+  cloud_type         = 1
+  aws_account_number = var.aws_account
+  aws_iam            = true
+  audit_account      = false
+  aws_role_app       = "arn:aws:iam::$${var.aws_account}:role/$${var.ctrl_role_app}"
+  aws_role_ec2       = "arn:aws:iam::$${var.aws_ctrl_account}:role/$${var.ctrl_role_ec2}"
+  aws_gateway_role_app       = "arn:aws:iam::$${var.aws_account}:role/$${var.gateway_role_app}"
+  aws_gateway_role_ec2       = "arn:aws:iam::$${var.aws_account}:role/$${var.gateway_role_ec2}"
+}
+
 $s3_backend
```

## Comparing `aviatrix_migration-0.2.94.data/data/migration/discovery_migration/aws/nameless/providers.tf` & `aviatrix_migration-0.2.95.data/data/migration/discovery_migration/aws/nameless/providers.tf`

 * *Ordering differences only*

 * *Files 23% similar despite different names*

```diff
@@ -1,161 +1,161 @@
-provider "aws" {
-  region = "us-west-2"
-  alias  = "us_west_2"
-}
-
-provider "aviatrix" {
-  username      = "admin"
-  password      = data.aws_ssm_parameter.avx-password.value
-  controller_ip = var.controller_ip
-}
-
-locals {
-  role_arn = "arn:aws:iam::${var.aws_account}:role/${var.aws_account_role}"
-}
-
-provider "aws" {
-  region              = "us-east-1"
-  alias               = "spoke_us_east_1"
-  allowed_account_ids = [var.aws_account]
-  assume_role { role_arn = local.role_arn }
-}
-
-provider "aws" {
-  region              = "us-east-2"
-  alias               = "spoke_us_east_2"
-  allowed_account_ids = [var.aws_account]
-  assume_role { role_arn = local.role_arn }
-}
-
-provider "aws" {
-  region              = "us-west-1"
-  alias               = "spoke_us_west_1"
-  allowed_account_ids = [var.aws_account]
-  assume_role { role_arn = local.role_arn }
-}
-
-provider "aws" {
-  region              = "us-west-2"
-  alias               = "spoke_us_west_2"
-  allowed_account_ids = [var.aws_account]
-  assume_role { role_arn = local.role_arn }
-}
-
-provider "aws" {
-  region              = "af-south-1"
-  alias               = "spoke_af_south_1"
-  allowed_account_ids = [var.aws_account]
-  assume_role { role_arn = local.role_arn }
-}
-
-provider "aws" {
-  region              = "ap-east-1"
-  alias               = "spoke_ap_east_1"
-  allowed_account_ids = [var.aws_account]
-  assume_role { role_arn = local.role_arn }
-}
-
-provider "aws" {
-  region              = "ap-south-1"
-  alias               = "spoke_ap_south_1"
-  allowed_account_ids = [var.aws_account]
-  assume_role { role_arn = local.role_arn }
-}
-
-provider "aws" {
-  region              = "ap-northeast-1"
-  alias               = "spoke_ap_northeast_1"
-  allowed_account_ids = [var.aws_account]
-  assume_role { role_arn = local.role_arn }
-}
-
-provider "aws" {
-  region              = "ap-northeast-2"
-  alias               = "spoke_ap_northeast_2"
-  allowed_account_ids = [var.aws_account]
-  assume_role { role_arn = local.role_arn }
-}
-
-provider "aws" {
-  region              = "ap-northeast-3"
-  alias               = "spoke_ap_northeast_3"
-  allowed_account_ids = [var.aws_account]
-  assume_role { role_arn = local.role_arn }
-}
-
-provider "aws" {
-  region              = "ap-southeast-1"
-  alias               = "spoke_ap_southeast_1"
-  allowed_account_ids = [var.aws_account]
-  assume_role { role_arn = local.role_arn }
-}
-
-provider "aws" {
-  region              = "ap-southeast-2"
-  alias               = "spoke_ap_southeast_2"
-  allowed_account_ids = [var.aws_account]
-  assume_role { role_arn = local.role_arn }
-}
-
-provider "aws" {
-  region              = "ca-central-1"
-  alias               = "spoke_ca_central_1"
-  allowed_account_ids = [var.aws_account]
-  assume_role { role_arn = local.role_arn }
-}
-
-provider "aws" {
-  region              = "eu-central-1"
-  alias               = "spoke_eu_central_1"
-  allowed_account_ids = [var.aws_account]
-  assume_role { role_arn = local.role_arn }
-}
-
-provider "aws" {
-  region              = "eu-west-1"
-  alias               = "spoke_eu_west_1"
-  allowed_account_ids = [var.aws_account]
-  assume_role { role_arn = local.role_arn }
-}
-
-provider "aws" {
-  region              = "eu-west-2"
-  alias               = "spoke_eu_west_2"
-  allowed_account_ids = [var.aws_account]
-  assume_role { role_arn = local.role_arn }
-}
-
-provider "aws" {
-  region              = "eu-west-3"
-  alias               = "spoke_eu_west_3"
-  allowed_account_ids = [var.aws_account]
-  assume_role { role_arn = local.role_arn }
-}
-
-provider "aws" {
-  region              = "eu-south-1"
-  alias               = "spoke_eu_south_1"
-  allowed_account_ids = [var.aws_account]
-  assume_role { role_arn = local.role_arn }
-}
-
-provider "aws" {
-  region              = "eu-north-1"
-  alias               = "spoke_eu_north_1"
-  allowed_account_ids = [var.aws_account]
-  assume_role { role_arn = local.role_arn }
-}
-
-provider "aws" {
-  region              = "me-south-1"
-  alias               = "spoke_me_south_1"
-  allowed_account_ids = [var.aws_account]
-  assume_role { role_arn = local.role_arn }
-}
-
-provider "aws" {
-  region              = "sa-east-1"
-  alias               = "spoke_sa_east_1"
-  allowed_account_ids = [var.aws_account]
-  assume_role { role_arn = local.role_arn }
+provider "aws" {
+  region = "us-west-2"
+  alias  = "us_west_2"
+}
+
+provider "aviatrix" {
+  username      = "admin"
+  password      = data.aws_ssm_parameter.avx-password.value
+  controller_ip = var.controller_ip
+}
+
+locals {
+  role_arn = "arn:aws:iam::${var.aws_account}:role/${var.aws_account_role}"
+}
+
+provider "aws" {
+  region              = "us-east-1"
+  alias               = "spoke_us_east_1"
+  allowed_account_ids = [var.aws_account]
+  assume_role { role_arn = local.role_arn }
+}
+
+provider "aws" {
+  region              = "us-east-2"
+  alias               = "spoke_us_east_2"
+  allowed_account_ids = [var.aws_account]
+  assume_role { role_arn = local.role_arn }
+}
+
+provider "aws" {
+  region              = "us-west-1"
+  alias               = "spoke_us_west_1"
+  allowed_account_ids = [var.aws_account]
+  assume_role { role_arn = local.role_arn }
+}
+
+provider "aws" {
+  region              = "us-west-2"
+  alias               = "spoke_us_west_2"
+  allowed_account_ids = [var.aws_account]
+  assume_role { role_arn = local.role_arn }
+}
+
+provider "aws" {
+  region              = "af-south-1"
+  alias               = "spoke_af_south_1"
+  allowed_account_ids = [var.aws_account]
+  assume_role { role_arn = local.role_arn }
+}
+
+provider "aws" {
+  region              = "ap-east-1"
+  alias               = "spoke_ap_east_1"
+  allowed_account_ids = [var.aws_account]
+  assume_role { role_arn = local.role_arn }
+}
+
+provider "aws" {
+  region              = "ap-south-1"
+  alias               = "spoke_ap_south_1"
+  allowed_account_ids = [var.aws_account]
+  assume_role { role_arn = local.role_arn }
+}
+
+provider "aws" {
+  region              = "ap-northeast-1"
+  alias               = "spoke_ap_northeast_1"
+  allowed_account_ids = [var.aws_account]
+  assume_role { role_arn = local.role_arn }
+}
+
+provider "aws" {
+  region              = "ap-northeast-2"
+  alias               = "spoke_ap_northeast_2"
+  allowed_account_ids = [var.aws_account]
+  assume_role { role_arn = local.role_arn }
+}
+
+provider "aws" {
+  region              = "ap-northeast-3"
+  alias               = "spoke_ap_northeast_3"
+  allowed_account_ids = [var.aws_account]
+  assume_role { role_arn = local.role_arn }
+}
+
+provider "aws" {
+  region              = "ap-southeast-1"
+  alias               = "spoke_ap_southeast_1"
+  allowed_account_ids = [var.aws_account]
+  assume_role { role_arn = local.role_arn }
+}
+
+provider "aws" {
+  region              = "ap-southeast-2"
+  alias               = "spoke_ap_southeast_2"
+  allowed_account_ids = [var.aws_account]
+  assume_role { role_arn = local.role_arn }
+}
+
+provider "aws" {
+  region              = "ca-central-1"
+  alias               = "spoke_ca_central_1"
+  allowed_account_ids = [var.aws_account]
+  assume_role { role_arn = local.role_arn }
+}
+
+provider "aws" {
+  region              = "eu-central-1"
+  alias               = "spoke_eu_central_1"
+  allowed_account_ids = [var.aws_account]
+  assume_role { role_arn = local.role_arn }
+}
+
+provider "aws" {
+  region              = "eu-west-1"
+  alias               = "spoke_eu_west_1"
+  allowed_account_ids = [var.aws_account]
+  assume_role { role_arn = local.role_arn }
+}
+
+provider "aws" {
+  region              = "eu-west-2"
+  alias               = "spoke_eu_west_2"
+  allowed_account_ids = [var.aws_account]
+  assume_role { role_arn = local.role_arn }
+}
+
+provider "aws" {
+  region              = "eu-west-3"
+  alias               = "spoke_eu_west_3"
+  allowed_account_ids = [var.aws_account]
+  assume_role { role_arn = local.role_arn }
+}
+
+provider "aws" {
+  region              = "eu-south-1"
+  alias               = "spoke_eu_south_1"
+  allowed_account_ids = [var.aws_account]
+  assume_role { role_arn = local.role_arn }
+}
+
+provider "aws" {
+  region              = "eu-north-1"
+  alias               = "spoke_eu_north_1"
+  allowed_account_ids = [var.aws_account]
+  assume_role { role_arn = local.role_arn }
+}
+
+provider "aws" {
+  region              = "me-south-1"
+  alias               = "spoke_me_south_1"
+  allowed_account_ids = [var.aws_account]
+  assume_role { role_arn = local.role_arn }
+}
+
+provider "aws" {
+  region              = "sa-east-1"
+  alias               = "spoke_sa_east_1"
+  allowed_account_ids = [var.aws_account]
+  assume_role { role_arn = local.role_arn }
 }
```

## Comparing `aviatrix_migration-0.2.94.data/data/migration/discovery_migration/aws/nameless/module_aws_brownfield_spoke_vpc/main-vpc-name.tf` & `aviatrix_migration-0.2.95.data/data/migration/discovery_migration/aws/nameless/module_aws_brownfield_spoke_vpc/main-vpc-name.tf`

 * *Ordering differences only*

 * *Files 13% similar despite different names*

```diff
@@ -1,148 +1,148 @@
-resource "aws_vpc_ipv4_cidr_block_association" "aviatrix_cidr" {
-  count      = var.tgw_vpc ? 0 : 1
-  vpc_id     = var.vpc_id
-  cidr_block = var.avtx_cidr
-}
-
-resource "aws_internet_gateway" "IGW" {
-  count  = var.igw_id == "" && !var.tgw_vpc ? 1 : 0
-  vpc_id = var.vpc_id
-  tags = {
-    Name = "aviatrix-${var.vpc_name}"
-  }
-}
-
-resource "aws_subnet" "aviatrix_public" {
-  count             = var.hpe || var.tgw_vpc ? 0 : 2
-  vpc_id            = aws_vpc_ipv4_cidr_block_association.aviatrix_cidr[0].vpc_id
-  cidr_block        = cidrsubnet(aws_vpc_ipv4_cidr_block_association.aviatrix_cidr[0].cidr_block, 1, count.index)
-  availability_zone = var.gw_zones[count.index]
-  tags = {
-    Name = count.index == 0 ? "aviatrix-${var.vpc_name}-gw" : "aviatrix-${var.vpc_name}-gw-hagw"
-  }
-}
-
-resource "aws_route_table" "aviatrix_public" {
-  count  = var.hpe || var.tgw_vpc ? 0 : 1
-  vpc_id = var.vpc_id
-  tags = {
-    Name = "aviatrix-${var.vpc_name}-gw"
-  }
-}
-
-resource "aws_route" "aviatrix_default" {
-  count                  = var.hpe || var.tgw_vpc ? 0 : 1
-  route_table_id         = aws_route_table.aviatrix_public[0].id
-  destination_cidr_block = "0.0.0.0/0"
-  gateway_id             = var.igw_id == "" ? aws_internet_gateway.IGW[0].id : var.igw_id
-}
-
-resource "aws_route_table_association" "aviatrix_public" {
-  count          = var.hpe || var.tgw_vpc ? 0 : 2
-  subnet_id      = aws_subnet.aviatrix_public[count.index].id
-  route_table_id = aws_route_table.aviatrix_public[0].id
-}
-
-locals {
-  region = {
-    us-west-2      = "usw2"
-    us-west-1      = "usw1"
-    us-east-1      = "use1"
-    us-east-2      = "use2"
-    eu-west-1      = "euw1"
-    eu-central-1   = "euc1"
-    ap-southeast-1 = "apse1"
-    ap-northeast-1 = "apne1"
-    cn-north-1     = "cnn1"
-    cn-northwest-1 = "cnnw1"
-  }
-}
-
-resource "aviatrix_spoke_gateway" "gw" {
-  count                             = var.tgw_vpc ? 0 : 1
-  cloud_type                        = 1
-  account_name                      = var.account_name
-  gw_name                           = "aws-${local.region[var.region]}-${join("", formatlist("%02x", split(".", split("/", var.avtx_cidr)[0])))}-gw"
-  vpc_id                            = var.vpc_id
-  vpc_reg                           = var.region
-  insane_mode                       = var.hpe
-  gw_size                           = var.avtx_gw_size
-  ha_gw_size                        = var.avtx_gw_size
-  subnet                            = cidrsubnet(aws_vpc_ipv4_cidr_block_association.aviatrix_cidr[0].cidr_block, 1, 0)
-  ha_subnet                         = cidrsubnet(aws_vpc_ipv4_cidr_block_association.aviatrix_cidr[0].cidr_block, 1, 1)
-  insane_mode_az                    = var.hpe ? var.gw_zones[0] : null
-  ha_insane_mode_az                 = var.hpe ? var.gw_zones[1] : null
-  included_advertised_spoke_routes  = var.switch_traffic ? join(",", concat(var.vpc_cidr, [var.avtx_cidr])) : var.avtx_cidr
-  manage_transit_gateway_attachment = false
-  enable_active_mesh                = true
-  single_az_ha                      = true
-  tags = {
-    "cis.asm.vm.riskException" = "RK0026082"
-  }
-  depends_on = [aws_route.aviatrix_default, aws_route_table_association.aviatrix_public, aws_route.pre_migration]
-}
-
-resource "aviatrix_spoke_transit_attachment" "attachment" {
-  count           = var.tgw_vpc ? 0 : 1
-  spoke_gw_name   = aviatrix_spoke_gateway.gw[0].gw_name
-  transit_gw_name = "aws-${local.region[var.region]}-transit-gw"
-  route_tables    = [for k, v in var.route_tables : aws_route_table.aviatrix_managed[k].id]
-}
-
-resource "aviatrix_aws_tgw_vpc_attachment" "tgw_attach" {
-  count                           = var.tgw_vpc ? 1 : 0
-  tgw_name                        = "${var.region}-tgw"
-  vpc_account_name                = var.account_name
-  region                          = var.region
-  security_domain_name            = "Default_Domain"
-  vpc_id                          = var.vpc_id
-  customized_route_advertisement  = var.switch_traffic ? join(",", var.vpc_cidr) : ""
-  disable_local_route_propagation = true
-}
-
-resource "aws_route_table" "aviatrix_managed" {
-  for_each = var.route_tables
-  vpc_id   = var.vpc_id
-  tags     = merge(each.value.tags, { Org_RT = each.key })
-}
-
-
-resource "aws_route" "pre_migration" {
-  for_each = {
-    for route in local.routes : "${route.destination}.${route.key}" => route
-    if substr(route["target"], 0, 5) != "vpce-"
-  }
-  route_table_id            = aws_route_table.aviatrix_managed[each.value.key].id
-  destination_cidr_block    = each.value.destination
-  gateway_id                = split("-", each.value.target)[0] == "igw" ? each.value.target : null
-  instance_id               = split("-", each.value.target)[0] == "i" ? each.value.target : null
-  nat_gateway_id            = split("-", each.value.target)[0] == "nat" ? each.value.target : null
-  local_gateway_id          = split("-", each.value.target)[0] == "Igw" ? each.value.target : null # outpost gateway
-  network_interface_id      = split("-", each.value.target)[0] == "eni" ? each.value.target : null
-  vpc_peering_connection_id = split("-", each.value.target)[0] == "pcx" ? each.value.target : null
-
-  # VPC gateway endpoints routes can't be added here, endpoint manages RTs
-
-}
-
-resource "null_resource" "vpce_route" {
-  for_each = {
-    for route in local.routes : "${route.destination}.${route.key}" => route
-    if substr(route["target"], 0, 5) == "vpce-"
-  }
-  provisioner "local-exec" {
-    command = "python3 -m dm.add_vpce_route ${var.region} ${var.role_arn} ${each.value["target"]} ${aws_route_table.aviatrix_managed[each.value.key].id}"
-  }
-}
-
-locals {
-  routes = flatten([
-    for rt_key, rt_val in var.route_tables : [
-      for route in rt_val.routes : {
-        key         = rt_key
-        destination = route.destination
-        target      = route.target
-      }
-    ]
-  ])
-}
+resource "aws_vpc_ipv4_cidr_block_association" "aviatrix_cidr" {
+  count      = var.tgw_vpc ? 0 : 1
+  vpc_id     = var.vpc_id
+  cidr_block = var.avtx_cidr
+}
+
+resource "aws_internet_gateway" "IGW" {
+  count  = var.igw_id == "" && !var.tgw_vpc ? 1 : 0
+  vpc_id = var.vpc_id
+  tags = {
+    Name = "aviatrix-${var.vpc_name}"
+  }
+}
+
+resource "aws_subnet" "aviatrix_public" {
+  count             = var.hpe || var.tgw_vpc ? 0 : 2
+  vpc_id            = aws_vpc_ipv4_cidr_block_association.aviatrix_cidr[0].vpc_id
+  cidr_block        = cidrsubnet(aws_vpc_ipv4_cidr_block_association.aviatrix_cidr[0].cidr_block, 1, count.index)
+  availability_zone = var.gw_zones[count.index]
+  tags = {
+    Name = count.index == 0 ? "aviatrix-${var.vpc_name}-gw" : "aviatrix-${var.vpc_name}-gw-hagw"
+  }
+}
+
+resource "aws_route_table" "aviatrix_public" {
+  count  = var.hpe || var.tgw_vpc ? 0 : 1
+  vpc_id = var.vpc_id
+  tags = {
+    Name = "aviatrix-${var.vpc_name}-gw"
+  }
+}
+
+resource "aws_route" "aviatrix_default" {
+  count                  = var.hpe || var.tgw_vpc ? 0 : 1
+  route_table_id         = aws_route_table.aviatrix_public[0].id
+  destination_cidr_block = "0.0.0.0/0"
+  gateway_id             = var.igw_id == "" ? aws_internet_gateway.IGW[0].id : var.igw_id
+}
+
+resource "aws_route_table_association" "aviatrix_public" {
+  count          = var.hpe || var.tgw_vpc ? 0 : 2
+  subnet_id      = aws_subnet.aviatrix_public[count.index].id
+  route_table_id = aws_route_table.aviatrix_public[0].id
+}
+
+locals {
+  region = {
+    us-west-2      = "usw2"
+    us-west-1      = "usw1"
+    us-east-1      = "use1"
+    us-east-2      = "use2"
+    eu-west-1      = "euw1"
+    eu-central-1   = "euc1"
+    ap-southeast-1 = "apse1"
+    ap-northeast-1 = "apne1"
+    cn-north-1     = "cnn1"
+    cn-northwest-1 = "cnnw1"
+  }
+}
+
+resource "aviatrix_spoke_gateway" "gw" {
+  count                             = var.tgw_vpc ? 0 : 1
+  cloud_type                        = 1
+  account_name                      = var.account_name
+  gw_name                           = "aws-${local.region[var.region]}-${join("", formatlist("%02x", split(".", split("/", var.avtx_cidr)[0])))}-gw"
+  vpc_id                            = var.vpc_id
+  vpc_reg                           = var.region
+  insane_mode                       = var.hpe
+  gw_size                           = var.avtx_gw_size
+  ha_gw_size                        = var.avtx_gw_size
+  subnet                            = cidrsubnet(aws_vpc_ipv4_cidr_block_association.aviatrix_cidr[0].cidr_block, 1, 0)
+  ha_subnet                         = cidrsubnet(aws_vpc_ipv4_cidr_block_association.aviatrix_cidr[0].cidr_block, 1, 1)
+  insane_mode_az                    = var.hpe ? var.gw_zones[0] : null
+  ha_insane_mode_az                 = var.hpe ? var.gw_zones[1] : null
+  included_advertised_spoke_routes  = var.switch_traffic ? join(",", concat(var.vpc_cidr, [var.avtx_cidr])) : var.avtx_cidr
+  manage_transit_gateway_attachment = false
+  enable_active_mesh                = true
+  single_az_ha                      = true
+  tags = {
+    "cis.asm.vm.riskException" = "RK0026082"
+  }
+  depends_on = [aws_route.aviatrix_default, aws_route_table_association.aviatrix_public, aws_route.pre_migration]
+}
+
+resource "aviatrix_spoke_transit_attachment" "attachment" {
+  count           = var.tgw_vpc ? 0 : 1
+  spoke_gw_name   = aviatrix_spoke_gateway.gw[0].gw_name
+  transit_gw_name = "aws-${local.region[var.region]}-transit-gw"
+  route_tables    = [for k, v in var.route_tables : aws_route_table.aviatrix_managed[k].id]
+}
+
+resource "aviatrix_aws_tgw_vpc_attachment" "tgw_attach" {
+  count                           = var.tgw_vpc ? 1 : 0
+  tgw_name                        = "${var.region}-tgw"
+  vpc_account_name                = var.account_name
+  region                          = var.region
+  security_domain_name            = "Default_Domain"
+  vpc_id                          = var.vpc_id
+  customized_route_advertisement  = var.switch_traffic ? join(",", var.vpc_cidr) : ""
+  disable_local_route_propagation = true
+}
+
+resource "aws_route_table" "aviatrix_managed" {
+  for_each = var.route_tables
+  vpc_id   = var.vpc_id
+  tags     = merge(each.value.tags, { Org_RT = each.key })
+}
+
+
+resource "aws_route" "pre_migration" {
+  for_each = {
+    for route in local.routes : "${route.destination}.${route.key}" => route
+    if substr(route["target"], 0, 5) != "vpce-"
+  }
+  route_table_id            = aws_route_table.aviatrix_managed[each.value.key].id
+  destination_cidr_block    = each.value.destination
+  gateway_id                = split("-", each.value.target)[0] == "igw" ? each.value.target : null
+  instance_id               = split("-", each.value.target)[0] == "i" ? each.value.target : null
+  nat_gateway_id            = split("-", each.value.target)[0] == "nat" ? each.value.target : null
+  local_gateway_id          = split("-", each.value.target)[0] == "Igw" ? each.value.target : null # outpost gateway
+  network_interface_id      = split("-", each.value.target)[0] == "eni" ? each.value.target : null
+  vpc_peering_connection_id = split("-", each.value.target)[0] == "pcx" ? each.value.target : null
+
+  # VPC gateway endpoints routes can't be added here, endpoint manages RTs
+
+}
+
+resource "null_resource" "vpce_route" {
+  for_each = {
+    for route in local.routes : "${route.destination}.${route.key}" => route
+    if substr(route["target"], 0, 5) == "vpce-"
+  }
+  provisioner "local-exec" {
+    command = "python3 -m dm.add_vpce_route ${var.region} ${var.role_arn} ${each.value["target"]} ${aws_route_table.aviatrix_managed[each.value.key].id}"
+  }
+}
+
+locals {
+  routes = flatten([
+    for rt_key, rt_val in var.route_tables : [
+      for route in rt_val.routes : {
+        key         = rt_key
+        destination = route.destination
+        target      = route.target
+      }
+    ]
+  ])
+}
```

## Comparing `aviatrix_migration-0.2.94.data/data/migration/discovery_migration/aws/nameless/module_aws_brownfield_spoke_vpc/main.tf` & `aviatrix_migration-0.2.95.data/data/migration/discovery_migration/vpc_template/module_aws_brownfield_spoke_vpc/main-hex-cidr.tf`

 * *Files 21% similar despite different names*

```diff
@@ -1,353 +1,362 @@
-00000000: 0d0a 7265 736f 7572 6365 2022 6177 735f  ..resource "aws_
-00000010: 7670 635f 6970 7634 5f63 6964 725f 626c  vpc_ipv4_cidr_bl
-00000020: 6f63 6b5f 6173 736f 6369 6174 696f 6e22  ock_association"
-00000030: 2022 6176 6961 7472 6978 5f63 6964 7222   "aviatrix_cidr"
-00000040: 207b 0d0a 2020 636f 756e 7420 2020 2020   {..  count     
-00000050: 203d 2076 6172 2e74 6777 5f76 7063 203f   = var.tgw_vpc ?
-00000060: 2030 203a 2031 0d0a 2020 7670 635f 6964   0 : 1..  vpc_id
-00000070: 2020 2020 203d 2076 6172 2e76 7063 5f69       = var.vpc_i
-00000080: 640d 0a20 2063 6964 725f 626c 6f63 6b20  d..  cidr_block 
-00000090: 3d20 7661 722e 6176 7478 5f63 6964 720d  = var.avtx_cidr.
-000000a0: 0a7d 0d0a 0d0a 7265 736f 7572 6365 2022  .}....resource "
-000000b0: 6177 735f 696e 7465 726e 6574 5f67 6174  aws_internet_gat
-000000c0: 6577 6179 2220 2249 4757 2220 7b0d 0a20  eway" "IGW" {.. 
-000000d0: 2063 6f75 6e74 2020 3d20 7661 722e 6967   count  = var.ig
-000000e0: 775f 6964 203d 3d20 2222 2026 2620 2120  w_id == "" && ! 
-000000f0: 7661 722e 7467 775f 7670 6320 3f20 3120  var.tgw_vpc ? 1 
-00000100: 3a20 300d 0a20 2076 7063 5f69 6420 3d20  : 0..  vpc_id = 
-00000110: 7661 722e 7670 635f 6964 0d0a 2020 7461  var.vpc_id..  ta
-00000120: 6773 203d 207b 0d0a 2020 2020 4e61 6d65  gs = {..    Name
-00000130: 203d 2022 6176 6961 7472 6978 2d24 7b76   = "aviatrix-${v
-00000140: 6172 2e76 7063 5f6e 616d 657d 220d 0a20  ar.vpc_name}".. 
-00000150: 207d 0d0a 7d0d 0a0d 0a72 6573 6f75 7263   }..}....resourc
-00000160: 6520 2261 7773 5f73 7562 6e65 7422 2022  e "aws_subnet" "
-00000170: 6176 6961 7472 6978 5f70 7562 6c69 6322  aviatrix_public"
-00000180: 207b 0d0a 2020 636f 756e 7420 2020 2020   {..  count     
-00000190: 2020 2020 2020 2020 3d20 7661 722e 6870          = var.hp
-000001a0: 6520 7c7c 2076 6172 2e74 6777 5f76 7063  e || var.tgw_vpc
-000001b0: 203f 2030 203a 2032 0d0a 2020 7670 635f   ? 0 : 2..  vpc_
-000001c0: 6964 2020 2020 2020 2020 2020 2020 3d20  id            = 
-000001d0: 6177 735f 7670 635f 6970 7634 5f63 6964  aws_vpc_ipv4_cid
-000001e0: 725f 626c 6f63 6b5f 6173 736f 6369 6174  r_block_associat
-000001f0: 696f 6e2e 6176 6961 7472 6978 5f63 6964  ion.aviatrix_cid
-00000200: 725b 305d 2e76 7063 5f69 640d 0a20 2063  r[0].vpc_id..  c
-00000210: 6964 725f 626c 6f63 6b20 2020 2020 2020  idr_block       
-00000220: 203d 2063 6964 7273 7562 6e65 7428 6177   = cidrsubnet(aw
-00000230: 735f 7670 635f 6970 7634 5f63 6964 725f  s_vpc_ipv4_cidr_
-00000240: 626c 6f63 6b5f 6173 736f 6369 6174 696f  block_associatio
-00000250: 6e2e 6176 6961 7472 6978 5f63 6964 725b  n.aviatrix_cidr[
-00000260: 305d 2e63 6964 725f 626c 6f63 6b2c 2031  0].cidr_block, 1
-00000270: 2c20 636f 756e 742e 696e 6465 7829 0d0a  , count.index)..
-00000280: 2020 6176 6169 6c61 6269 6c69 7479 5f7a    availability_z
-00000290: 6f6e 6520 3d20 7661 722e 6777 5f7a 6f6e  one = var.gw_zon
-000002a0: 6573 5b63 6f75 6e74 2e69 6e64 6578 5d0d  es[count.index].
-000002b0: 0a20 2074 6167 7320 3d20 7b0d 0a20 2020  .  tags = {..   
-000002c0: 204e 616d 6520 3d20 636f 756e 742e 696e   Name = count.in
-000002d0: 6465 7820 3d3d 2030 203f 2022 6176 6961  dex == 0 ? "avia
-000002e0: 7472 6978 2d24 7b76 6172 2e76 7063 5f6e  trix-${var.vpc_n
-000002f0: 616d 657d 2d67 7722 203a 2022 6176 6961  ame}-gw" : "avia
-00000300: 7472 6978 2d24 7b76 6172 2e76 7063 5f6e  trix-${var.vpc_n
-00000310: 616d 657d 2d67 772d 6861 6777 220d 0a20  ame}-gw-hagw".. 
-00000320: 207d 0d0a 7d0d 0a0d 0a72 6573 6f75 7263   }..}....resourc
-00000330: 6520 2261 7773 5f72 6f75 7465 5f74 6162  e "aws_route_tab
-00000340: 6c65 2220 2261 7669 6174 7269 785f 7075  le" "aviatrix_pu
-00000350: 626c 6963 2220 7b0d 0a20 2063 6f75 6e74  blic" {..  count
-00000360: 2020 3d20 7661 722e 6870 6520 7c7c 2076    = var.hpe || v
-00000370: 6172 2e74 6777 5f76 7063 203f 2030 203a  ar.tgw_vpc ? 0 :
-00000380: 2031 0d0a 2020 7670 635f 6964 203d 2076   1..  vpc_id = v
-00000390: 6172 2e76 7063 5f69 640d 0a20 2074 6167  ar.vpc_id..  tag
-000003a0: 7320 3d20 7b0d 0a20 2020 204e 616d 6520  s = {..    Name 
-000003b0: 3d20 2261 7669 6174 7269 782d 247b 7661  = "aviatrix-${va
-000003c0: 722e 7670 635f 6e61 6d65 7d2d 6777 220d  r.vpc_name}-gw".
-000003d0: 0a20 207d 0d0a 7d0d 0a0d 0a72 6573 6f75  .  }..}....resou
-000003e0: 7263 6520 2261 7773 5f72 6f75 7465 2220  rce "aws_route" 
-000003f0: 2261 7669 6174 7269 785f 6465 6661 756c  "aviatrix_defaul
-00000400: 7422 207b 0d0a 2020 636f 756e 7420 2020  t" {..  count   
-00000410: 2020 2020 2020 2020 2020 2020 2020 203d                 =
-00000420: 2076 6172 2e68 7065 207c 7c20 7661 722e   var.hpe || var.
-00000430: 7467 775f 7670 6320 3f20 3020 3a20 310d  tgw_vpc ? 0 : 1.
-00000440: 0a20 2072 6f75 7465 5f74 6162 6c65 5f69  .  route_table_i
-00000450: 6420 2020 2020 2020 2020 3d20 6177 735f  d         = aws_
-00000460: 726f 7574 655f 7461 626c 652e 6176 6961  route_table.avia
-00000470: 7472 6978 5f70 7562 6c69 635b 305d 2e69  trix_public[0].i
-00000480: 640d 0a20 2064 6573 7469 6e61 7469 6f6e  d..  destination
-00000490: 5f63 6964 725f 626c 6f63 6b20 3d20 2230  _cidr_block = "0
-000004a0: 2e30 2e30 2e30 2f30 220d 0a20 2067 6174  .0.0.0/0"..  gat
-000004b0: 6577 6179 5f69 6420 2020 2020 2020 2020  eway_id         
-000004c0: 2020 2020 3d20 7661 722e 6967 775f 6964      = var.igw_id
-000004d0: 203d 3d20 2222 203f 2061 7773 5f69 6e74   == "" ? aws_int
-000004e0: 6572 6e65 745f 6761 7465 7761 792e 4947  ernet_gateway.IG
-000004f0: 575b 305d 2e69 6420 3a20 7661 722e 6967  W[0].id : var.ig
-00000500: 775f 6964 0d0a 7d0d 0a0d 0a72 6573 6f75  w_id..}....resou
-00000510: 7263 6520 2261 7773 5f72 6f75 7465 5f74  rce "aws_route_t
-00000520: 6162 6c65 5f61 7373 6f63 6961 7469 6f6e  able_association
-00000530: 2220 2261 7669 6174 7269 785f 7075 626c  " "aviatrix_publ
-00000540: 6963 2220 7b0d 0a20 2063 6f75 6e74 2020  ic" {..  count  
-00000550: 2020 2020 2020 2020 3d20 7661 722e 6870          = var.hp
-00000560: 6520 7c7c 2076 6172 2e74 6777 5f76 7063  e || var.tgw_vpc
-00000570: 203f 2030 203a 2032 0d0a 2020 7375 626e   ? 0 : 2..  subn
-00000580: 6574 5f69 6420 2020 2020 203d 2061 7773  et_id      = aws
-00000590: 5f73 7562 6e65 742e 6176 6961 7472 6978  _subnet.aviatrix
-000005a0: 5f70 7562 6c69 635b 636f 756e 742e 696e  _public[count.in
-000005b0: 6465 785d 2e69 640d 0a20 2072 6f75 7465  dex].id..  route
-000005c0: 5f74 6162 6c65 5f69 6420 3d20 6177 735f  _table_id = aws_
-000005d0: 726f 7574 655f 7461 626c 652e 6176 6961  route_table.avia
-000005e0: 7472 6978 5f70 7562 6c69 635b 305d 2e69  trix_public[0].i
-000005f0: 640d 0a7d 0d0a 0d0a 7265 736f 7572 6365  d..}....resource
-00000600: 2022 6176 6961 7472 6978 5f73 706f 6b65   "aviatrix_spoke
-00000610: 5f67 6174 6577 6179 2220 2267 7722 207b  _gateway" "gw" {
-00000620: 0d0a 2020 636f 756e 7420 2020 2020 2020  ..  count       
-00000630: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00000640: 2020 2020 2020 3d20 7661 722e 7467 775f        = var.tgw_
-00000650: 7670 6320 3f20 3020 3a20 310d 0a20 2063  vpc ? 0 : 1..  c
-00000660: 6c6f 7564 5f74 7970 6520 2020 2020 2020  loud_type       
-00000670: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00000680: 203d 2031 0d0a 2020 6163 636f 756e 745f   = 1..  account_
-00000690: 6e61 6d65 2020 2020 2020 2020 2020 2020  name            
-000006a0: 2020 2020 2020 2020 2020 3d20 7661 722e            = var.
-000006b0: 6163 636f 756e 745f 6e61 6d65 0d0a 2020  account_name..  
-000006c0: 6777 5f6e 616d 6520 2020 2020 2020 2020  gw_name         
-000006d0: 2020 2020 2020 2020 2020 2020 2020 2020                  
-000006e0: 2020 3d20 7661 722e 6777 5f6e 616d 655f    = var.gw_name_
-000006f0: 7375 6666 6978 203d 3d20 2222 203f 2022  suffix == "" ? "
-00000700: 247b 7661 722e 7670 635f 6e61 6d65 7d2d  ${var.vpc_name}-
-00000710: 247b 7472 696d 7072 6566 6978 2876 6172  ${trimprefix(var
-00000720: 2e61 6363 6f75 6e74 5f6e 616d 652c 2022  .account_name, "
-00000730: 6177 732d 2229 7d2d 6777 2220 3a20 2224  aws-")}-gw" : "$
-00000740: 7b76 6172 2e76 7063 5f6e 616d 657d 2d24  {var.vpc_name}-$
-00000750: 7b74 7269 6d70 7265 6669 7828 7661 722e  {trimprefix(var.
-00000760: 6163 636f 756e 745f 6e61 6d65 2c20 2261  account_name, "a
-00000770: 7773 2d22 297d 2d24 7b76 6172 2e67 775f  ws-")}-${var.gw_
-00000780: 6e61 6d65 5f73 7566 6669 787d 2d67 7722  name_suffix}-gw"
-00000790: 0d0a 2020 7670 635f 6964 2020 2020 2020  ..  vpc_id      
-000007a0: 2020 2020 2020 2020 2020 2020 2020 2020                  
-000007b0: 2020 2020 2020 3d20 7661 722e 7670 635f        = var.vpc_
-000007c0: 6964 0d0a 2020 7670 635f 7265 6720 2020  id..  vpc_reg   
-000007d0: 2020 2020 2020 2020 2020 2020 2020 2020                  
-000007e0: 2020 2020 2020 2020 3d20 7661 722e 7265          = var.re
-000007f0: 6769 6f6e 0d0a 2020 696e 7361 6e65 5f6d  gion..  insane_m
-00000800: 6f64 6520 2020 2020 2020 2020 2020 2020  ode             
-00000810: 2020 2020 2020 2020 2020 3d20 7661 722e            = var.
-00000820: 6870 650d 0a20 2067 775f 7369 7a65 2020  hpe..  gw_size  
-00000830: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00000840: 2020 2020 2020 2020 203d 2076 6172 2e61           = var.a
-00000850: 7674 785f 6777 5f73 697a 650d 0a20 2068  vtx_gw_size..  h
-00000860: 615f 6777 5f73 697a 6520 2020 2020 2020  a_gw_size       
-00000870: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00000880: 203d 2076 6172 2e61 7674 785f 6777 5f73   = var.avtx_gw_s
-00000890: 697a 650d 0a20 2073 7562 6e65 7420 2020  ize..  subnet   
-000008a0: 2020 2020 2020 2020 2020 2020 2020 2020                  
-000008b0: 2020 2020 2020 2020 203d 2063 6964 7273           = cidrs
-000008c0: 7562 6e65 7428 6177 735f 7670 635f 6970  ubnet(aws_vpc_ip
-000008d0: 7634 5f63 6964 725f 626c 6f63 6b5f 6173  v4_cidr_block_as
-000008e0: 736f 6369 6174 696f 6e2e 6176 6961 7472  sociation.aviatr
-000008f0: 6978 5f63 6964 725b 305d 2e63 6964 725f  ix_cidr[0].cidr_
-00000900: 626c 6f63 6b2c 2031 2c20 3029 0d0a 2020  block, 1, 0)..  
-00000910: 6861 5f73 7562 6e65 7420 2020 2020 2020  ha_subnet       
-00000920: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00000930: 2020 3d20 6369 6472 7375 626e 6574 2861    = cidrsubnet(a
-00000940: 7773 5f76 7063 5f69 7076 345f 6369 6472  ws_vpc_ipv4_cidr
-00000950: 5f62 6c6f 636b 5f61 7373 6f63 6961 7469  _block_associati
-00000960: 6f6e 2e61 7669 6174 7269 785f 6369 6472  on.aviatrix_cidr
-00000970: 5b30 5d2e 6369 6472 5f62 6c6f 636b 2c20  [0].cidr_block, 
-00000980: 312c 2031 290d 0a20 2069 6e73 616e 655f  1, 1)..  insane_
-00000990: 6d6f 6465 5f61 7a20 2020 2020 2020 2020  mode_az         
-000009a0: 2020 2020 2020 2020 2020 203d 2076 6172             = var
-000009b0: 2e68 7065 203f 2076 6172 2e67 775f 7a6f  .hpe ? var.gw_zo
-000009c0: 6e65 735b 305d 203a 206e 756c 6c0d 0a20  nes[0] : null.. 
-000009d0: 2068 615f 696e 7361 6e65 5f6d 6f64 655f   ha_insane_mode_
-000009e0: 617a 2020 2020 2020 2020 2020 2020 2020  az              
-000009f0: 2020 203d 2076 6172 2e68 7065 203f 2076     = var.hpe ? v
-00000a00: 6172 2e67 775f 7a6f 6e65 735b 315d 203a  ar.gw_zones[1] :
-00000a10: 206e 756c 6c0d 0a20 2069 6e63 6c75 6465   null..  include
-00000a20: 645f 6164 7665 7274 6973 6564 5f73 706f  d_advertised_spo
-00000a30: 6b65 5f72 6f75 7465 7320 203d 2076 6172  ke_routes  = var
-00000a40: 2e73 7769 7463 685f 7472 6166 6669 6320  .switch_traffic 
-00000a50: 3f20 6a6f 696e 2822 2c22 2c20 636f 6e63  ? join(",", conc
-00000a60: 6174 2876 6172 2e76 7063 5f63 6964 722c  at(var.vpc_cidr,
-00000a70: 205b 7661 722e 6176 7478 5f63 6964 725d   [var.avtx_cidr]
-00000a80: 2929 203a 2076 6172 2e61 7674 785f 6369  )) : var.avtx_ci
-00000a90: 6472 0d0a 2020 6d61 6e61 6765 5f74 7261  dr..  manage_tra
-00000aa0: 6e73 6974 5f67 6174 6577 6179 5f61 7474  nsit_gateway_att
-00000ab0: 6163 686d 656e 7420 3d20 6661 6c73 650d  achment = false.
-00000ac0: 0a20 2065 6e61 626c 655f 6163 7469 7665  .  enable_active
-00000ad0: 5f6d 6573 6820 2020 2020 2020 2020 2020  _mesh           
-00000ae0: 2020 2020 203d 2074 7275 650d 0a20 2073       = true..  s
-00000af0: 696e 676c 655f 617a 5f68 6120 2020 2020  ingle_az_ha     
-00000b00: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00000b10: 203d 2074 7275 650d 0a20 2064 6570 656e   = true..  depen
-00000b20: 6473 5f6f 6e20 2020 2020 2020 2020 2020  ds_on           
-00000b30: 2020 2020 2020 2020 2020 2020 203d 205b               = [
-00000b40: 6177 735f 726f 7574 652e 6176 6961 7472  aws_route.aviatr
-00000b50: 6978 5f64 6566 6175 6c74 2c20 6177 735f  ix_default, aws_
-00000b60: 726f 7574 655f 7461 626c 655f 6173 736f  route_table_asso
-00000b70: 6369 6174 696f 6e2e 6176 6961 7472 6978  ciation.aviatrix
-00000b80: 5f70 7562 6c69 632c 2061 7773 5f72 6f75  _public, aws_rou
-00000b90: 7465 2e70 7265 5f6d 6967 7261 7469 6f6e  te.pre_migration
-00000ba0: 5d0d 0a7d 0d0a 0d0a 7265 736f 7572 6365  ]..}....resource
-00000bb0: 2022 6176 6961 7472 6978 5f73 706f 6b65   "aviatrix_spoke
-00000bc0: 5f74 7261 6e73 6974 5f61 7474 6163 686d  _transit_attachm
-00000bd0: 656e 7422 2022 6174 7461 6368 6d65 6e74  ent" "attachment
-00000be0: 2220 7b0d 0a20 2063 6f75 6e74 2020 2020  " {..  count    
-00000bf0: 2020 2020 2020 203d 2076 6172 2e74 6777         = var.tgw
-00000c00: 5f76 7063 203f 2030 203a 2031 0d0a 2020  _vpc ? 0 : 1..  
-00000c10: 7370 6f6b 655f 6777 5f6e 616d 6520 2020  spoke_gw_name   
-00000c20: 3d20 6176 6961 7472 6978 5f73 706f 6b65  = aviatrix_spoke
-00000c30: 5f67 6174 6577 6179 2e67 775b 305d 2e67  _gateway.gw[0].g
-00000c40: 775f 6e61 6d65 0d0a 2020 7472 616e 7369  w_name..  transi
-00000c50: 745f 6777 5f6e 616d 6520 3d20 2261 7773  t_gw_name = "aws
-00000c60: 2d24 7b76 6172 2e72 6567 696f 6e7d 2d74  -${var.region}-t
-00000c70: 7261 6e73 6974 2d67 7722 0d0a 2020 726f  ransit-gw"..  ro
-00000c80: 7574 655f 7461 626c 6573 2020 2020 3d20  ute_tables    = 
-00000c90: 5b66 6f72 206b 2c20 7620 696e 2076 6172  [for k, v in var
-00000ca0: 2e72 6f75 7465 5f74 6162 6c65 7320 3a20  .route_tables : 
-00000cb0: 6177 735f 726f 7574 655f 7461 626c 652e  aws_route_table.
-00000cc0: 6176 6961 7472 6978 5f6d 616e 6167 6564  aviatrix_managed
-00000cd0: 5b6b 5d2e 6964 5d0d 0a7d 0d0a 0d0a 7265  [k].id]..}....re
-00000ce0: 736f 7572 6365 2022 6176 6961 7472 6978  source "aviatrix
-00000cf0: 5f61 7773 5f74 6777 5f76 7063 5f61 7474  _aws_tgw_vpc_att
-00000d00: 6163 686d 656e 7422 2022 7467 775f 6174  achment" "tgw_at
-00000d10: 7461 6368 2220 7b0d 0a20 2063 6f75 6e74  tach" {..  count
-00000d20: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00000d30: 2020 2020 2020 2020 2020 203d 2076 6172             = var
-00000d40: 2e74 6777 5f76 7063 203f 2031 203a 2030  .tgw_vpc ? 1 : 0
-00000d50: 0d0a 2020 7467 775f 6e61 6d65 2020 2020  ..  tgw_name    
-00000d60: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00000d70: 2020 2020 3d20 2224 7b76 6172 2e72 6567      = "${var.reg
-00000d80: 696f 6e7d 2d74 6777 220d 0a20 2076 7063  ion}-tgw"..  vpc
-00000d90: 5f61 6363 6f75 6e74 5f6e 616d 6520 2020  _account_name   
-00000da0: 2020 2020 2020 2020 2020 2020 203d 2076               = v
-00000db0: 6172 2e61 6363 6f75 6e74 5f6e 616d 650d  ar.account_name.
-00000dc0: 0a20 2072 6567 696f 6e20 2020 2020 2020  .  region       
-00000dd0: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00000de0: 2020 203d 2076 6172 2e72 6567 696f 6e0d     = var.region.
-00000df0: 0a20 2073 6563 7572 6974 795f 646f 6d61  .  security_doma
-00000e00: 696e 5f6e 616d 6520 2020 2020 2020 2020  in_name         
-00000e10: 2020 203d 2022 4465 6661 756c 745f 446f     = "Default_Do
-00000e20: 6d61 696e 220d 0a20 2076 7063 5f69 6420  main"..  vpc_id 
-00000e30: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00000e40: 2020 2020 2020 2020 203d 2076 6172 2e76           = var.v
-00000e50: 7063 5f69 640d 0a20 2063 7573 746f 6d69  pc_id..  customi
-00000e60: 7a65 645f 726f 7574 655f 6164 7665 7274  zed_route_advert
-00000e70: 6973 656d 656e 7420 203d 2076 6172 2e73  isement  = var.s
-00000e80: 7769 7463 685f 7472 6166 6669 6320 3f20  witch_traffic ? 
-00000e90: 6a6f 696e 2822 2c22 2c20 7661 722e 7670  join(",", var.vp
-00000ea0: 635f 6369 6472 2920 3a20 2222 0d0a 2020  c_cidr) : ""..  
-00000eb0: 6469 7361 626c 655f 6c6f 6361 6c5f 726f  disable_local_ro
-00000ec0: 7574 655f 7072 6f70 6167 6174 696f 6e20  ute_propagation 
-00000ed0: 3d20 7472 7565 0d0a 7d0d 0a0d 0a72 6573  = true..}....res
-00000ee0: 6f75 7263 6520 2261 7773 5f72 6f75 7465  ource "aws_route
-00000ef0: 5f74 6162 6c65 2220 2261 7669 6174 7269  _table" "aviatri
-00000f00: 785f 6d61 6e61 6765 6422 207b 0d0a 2020  x_managed" {..  
-00000f10: 666f 725f 6561 6368 203d 2076 6172 2e72  for_each = var.r
-00000f20: 6f75 7465 5f74 6162 6c65 730d 0a20 2076  oute_tables..  v
-00000f30: 7063 5f69 6420 2020 3d20 7661 722e 7670  pc_id   = var.vp
-00000f40: 635f 6964 0d0a 2020 7461 6773 2020 2020  c_id..  tags    
-00000f50: 203d 206d 6572 6765 2865 6163 682e 7661   = merge(each.va
-00000f60: 6c75 652e 7461 6773 2c20 7b20 4f72 675f  lue.tags, { Org_
-00000f70: 5254 203d 2065 6163 682e 6b65 7920 7d29  RT = each.key })
-00000f80: 0d0a 7d0d 0a0d 0a0d 0a72 6573 6f75 7263  ..}......resourc
-00000f90: 6520 2261 7773 5f72 6f75 7465 2220 2270  e "aws_route" "p
-00000fa0: 7265 5f6d 6967 7261 7469 6f6e 2220 7b0d  re_migration" {.
-00000fb0: 0a20 2066 6f72 5f65 6163 6820 3d20 7b0d  .  for_each = {.
-00000fc0: 0a20 2020 2066 6f72 2072 6f75 7465 2069  .    for route i
-00000fd0: 6e20 6c6f 6361 6c2e 726f 7574 6573 203a  n local.routes :
-00000fe0: 2022 247b 726f 7574 652e 6465 7374 696e   "${route.destin
-00000ff0: 6174 696f 6e7d 2e24 7b72 6f75 7465 2e6b  ation}.${route.k
-00001000: 6579 7d22 203d 3e20 726f 7574 650d 0a20  ey}" => route.. 
-00001010: 2020 2069 6620 7375 6273 7472 2872 6f75     if substr(rou
-00001020: 7465 5b22 7461 7267 6574 225d 2c20 302c  te["target"], 0,
-00001030: 2035 2920 213d 2022 7670 6365 2d22 0d0a   5) != "vpce-"..
-00001040: 2020 7d0d 0a20 2072 6f75 7465 5f74 6162    }..  route_tab
-00001050: 6c65 5f69 6420 2020 2020 2020 2020 2020  le_id           
-00001060: 203d 2061 7773 5f72 6f75 7465 5f74 6162   = aws_route_tab
-00001070: 6c65 2e61 7669 6174 7269 785f 6d61 6e61  le.aviatrix_mana
-00001080: 6765 645b 6561 6368 2e76 616c 7565 2e6b  ged[each.value.k
-00001090: 6579 5d2e 6964 0d0a 2020 6465 7374 696e  ey].id..  destin
-000010a0: 6174 696f 6e5f 6369 6472 5f62 6c6f 636b  ation_cidr_block
-000010b0: 2020 2020 3d20 6561 6368 2e76 616c 7565      = each.value
-000010c0: 2e64 6573 7469 6e61 7469 6f6e 0d0a 2020  .destination..  
-000010d0: 6761 7465 7761 795f 6964 2020 2020 2020  gateway_id      
-000010e0: 2020 2020 2020 2020 2020 3d20 7370 6c69            = spli
-000010f0: 7428 222d 222c 2065 6163 682e 7661 6c75  t("-", each.valu
-00001100: 652e 7461 7267 6574 295b 305d 203d 3d20  e.target)[0] == 
-00001110: 2269 6777 2220 3f20 6561 6368 2e76 616c  "igw" ? each.val
-00001120: 7565 2e74 6172 6765 7420 3a20 6e75 6c6c  ue.target : null
-00001130: 0d0a 2020 696e 7374 616e 6365 5f69 6420  ..  instance_id 
-00001140: 2020 2020 2020 2020 2020 2020 2020 3d20                = 
-00001150: 7370 6c69 7428 222d 222c 2065 6163 682e  split("-", each.
-00001160: 7661 6c75 652e 7461 7267 6574 295b 305d  value.target)[0]
-00001170: 203d 3d20 2269 2220 3f20 6561 6368 2e76   == "i" ? each.v
-00001180: 616c 7565 2e74 6172 6765 7420 3a20 6e75  alue.target : nu
-00001190: 6c6c 0d0a 2020 6e61 745f 6761 7465 7761  ll..  nat_gatewa
-000011a0: 795f 6964 2020 2020 2020 2020 2020 2020  y_id            
-000011b0: 3d20 7370 6c69 7428 222d 222c 2065 6163  = split("-", eac
-000011c0: 682e 7661 6c75 652e 7461 7267 6574 295b  h.value.target)[
-000011d0: 305d 203d 3d20 226e 6174 2220 3f20 6561  0] == "nat" ? ea
-000011e0: 6368 2e76 616c 7565 2e74 6172 6765 7420  ch.value.target 
-000011f0: 3a20 6e75 6c6c 0d0a 2020 6c6f 6361 6c5f  : null..  local_
-00001200: 6761 7465 7761 795f 6964 2020 2020 2020  gateway_id      
-00001210: 2020 2020 3d20 7370 6c69 7428 222d 222c      = split("-",
-00001220: 2065 6163 682e 7661 6c75 652e 7461 7267   each.value.targ
-00001230: 6574 295b 305d 203d 3d20 2249 6777 2220  et)[0] == "Igw" 
-00001240: 3f20 6561 6368 2e76 616c 7565 2e74 6172  ? each.value.tar
-00001250: 6765 7420 3a20 6e75 6c6c 2023 206f 7574  get : null # out
-00001260: 706f 7374 2067 6174 6577 6179 0d0a 2020  post gateway..  
-00001270: 6e65 7477 6f72 6b5f 696e 7465 7266 6163  network_interfac
-00001280: 655f 6964 2020 2020 2020 3d20 7370 6c69  e_id      = spli
-00001290: 7428 222d 222c 2065 6163 682e 7661 6c75  t("-", each.valu
-000012a0: 652e 7461 7267 6574 295b 305d 203d 3d20  e.target)[0] == 
-000012b0: 2265 6e69 2220 3f20 6561 6368 2e76 616c  "eni" ? each.val
-000012c0: 7565 2e74 6172 6765 7420 3a20 6e75 6c6c  ue.target : null
-000012d0: 0d0a 2020 7670 635f 7065 6572 696e 675f  ..  vpc_peering_
-000012e0: 636f 6e6e 6563 7469 6f6e 5f69 6420 3d20  connection_id = 
-000012f0: 7370 6c69 7428 222d 222c 2065 6163 682e  split("-", each.
-00001300: 7661 6c75 652e 7461 7267 6574 295b 305d  value.target)[0]
-00001310: 203d 3d20 2270 6378 2220 3f20 6561 6368   == "pcx" ? each
-00001320: 2e76 616c 7565 2e74 6172 6765 7420 3a20  .value.target : 
-00001330: 6e75 6c6c 0d0a 0d0a 2020 2320 5650 4320  null....  # VPC 
-00001340: 6761 7465 7761 7920 656e 6470 6f69 6e74  gateway endpoint
-00001350: 7320 726f 7574 6573 2063 616e 2774 2062  s routes can't b
-00001360: 6520 6164 6465 6420 6865 7265 2c20 656e  e added here, en
-00001370: 6470 6f69 6e74 206d 616e 6167 6573 2052  dpoint manages R
-00001380: 5473 0d0a 0d0a 7d0d 0a0d 0a72 6573 6f75  Ts....}....resou
-00001390: 7263 6520 226e 756c 6c5f 7265 736f 7572  rce "null_resour
-000013a0: 6365 2220 2276 7063 655f 726f 7574 6522  ce" "vpce_route"
-000013b0: 207b 0d0a 2020 666f 725f 6561 6368 203d   {..  for_each =
-000013c0: 207b 0d0a 2020 2020 666f 7220 726f 7574   {..    for rout
-000013d0: 6520 696e 206c 6f63 616c 2e72 6f75 7465  e in local.route
-000013e0: 7320 3a20 2224 7b72 6f75 7465 2e64 6573  s : "${route.des
-000013f0: 7469 6e61 7469 6f6e 7d2e 247b 726f 7574  tination}.${rout
-00001400: 652e 6b65 797d 2220 3d3e 2072 6f75 7465  e.key}" => route
-00001410: 0d0a 2020 2020 6966 2073 7562 7374 7228  ..    if substr(
-00001420: 726f 7574 655b 2274 6172 6765 7422 5d2c  route["target"],
-00001430: 2030 2c20 3529 203d 3d20 2276 7063 652d   0, 5) == "vpce-
-00001440: 220d 0a20 207d 0d0a 2020 7072 6f76 6973  "..  }..  provis
-00001450: 696f 6e65 7220 226c 6f63 616c 2d65 7865  ioner "local-exe
-00001460: 6322 207b 0d0a 2020 2020 636f 6d6d 616e  c" {..    comman
-00001470: 6420 3d20 2270 7974 686f 6e33 202d 6d20  d = "python3 -m 
-00001480: 646d 2e61 6464 5f76 7063 655f 726f 7574  dm.add_vpce_rout
-00001490: 6520 247b 7661 722e 7265 6769 6f6e 7d20  e ${var.region} 
-000014a0: 247b 7661 722e 726f 6c65 5f61 726e 7d20  ${var.role_arn} 
-000014b0: 247b 6561 6368 2e76 616c 7565 5b22 7461  ${each.value["ta
-000014c0: 7267 6574 225d 7d20 247b 6177 735f 726f  rget"]} ${aws_ro
-000014d0: 7574 655f 7461 626c 652e 6176 6961 7472  ute_table.aviatr
-000014e0: 6978 5f6d 616e 6167 6564 5b65 6163 682e  ix_managed[each.
-000014f0: 7661 6c75 652e 6b65 795d 2e69 647d 220d  value.key].id}".
-00001500: 0a20 207d 0d0a 7d0d 0a0d 0a6c 6f63 616c  .  }..}....local
-00001510: 7320 7b0d 0a20 2072 6f75 7465 7320 3d20  s {..  routes = 
-00001520: 666c 6174 7465 6e28 5b0d 0a20 2020 2066  flatten([..    f
-00001530: 6f72 2072 745f 6b65 792c 2072 745f 7661  or rt_key, rt_va
-00001540: 6c20 696e 2076 6172 2e72 6f75 7465 5f74  l in var.route_t
-00001550: 6162 6c65 7320 3a20 5b0d 0a20 2020 2020  ables : [..     
-00001560: 2066 6f72 2072 6f75 7465 2069 6e20 7274   for route in rt
-00001570: 5f76 616c 2e72 6f75 7465 7320 3a20 7b0d  _val.routes : {.
-00001580: 0a20 2020 2020 2020 206b 6579 2020 2020  .        key    
-00001590: 2020 2020 203d 2072 745f 6b65 790d 0a20       = rt_key.. 
-000015a0: 2020 2020 2020 2064 6573 7469 6e61 7469         destinati
-000015b0: 6f6e 203d 2072 6f75 7465 2e64 6573 7469  on = route.desti
-000015c0: 6e61 7469 6f6e 0d0a 2020 2020 2020 2020  nation..        
-000015d0: 7461 7267 6574 2020 2020 2020 3d20 726f  target      = ro
-000015e0: 7574 652e 7461 7267 6574 0d0a 2020 2020  ute.target..    
-000015f0: 2020 7d0d 0a20 2020 205d 0d0a 2020 5d29    }..    ]..  ])
-00001600: 0d0a 7d0d 0a                             ..}..
+00000000: 7265 736f 7572 6365 2022 6177 735f 7670  resource "aws_vp
+00000010: 635f 6970 7634 5f63 6964 725f 626c 6f63  c_ipv4_cidr_bloc
+00000020: 6b5f 6173 736f 6369 6174 696f 6e22 2022  k_association" "
+00000030: 6176 6961 7472 6978 5f63 6964 7222 207b  aviatrix_cidr" {
+00000040: 0a20 2063 6f75 6e74 2020 2020 2020 3d20  .  count      = 
+00000050: 7661 722e 7467 775f 7670 6320 3f20 3020  var.tgw_vpc ? 0 
+00000060: 3a20 310a 2020 7670 635f 6964 2020 2020  : 1.  vpc_id    
+00000070: 203d 2076 6172 2e76 7063 5f69 640a 2020   = var.vpc_id.  
+00000080: 6369 6472 5f62 6c6f 636b 203d 2076 6172  cidr_block = var
+00000090: 2e61 7674 785f 6369 6472 0a7d 0a0a 7265  .avtx_cidr.}..re
+000000a0: 736f 7572 6365 2022 6177 735f 696e 7465  source "aws_inte
+000000b0: 726e 6574 5f67 6174 6577 6179 2220 2249  rnet_gateway" "I
+000000c0: 4757 2220 7b0a 2020 636f 756e 7420 203d  GW" {.  count  =
+000000d0: 2076 6172 2e69 6777 5f69 6420 3d3d 2022   var.igw_id == "
+000000e0: 2220 2626 2021 7661 722e 7467 775f 7670  " && !var.tgw_vp
+000000f0: 6320 3f20 3120 3a20 300a 2020 7670 635f  c ? 1 : 0.  vpc_
+00000100: 6964 203d 2076 6172 2e76 7063 5f69 640a  id = var.vpc_id.
+00000110: 2020 7461 6773 203d 207b 0a20 2020 204e    tags = {.    N
+00000120: 616d 6520 3d20 2261 7669 6174 7269 782d  ame = "aviatrix-
+00000130: 247b 7661 722e 7670 635f 6e61 6d65 7d22  ${var.vpc_name}"
+00000140: 0a20 207d 0a7d 0a0a 7265 736f 7572 6365  .  }.}..resource
+00000150: 2022 6177 735f 7375 626e 6574 2220 2261   "aws_subnet" "a
+00000160: 7669 6174 7269 785f 7075 626c 6963 2220  viatrix_public" 
+00000170: 7b0a 2020 636f 756e 7420 2020 2020 2020  {.  count       
+00000180: 2020 2020 2020 3d20 7661 722e 6870 6520        = var.hpe 
+00000190: 7c7c 2076 6172 2e74 6777 5f76 7063 203f  || var.tgw_vpc ?
+000001a0: 2030 203a 2032 0a20 2076 7063 5f69 6420   0 : 2.  vpc_id 
+000001b0: 2020 2020 2020 2020 2020 203d 2061 7773             = aws
+000001c0: 5f76 7063 5f69 7076 345f 6369 6472 5f62  _vpc_ipv4_cidr_b
+000001d0: 6c6f 636b 5f61 7373 6f63 6961 7469 6f6e  lock_association
+000001e0: 2e61 7669 6174 7269 785f 6369 6472 5b30  .aviatrix_cidr[0
+000001f0: 5d2e 7670 635f 6964 0a20 2063 6964 725f  ].vpc_id.  cidr_
+00000200: 626c 6f63 6b20 2020 2020 2020 203d 2063  block        = c
+00000210: 6964 7273 7562 6e65 7428 6177 735f 7670  idrsubnet(aws_vp
+00000220: 635f 6970 7634 5f63 6964 725f 626c 6f63  c_ipv4_cidr_bloc
+00000230: 6b5f 6173 736f 6369 6174 696f 6e2e 6176  k_association.av
+00000240: 6961 7472 6978 5f63 6964 725b 305d 2e63  iatrix_cidr[0].c
+00000250: 6964 725f 626c 6f63 6b2c 2031 2c20 636f  idr_block, 1, co
+00000260: 756e 742e 696e 6465 7829 0a20 2061 7661  unt.index).  ava
+00000270: 696c 6162 696c 6974 795f 7a6f 6e65 203d  ilability_zone =
+00000280: 2076 6172 2e67 775f 7a6f 6e65 735b 636f   var.gw_zones[co
+00000290: 756e 742e 696e 6465 785d 0a20 2074 6167  unt.index].  tag
+000002a0: 7320 3d20 7b0a 2020 2020 4e61 6d65 203d  s = {.    Name =
+000002b0: 2063 6f75 6e74 2e69 6e64 6578 203d 3d20   count.index == 
+000002c0: 3020 3f20 2261 7669 6174 7269 782d 247b  0 ? "aviatrix-${
+000002d0: 7661 722e 7670 635f 6e61 6d65 7d2d 6777  var.vpc_name}-gw
+000002e0: 2220 3a20 2261 7669 6174 7269 782d 247b  " : "aviatrix-${
+000002f0: 7661 722e 7670 635f 6e61 6d65 7d2d 6777  var.vpc_name}-gw
+00000300: 2d68 6167 7722 0a20 207d 0a7d 0a0a 7265  -hagw".  }.}..re
+00000310: 736f 7572 6365 2022 6177 735f 726f 7574  source "aws_rout
+00000320: 655f 7461 626c 6522 2022 6176 6961 7472  e_table" "aviatr
+00000330: 6978 5f70 7562 6c69 6322 207b 0a20 2063  ix_public" {.  c
+00000340: 6f75 6e74 2020 3d20 7661 722e 6870 6520  ount  = var.hpe 
+00000350: 7c7c 2076 6172 2e74 6777 5f76 7063 203f  || var.tgw_vpc ?
+00000360: 2030 203a 2031 0a20 2076 7063 5f69 6420   0 : 1.  vpc_id 
+00000370: 3d20 7661 722e 7670 635f 6964 0a20 2074  = var.vpc_id.  t
+00000380: 6167 7320 3d20 7b0a 2020 2020 4e61 6d65  ags = {.    Name
+00000390: 203d 2022 6176 6961 7472 6978 2d24 7b76   = "aviatrix-${v
+000003a0: 6172 2e76 7063 5f6e 616d 657d 2d67 7722  ar.vpc_name}-gw"
+000003b0: 0a20 207d 0a7d 0a0a 7265 736f 7572 6365  .  }.}..resource
+000003c0: 2022 6177 735f 726f 7574 6522 2022 6176   "aws_route" "av
+000003d0: 6961 7472 6978 5f64 6566 6175 6c74 2220  iatrix_default" 
+000003e0: 7b0a 2020 636f 756e 7420 2020 2020 2020  {.  count       
+000003f0: 2020 2020 2020 2020 2020 203d 2076 6172             = var
+00000400: 2e68 7065 207c 7c20 7661 722e 7467 775f  .hpe || var.tgw_
+00000410: 7670 6320 3f20 3020 3a20 310a 2020 726f  vpc ? 0 : 1.  ro
+00000420: 7574 655f 7461 626c 655f 6964 2020 2020  ute_table_id    
+00000430: 2020 2020 203d 2061 7773 5f72 6f75 7465       = aws_route
+00000440: 5f74 6162 6c65 2e61 7669 6174 7269 785f  _table.aviatrix_
+00000450: 7075 626c 6963 5b30 5d2e 6964 0a20 2064  public[0].id.  d
+00000460: 6573 7469 6e61 7469 6f6e 5f63 6964 725f  estination_cidr_
+00000470: 626c 6f63 6b20 3d20 2230 2e30 2e30 2e30  block = "0.0.0.0
+00000480: 2f30 220a 2020 6761 7465 7761 795f 6964  /0".  gateway_id
+00000490: 2020 2020 2020 2020 2020 2020 203d 2076               = v
+000004a0: 6172 2e69 6777 5f69 6420 3d3d 2022 2220  ar.igw_id == "" 
+000004b0: 3f20 6177 735f 696e 7465 726e 6574 5f67  ? aws_internet_g
+000004c0: 6174 6577 6179 2e49 4757 5b30 5d2e 6964  ateway.IGW[0].id
+000004d0: 203a 2076 6172 2e69 6777 5f69 640a 7d0a   : var.igw_id.}.
+000004e0: 0a72 6573 6f75 7263 6520 2261 7773 5f72  .resource "aws_r
+000004f0: 6f75 7465 5f74 6162 6c65 5f61 7373 6f63  oute_table_assoc
+00000500: 6961 7469 6f6e 2220 2261 7669 6174 7269  iation" "aviatri
+00000510: 785f 7075 626c 6963 2220 7b0a 2020 636f  x_public" {.  co
+00000520: 756e 7420 2020 2020 2020 2020 203d 2076  unt          = v
+00000530: 6172 2e68 7065 207c 7c20 7661 722e 7467  ar.hpe || var.tg
+00000540: 775f 7670 6320 3f20 3020 3a20 320a 2020  w_vpc ? 0 : 2.  
+00000550: 7375 626e 6574 5f69 6420 2020 2020 203d  subnet_id      =
+00000560: 2061 7773 5f73 7562 6e65 742e 6176 6961   aws_subnet.avia
+00000570: 7472 6978 5f70 7562 6c69 635b 636f 756e  trix_public[coun
+00000580: 742e 696e 6465 785d 2e69 640a 2020 726f  t.index].id.  ro
+00000590: 7574 655f 7461 626c 655f 6964 203d 2061  ute_table_id = a
+000005a0: 7773 5f72 6f75 7465 5f74 6162 6c65 2e61  ws_route_table.a
+000005b0: 7669 6174 7269 785f 7075 626c 6963 5b30  viatrix_public[0
+000005c0: 5d2e 6964 0a7d 0a0a 6c6f 6361 6c73 207b  ].id.}..locals {
+000005d0: 0a20 2072 6567 696f 6e20 3d20 7b0a 2020  .  region = {.  
+000005e0: 2020 7573 2d77 6573 742d 3220 2020 2020    us-west-2     
+000005f0: 203d 2022 7573 7732 220a 2020 2020 7573   = "usw2".    us
+00000600: 2d77 6573 742d 3120 2020 2020 203d 2022  -west-1      = "
+00000610: 7573 7731 220a 2020 2020 7573 2d65 6173  usw1".    us-eas
+00000620: 742d 3120 2020 2020 203d 2022 7573 6531  t-1      = "use1
+00000630: 220a 2020 2020 6575 2d77 6573 742d 3120  ".    eu-west-1 
+00000640: 2020 2020 203d 2022 6575 7731 220a 2020       = "euw1".  
+00000650: 2020 6575 2d63 656e 7472 616c 2d31 2020    eu-central-1  
+00000660: 203d 2022 6575 6331 220a 2020 2020 6170   = "euc1".    ap
+00000670: 2d73 6f75 7468 6561 7374 2d31 203d 2022  -southeast-1 = "
+00000680: 6170 7365 3122 0a20 2020 2061 702d 6e6f  apse1".    ap-no
+00000690: 7274 6865 6173 742d 3120 3d20 2261 706e  rtheast-1 = "apn
+000006a0: 6531 220a 2020 2020 636e 2d6e 6f72 7468  e1".    cn-north
+000006b0: 2d31 2020 2020 203d 2022 636e 6e31 220a  -1     = "cnn1".
+000006c0: 2020 2020 636e 2d6e 6f72 7468 7765 7374      cn-northwest
+000006d0: 2d31 203d 2022 636e 6e77 3122 0a20 207d  -1 = "cnnw1".  }
+000006e0: 0a7d 0a0a 7265 736f 7572 6365 2022 6176  .}..resource "av
+000006f0: 6961 7472 6978 5f73 706f 6b65 5f67 6174  iatrix_spoke_gat
+00000700: 6577 6179 2220 2267 7722 207b 0a20 2063  eway" "gw" {.  c
+00000710: 6f75 6e74 2020 2020 2020 2020 2020 2020  ount            
+00000720: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00000730: 203d 2076 6172 2e74 6777 5f76 7063 203f   = var.tgw_vpc ?
+00000740: 2030 203a 2031 0a20 2063 6c6f 7564 5f74   0 : 1.  cloud_t
+00000750: 7970 6520 2020 2020 2020 2020 2020 2020  ype             
+00000760: 2020 2020 2020 2020 2020 203d 2031 0a20             = 1. 
+00000770: 2061 6363 6f75 6e74 5f6e 616d 6520 2020   account_name   
+00000780: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00000790: 2020 203d 2076 6172 2e61 6363 6f75 6e74     = var.account
+000007a0: 5f6e 616d 650a 2020 6777 5f6e 616d 6520  _name.  gw_name 
+000007b0: 2020 2020 2020 2020 2020 2020 2020 2020                  
+000007c0: 2020 2020 2020 2020 2020 3d20 2261 7773            = "aws
+000007d0: 2d24 7b6c 6f63 616c 2e72 6567 696f 6e5b  -${local.region[
+000007e0: 7661 722e 7265 6769 6f6e 5d7d 2d24 7b6a  var.region]}-${j
+000007f0: 6f69 6e28 2222 2c20 666f 726d 6174 6c69  oin("", formatli
+00000800: 7374 2822 2530 3278 222c 2073 706c 6974  st("%02x", split
+00000810: 2822 2e22 2c20 7370 6c69 7428 222f 222c  (".", split("/",
+00000820: 2076 6172 2e61 7674 785f 6369 6472 295b   var.avtx_cidr)[
+00000830: 305d 2929 297d 2d67 7722 0a20 2076 7063  0])))}-gw".  vpc
+00000840: 5f69 6420 2020 2020 2020 2020 2020 2020  _id             
+00000850: 2020 2020 2020 2020 2020 2020 2020 203d                 =
+00000860: 2076 6172 2e76 7063 5f69 640a 2020 7670   var.vpc_id.  vp
+00000870: 635f 7265 6720 2020 2020 2020 2020 2020  c_reg           
+00000880: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00000890: 3d20 7661 722e 7265 6769 6f6e 0a20 2069  = var.region.  i
+000008a0: 6e73 616e 655f 6d6f 6465 2020 2020 2020  nsane_mode      
+000008b0: 2020 2020 2020 2020 2020 2020 2020 2020                  
+000008c0: 203d 2076 6172 2e68 7065 0a20 2067 775f   = var.hpe.  gw_
+000008d0: 7369 7a65 2020 2020 2020 2020 2020 2020  size            
+000008e0: 2020 2020 2020 2020 2020 2020 2020 203d                 =
+000008f0: 2076 6172 2e61 7674 785f 6777 5f73 697a   var.avtx_gw_siz
+00000900: 650a 2020 6861 5f67 775f 7369 7a65 2020  e.  ha_gw_size  
+00000910: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00000920: 2020 2020 2020 3d20 7661 722e 6176 7478        = var.avtx
+00000930: 5f67 775f 7369 7a65 0a20 2073 7562 6e65  _gw_size.  subne
+00000940: 7420 2020 2020 2020 2020 2020 2020 2020  t               
+00000950: 2020 2020 2020 2020 2020 2020 203d 2063               = c
+00000960: 6964 7273 7562 6e65 7428 6177 735f 7670  idrsubnet(aws_vp
+00000970: 635f 6970 7634 5f63 6964 725f 626c 6f63  c_ipv4_cidr_bloc
+00000980: 6b5f 6173 736f 6369 6174 696f 6e2e 6176  k_association.av
+00000990: 6961 7472 6978 5f63 6964 725b 305d 2e63  iatrix_cidr[0].c
+000009a0: 6964 725f 626c 6f63 6b2c 2031 2c20 3029  idr_block, 1, 0)
+000009b0: 0a20 2068 615f 7375 626e 6574 2020 2020  .  ha_subnet    
+000009c0: 2020 2020 2020 2020 2020 2020 2020 2020                  
+000009d0: 2020 2020 203d 2063 6964 7273 7562 6e65       = cidrsubne
+000009e0: 7428 6177 735f 7670 635f 6970 7634 5f63  t(aws_vpc_ipv4_c
+000009f0: 6964 725f 626c 6f63 6b5f 6173 736f 6369  idr_block_associ
+00000a00: 6174 696f 6e2e 6176 6961 7472 6978 5f63  ation.aviatrix_c
+00000a10: 6964 725b 305d 2e63 6964 725f 626c 6f63  idr[0].cidr_bloc
+00000a20: 6b2c 2031 2c20 3129 0a20 2069 6e73 616e  k, 1, 1).  insan
+00000a30: 655f 6d6f 6465 5f61 7a20 2020 2020 2020  e_mode_az       
+00000a40: 2020 2020 2020 2020 2020 2020 203d 2076               = v
+00000a50: 6172 2e68 7065 203f 2076 6172 2e67 775f  ar.hpe ? var.gw_
+00000a60: 7a6f 6e65 735b 305d 203a 206e 756c 6c0a  zones[0] : null.
+00000a70: 2020 6861 5f69 6e73 616e 655f 6d6f 6465    ha_insane_mode
+00000a80: 5f61 7a20 2020 2020 2020 2020 2020 2020  _az             
+00000a90: 2020 2020 3d20 7661 722e 6870 6520 3f20      = var.hpe ? 
+00000aa0: 7661 722e 6777 5f7a 6f6e 6573 5b31 5d20  var.gw_zones[1] 
+00000ab0: 3a20 6e75 6c6c 0a20 2069 6e63 6c75 6465  : null.  include
+00000ac0: 645f 6164 7665 7274 6973 6564 5f73 706f  d_advertised_spo
+00000ad0: 6b65 5f72 6f75 7465 7320 203d 2076 6172  ke_routes  = var
+00000ae0: 2e73 7769 7463 685f 7472 6166 6669 6320  .switch_traffic 
+00000af0: 3f20 6a6f 696e 2822 2c22 2c20 636f 6e63  ? join(",", conc
+00000b00: 6174 2876 6172 2e76 7063 5f63 6964 722c  at(var.vpc_cidr,
+00000b10: 205b 7661 722e 6176 7478 5f63 6964 725d   [var.avtx_cidr]
+00000b20: 2929 203a 2076 6172 2e61 7674 785f 6369  )) : var.avtx_ci
+00000b30: 6472 0a20 206d 616e 6167 655f 7472 616e  dr.  manage_tran
+00000b40: 7369 745f 6761 7465 7761 795f 6174 7461  sit_gateway_atta
+00000b50: 6368 6d65 6e74 203d 2066 616c 7365 0a20  chment = false. 
+00000b60: 2065 6e61 626c 655f 6163 7469 7665 5f6d   enable_active_m
+00000b70: 6573 6820 2020 2020 2020 2020 2020 2020  esh             
+00000b80: 2020 203d 2074 7275 650a 2020 7369 6e67     = true.  sing
+00000b90: 6c65 5f61 7a5f 6861 2020 2020 2020 2020  le_az_ha        
+00000ba0: 2020 2020 2020 2020 2020 2020 2020 3d20                = 
+00000bb0: 7472 7565 0a20 2074 6167 7320 3d20 7b0a  true.  tags = {.
+00000bc0: 2020 2020 2263 6973 2e61 736d 2e76 6d2e      "cis.asm.vm.
+00000bd0: 7269 736b 4578 6365 7074 696f 6e22 203d  riskException" =
+00000be0: 2022 524b 3030 3236 3038 3222 0a20 207d   "RK0026082".  }
+00000bf0: 0a20 2064 6570 656e 6473 5f6f 6e20 3d20  .  depends_on = 
+00000c00: 5b61 7773 5f72 6f75 7465 2e61 7669 6174  [aws_route.aviat
+00000c10: 7269 785f 6465 6661 756c 742c 2061 7773  rix_default, aws
+00000c20: 5f72 6f75 7465 5f74 6162 6c65 5f61 7373  _route_table_ass
+00000c30: 6f63 6961 7469 6f6e 2e61 7669 6174 7269  ociation.aviatri
+00000c40: 785f 7075 626c 6963 2c20 6177 735f 726f  x_public, aws_ro
+00000c50: 7574 652e 7072 655f 6d69 6772 6174 696f  ute.pre_migratio
+00000c60: 6e5d 0a7d 0a0a 7265 736f 7572 6365 2022  n].}..resource "
+00000c70: 6176 6961 7472 6978 5f73 706f 6b65 5f74  aviatrix_spoke_t
+00000c80: 7261 6e73 6974 5f61 7474 6163 686d 656e  ransit_attachmen
+00000c90: 7422 2022 6174 7461 6368 6d65 6e74 2220  t" "attachment" 
+00000ca0: 7b0a 2020 636f 756e 7420 2020 2020 2020  {.  count       
+00000cb0: 2020 2020 3d20 7661 722e 7467 775f 7670      = var.tgw_vp
+00000cc0: 6320 3f20 3020 3a20 310a 2020 7370 6f6b  c ? 0 : 1.  spok
+00000cd0: 655f 6777 5f6e 616d 6520 2020 3d20 6176  e_gw_name   = av
+00000ce0: 6961 7472 6978 5f73 706f 6b65 5f67 6174  iatrix_spoke_gat
+00000cf0: 6577 6179 2e67 775b 305d 2e67 775f 6e61  eway.gw[0].gw_na
+00000d00: 6d65 0a20 2074 7261 6e73 6974 5f67 775f  me.  transit_gw_
+00000d10: 6e61 6d65 203d 2022 6177 732d 247b 6c6f  name = "aws-${lo
+00000d20: 6361 6c2e 7265 6769 6f6e 5b76 6172 2e72  cal.region[var.r
+00000d30: 6567 696f 6e5d 7d2d 7472 616e 7369 742d  egion]}-transit-
+00000d40: 6777 220a 2020 726f 7574 655f 7461 626c  gw".  route_tabl
+00000d50: 6573 2020 2020 3d20 5b66 6f72 206b 2c20  es    = [for k, 
+00000d60: 7620 696e 2076 6172 2e72 6f75 7465 5f74  v in var.route_t
+00000d70: 6162 6c65 7320 3a20 6177 735f 726f 7574  ables : aws_rout
+00000d80: 655f 7461 626c 652e 6176 6961 7472 6978  e_table.aviatrix
+00000d90: 5f6d 616e 6167 6564 5b6b 5d2e 6964 5d0a  _managed[k].id].
+00000da0: 7d0a 0a72 6573 6f75 7263 6520 2261 7669  }..resource "avi
+00000db0: 6174 7269 785f 6177 735f 7467 775f 7670  atrix_aws_tgw_vp
+00000dc0: 635f 6174 7461 6368 6d65 6e74 2220 2274  c_attachment" "t
+00000dd0: 6777 5f61 7474 6163 6822 207b 0a20 2063  gw_attach" {.  c
+00000de0: 6f75 6e74 2020 2020 2020 2020 2020 2020  ount            
+00000df0: 2020 2020 2020 2020 2020 2020 2020 203d                 =
+00000e00: 2076 6172 2e74 6777 5f76 7063 203f 2031   var.tgw_vpc ? 1
+00000e10: 203a 2030 0a20 2074 6777 5f6e 616d 6520   : 0.  tgw_name 
+00000e20: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00000e30: 2020 2020 2020 203d 2022 247b 7661 722e         = "${var.
+00000e40: 7265 6769 6f6e 7d2d 7467 7722 0a20 2076  region}-tgw".  v
+00000e50: 7063 5f61 6363 6f75 6e74 5f6e 616d 6520  pc_account_name 
+00000e60: 2020 2020 2020 2020 2020 2020 2020 203d                 =
+00000e70: 2076 6172 2e61 6363 6f75 6e74 5f6e 616d   var.account_nam
+00000e80: 650a 2020 7265 6769 6f6e 2020 2020 2020  e.  region      
+00000e90: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00000ea0: 2020 2020 3d20 7661 722e 7265 6769 6f6e      = var.region
+00000eb0: 0a20 2073 6563 7572 6974 795f 646f 6d61  .  security_doma
+00000ec0: 696e 5f6e 616d 6520 2020 2020 2020 2020  in_name         
+00000ed0: 2020 203d 2022 4465 6661 756c 745f 446f     = "Default_Do
+00000ee0: 6d61 696e 220a 2020 7670 635f 6964 2020  main".  vpc_id  
+00000ef0: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00000f00: 2020 2020 2020 2020 3d20 7661 722e 7670          = var.vp
+00000f10: 635f 6964 0a20 2063 7573 746f 6d69 7a65  c_id.  customize
+00000f20: 645f 726f 7574 655f 6164 7665 7274 6973  d_route_advertis
+00000f30: 656d 656e 7420 203d 2076 6172 2e73 7769  ement  = var.swi
+00000f40: 7463 685f 7472 6166 6669 6320 3f20 6a6f  tch_traffic ? jo
+00000f50: 696e 2822 2c22 2c20 7661 722e 7670 635f  in(",", var.vpc_
+00000f60: 6369 6472 2920 3a20 2222 0a20 2064 6973  cidr) : "".  dis
+00000f70: 6162 6c65 5f6c 6f63 616c 5f72 6f75 7465  able_local_route
+00000f80: 5f70 726f 7061 6761 7469 6f6e 203d 2074  _propagation = t
+00000f90: 7275 650a 7d0a 0a72 6573 6f75 7263 6520  rue.}..resource 
+00000fa0: 2261 7773 5f72 6f75 7465 5f74 6162 6c65  "aws_route_table
+00000fb0: 2220 2261 7669 6174 7269 785f 6d61 6e61  " "aviatrix_mana
+00000fc0: 6765 6422 207b 0a20 2066 6f72 5f65 6163  ged" {.  for_eac
+00000fd0: 6820 3d20 7661 722e 726f 7574 655f 7461  h = var.route_ta
+00000fe0: 626c 6573 0a20 2076 7063 5f69 6420 2020  bles.  vpc_id   
+00000ff0: 3d20 7661 722e 7670 635f 6964 0a20 2074  = var.vpc_id.  t
+00001000: 6167 7320 2020 2020 3d20 6d65 7267 6528  ags     = merge(
+00001010: 6561 6368 2e76 616c 7565 2e74 6167 732c  each.value.tags,
+00001020: 207b 204f 7267 5f52 5420 3d20 6561 6368   { Org_RT = each
+00001030: 2e6b 6579 207d 290a 7d0a 0a0a 7265 736f  .key }).}...reso
+00001040: 7572 6365 2022 6177 735f 726f 7574 6522  urce "aws_route"
+00001050: 2022 7072 655f 6d69 6772 6174 696f 6e22   "pre_migration"
+00001060: 207b 0a20 2066 6f72 5f65 6163 6820 3d20   {.  for_each = 
+00001070: 7b0a 2020 2020 666f 7220 726f 7574 6520  {.    for route 
+00001080: 696e 206c 6f63 616c 2e72 6f75 7465 7320  in local.routes 
+00001090: 3a20 2224 7b72 6f75 7465 2e64 6573 7469  : "${route.desti
+000010a0: 6e61 7469 6f6e 7d2e 247b 726f 7574 652e  nation}.${route.
+000010b0: 6b65 797d 2220 3d3e 2072 6f75 7465 0a20  key}" => route. 
+000010c0: 2020 2069 6620 7375 6273 7472 2872 6f75     if substr(rou
+000010d0: 7465 5b22 7461 7267 6574 225d 2c20 302c  te["target"], 0,
+000010e0: 2035 2920 213d 2022 7670 6365 2d22 0a20   5) != "vpce-". 
+000010f0: 207d 0a20 2072 6f75 7465 5f74 6162 6c65   }.  route_table
+00001100: 5f69 6420 2020 2020 2020 2020 2020 203d  _id            =
+00001110: 2061 7773 5f72 6f75 7465 5f74 6162 6c65   aws_route_table
+00001120: 2e61 7669 6174 7269 785f 6d61 6e61 6765  .aviatrix_manage
+00001130: 645b 6561 6368 2e76 616c 7565 2e6b 6579  d[each.value.key
+00001140: 5d2e 6964 0a20 2064 6573 7469 6e61 7469  ].id.  destinati
+00001150: 6f6e 5f63 6964 725f 626c 6f63 6b20 2020  on_cidr_block   
+00001160: 203d 2065 6163 682e 7661 6c75 652e 6465   = each.value.de
+00001170: 7374 696e 6174 696f 6e0a 2020 6761 7465  stination.  gate
+00001180: 7761 795f 6964 2020 2020 2020 2020 2020  way_id          
+00001190: 2020 2020 2020 3d20 7370 6c69 7428 222d        = split("-
+000011a0: 222c 2065 6163 682e 7661 6c75 652e 7461  ", each.value.ta
+000011b0: 7267 6574 295b 305d 203d 3d20 2269 6777  rget)[0] == "igw
+000011c0: 2220 3f20 6561 6368 2e76 616c 7565 2e74  " ? each.value.t
+000011d0: 6172 6765 7420 3a20 6e75 6c6c 0a20 2069  arget : null.  i
+000011e0: 6e73 7461 6e63 655f 6964 2020 2020 2020  nstance_id      
+000011f0: 2020 2020 2020 2020 203d 2073 706c 6974           = split
+00001200: 2822 2d22 2c20 6561 6368 2e76 616c 7565  ("-", each.value
+00001210: 2e74 6172 6765 7429 5b30 5d20 3d3d 2022  .target)[0] == "
+00001220: 6922 203f 2065 6163 682e 7661 6c75 652e  i" ? each.value.
+00001230: 7461 7267 6574 203a 206e 756c 6c0a 2020  target : null.  
+00001240: 6e61 745f 6761 7465 7761 795f 6964 2020  nat_gateway_id  
+00001250: 2020 2020 2020 2020 2020 3d20 7370 6c69            = spli
+00001260: 7428 222d 222c 2065 6163 682e 7661 6c75  t("-", each.valu
+00001270: 652e 7461 7267 6574 295b 305d 203d 3d20  e.target)[0] == 
+00001280: 226e 6174 2220 3f20 6561 6368 2e76 616c  "nat" ? each.val
+00001290: 7565 2e74 6172 6765 7420 3a20 6e75 6c6c  ue.target : null
+000012a0: 0a20 206c 6f63 616c 5f67 6174 6577 6179  .  local_gateway
+000012b0: 5f69 6420 2020 2020 2020 2020 203d 2073  _id          = s
+000012c0: 706c 6974 2822 2d22 2c20 6561 6368 2e76  plit("-", each.v
+000012d0: 616c 7565 2e74 6172 6765 7429 5b30 5d20  alue.target)[0] 
+000012e0: 3d3d 2022 4967 7722 203f 2065 6163 682e  == "Igw" ? each.
+000012f0: 7661 6c75 652e 7461 7267 6574 203a 206e  value.target : n
+00001300: 756c 6c20 2320 6f75 7470 6f73 7420 6761  ull # outpost ga
+00001310: 7465 7761 790a 2020 6e65 7477 6f72 6b5f  teway.  network_
+00001320: 696e 7465 7266 6163 655f 6964 2020 2020  interface_id    
+00001330: 2020 3d20 7370 6c69 7428 222d 222c 2065    = split("-", e
+00001340: 6163 682e 7661 6c75 652e 7461 7267 6574  ach.value.target
+00001350: 295b 305d 203d 3d20 2265 6e69 2220 3f20  )[0] == "eni" ? 
+00001360: 6561 6368 2e76 616c 7565 2e74 6172 6765  each.value.targe
+00001370: 7420 3a20 6e75 6c6c 0a20 2076 7063 5f70  t : null.  vpc_p
+00001380: 6565 7269 6e67 5f63 6f6e 6e65 6374 696f  eering_connectio
+00001390: 6e5f 6964 203d 2073 706c 6974 2822 2d22  n_id = split("-"
+000013a0: 2c20 6561 6368 2e76 616c 7565 2e74 6172  , each.value.tar
+000013b0: 6765 7429 5b30 5d20 3d3d 2022 7063 7822  get)[0] == "pcx"
+000013c0: 203f 2065 6163 682e 7661 6c75 652e 7461   ? each.value.ta
+000013d0: 7267 6574 203a 206e 756c 6c0a 0a20 2023  rget : null..  #
+000013e0: 2056 5043 2067 6174 6577 6179 2065 6e64   VPC gateway end
+000013f0: 706f 696e 7473 2072 6f75 7465 7320 6361  points routes ca
+00001400: 6e27 7420 6265 2061 6464 6564 2068 6572  n't be added her
+00001410: 652c 2065 6e64 706f 696e 7420 6d61 6e61  e, endpoint mana
+00001420: 6765 7320 5254 730a 0a7d 0a0a 7265 736f  ges RTs..}..reso
+00001430: 7572 6365 2022 6e75 6c6c 5f72 6573 6f75  urce "null_resou
+00001440: 7263 6522 2022 7670 6365 5f72 6f75 7465  rce" "vpce_route
+00001450: 2220 7b0a 2020 666f 725f 6561 6368 203d  " {.  for_each =
+00001460: 207b 0a20 2020 2066 6f72 2072 6f75 7465   {.    for route
+00001470: 2069 6e20 6c6f 6361 6c2e 726f 7574 6573   in local.routes
+00001480: 203a 2022 247b 726f 7574 652e 6465 7374   : "${route.dest
+00001490: 696e 6174 696f 6e7d 2e24 7b72 6f75 7465  ination}.${route
+000014a0: 2e6b 6579 7d22 203d 3e20 726f 7574 650a  .key}" => route.
+000014b0: 2020 2020 6966 2073 7562 7374 7228 726f      if substr(ro
+000014c0: 7574 655b 2274 6172 6765 7422 5d2c 2030  ute["target"], 0
+000014d0: 2c20 3529 203d 3d20 2276 7063 652d 220a  , 5) == "vpce-".
+000014e0: 2020 7d0a 2020 7072 6f76 6973 696f 6e65    }.  provisione
+000014f0: 7220 226c 6f63 616c 2d65 7865 6322 207b  r "local-exec" {
+00001500: 0a20 2020 2063 6f6d 6d61 6e64 203d 2022  .    command = "
+00001510: 7079 7468 6f6e 3320 2d6d 2064 6d2e 6164  python3 -m dm.ad
+00001520: 645f 7670 6365 5f72 6f75 7465 2024 7b76  d_vpce_route ${v
+00001530: 6172 2e72 6567 696f 6e7d 2024 7b76 6172  ar.region} ${var
+00001540: 2e72 6f6c 655f 6172 6e7d 2024 7b65 6163  .role_arn} ${eac
+00001550: 682e 7661 6c75 655b 2274 6172 6765 7422  h.value["target"
+00001560: 5d7d 2024 7b61 7773 5f72 6f75 7465 5f74  ]} ${aws_route_t
+00001570: 6162 6c65 2e61 7669 6174 7269 785f 6d61  able.aviatrix_ma
+00001580: 6e61 6765 645b 6561 6368 2e76 616c 7565  naged[each.value
+00001590: 2e6b 6579 5d2e 6964 7d22 0a20 207d 0a7d  .key].id}".  }.}
+000015a0: 0a0a 6c6f 6361 6c73 207b 0a20 2072 6f75  ..locals {.  rou
+000015b0: 7465 7320 3d20 666c 6174 7465 6e28 5b0a  tes = flatten([.
+000015c0: 2020 2020 666f 7220 7274 5f6b 6579 2c20      for rt_key, 
+000015d0: 7274 5f76 616c 2069 6e20 7661 722e 726f  rt_val in var.ro
+000015e0: 7574 655f 7461 626c 6573 203a 205b 0a20  ute_tables : [. 
+000015f0: 2020 2020 2066 6f72 2072 6f75 7465 2069       for route i
+00001600: 6e20 7274 5f76 616c 2e72 6f75 7465 7320  n rt_val.routes 
+00001610: 3a20 7b0a 2020 2020 2020 2020 6b65 7920  : {.        key 
+00001620: 2020 2020 2020 2020 3d20 7274 5f6b 6579          = rt_key
+00001630: 0a20 2020 2020 2020 2064 6573 7469 6e61  .        destina
+00001640: 7469 6f6e 203d 2072 6f75 7465 2e64 6573  tion = route.des
+00001650: 7469 6e61 7469 6f6e 0a20 2020 2020 2020  tination.       
+00001660: 2074 6172 6765 7420 2020 2020 203d 2072   target      = r
+00001670: 6f75 7465 2e74 6172 6765 740a 2020 2020  oute.target.    
+00001680: 2020 7d0a 2020 2020 5d0a 2020 5d29 0a7d    }.    ].  ]).}
+00001690: 0a                                       .
```

## Comparing `aviatrix_migration-0.2.94.data/data/migration/discovery_migration/aws/nameless/module_aws_brownfield_spoke_vpc/variables.tf` & `aviatrix_migration-0.2.95.data/data/migration/discovery_migration/vpc_template/module_aws_brownfield_spoke_vpc/variables.tf`

 * *Ordering differences only*

 * *Files 20% similar despite different names*

```diff
@@ -1,48 +1,48 @@
-variable "region" {}
-
-variable "account_name" {}
-
-variable "role_arn" {}
-
-variable "vpc_name" {}
-
-variable "vpc_cidr" {
-  type = list(string)
-}
-
-variable "vpc_id" {}
-
-variable "avtx_cidr" {
-  default     = ""
-  description = "CIDR used by the Aviatrix gateways"
-}
-
-variable "tgw_vpc" {
-  default     = false
-  description = "Decides if VPC should be attached to a TGW"
-}
-
-variable "avtx_gw_size" {
-  default = ""
-}
-
-variable "hpe" {
-  default = false
-}
-
-variable "igw_id" {}
-
-variable "route_tables" {}
-
-variable "gw_name_suffix" {
-  default = ""
-}
-
-variable "gw_zones" {
-  type = list
-}
-
-variable "switch_traffic" {
-  type    = bool
-  default = false
-}
+variable "region" {}
+
+variable "account_name" {}
+
+variable "role_arn" {}
+
+variable "vpc_name" {}
+
+variable "vpc_cidr" {
+  type = list(string)
+}
+
+variable "vpc_id" {}
+
+variable "avtx_cidr" {
+  default     = ""
+  description = "CIDR used by the Aviatrix gateways"
+}
+
+variable "tgw_vpc" {
+  default     = false
+  description = "Decides if VPC should be attached to a TGW"
+}
+
+variable "avtx_gw_size" {
+  default = ""
+}
+
+variable "hpe" {
+  default = false
+}
+
+variable "igw_id" {}
+
+variable "route_tables" {}
+
+variable "gw_name_suffix" {
+  default = ""
+}
+
+variable "gw_zones" {
+  type = list
+}
+
+variable "switch_traffic" {
+  type    = bool
+  default = false
+}
```

## Comparing `aviatrix_migration-0.2.94.data/data/migration/discovery_migration/azure-module-example/main.tf` & `aviatrix_migration-0.2.95.data/data/migration/discovery_migration/azure-module-example/main.tf`

 * *Ordering differences only*

 * *Files 17% similar despite different names*

```diff
@@ -1,116 +1,116 @@
-locals {
-  region = {
-    "East US"         = "use"
-    "West US"         = "usw"
-    "West US 2"       = "usw2"
-    "North Europe"    = "eun"
-    "West Europe"     = "euw"
-    "South East Asia" = "asse"
-    "Japan East"      = "jae"
-    "China East 2"    = "che2"
-    "China North 2"   = "chn2"
-  }
-}
-
-resource "azurerm_virtual_network" "spoke" {
-  name                = var.vnet_name
-  resource_group_name = var.resource_group_name
-  location            = var.region
-  address_space       = var.native_peering ? var.vnet_cidr : concat(var.vnet_cidr, [var.avtx_cidr])
-  lifecycle {
-    ignore_changes = [tags]
-  }
-}
-
-resource "azurerm_subnet" "aviatrix_public" {
-  count                = var.hpe || var.native_peering ? 0 : 2
-  name                 = count.index == 0 ? "aviatrix-spoke-gw" : "aviatrix-spoke-hagw"
-  resource_group_name  = var.resource_group_name
-  virtual_network_name = azurerm_virtual_network.spoke.name
-  address_prefixes     = [cidrsubnet(azurerm_virtual_network.spoke.address_space[1], 1, count.index)]
-}
-
-
-resource "azurerm_subnet" "subnets" {
-  for_each             = var.subnets
-  name                 = join("-", [substr(var.resource_group_name, 0, 2), replace(each.value.subnet_cidr, "/", "_"), each.key])
-  resource_group_name  = var.resource_group_name
-  virtual_network_name = azurerm_virtual_network.spoke.name
-  address_prefixes     = [each.value.subnet_cidr]
-  service_endpoints    = contains(keys(each.value), "service_endpoints") ? each.value.service_endpoints : []
-}
-
-resource "azurerm_route_table" "customer_private" {
-  count               = length(var.subnets) > 1 ? 2 : 1 
-  #name                = "${substr(var.vnet_name, 0, 7)}-rt-${lower(replace(var.region, " ", ""))}-public-01"
-  name                = "${var.vnet_name}-rt-private-0${count.index}"
-  location            = var.region
-  resource_group_name = var.resource_group_name
-  lifecycle {
-    ignore_changes = [tags]
-  }
-}
-
-resource "azurerm_route_table" "aviatrix_public" {
-  count               = var.hpe || var.native_peering ? 0 : 1
-  name                = "${substr(var.vnet_name, 0, 7)}-rt-${lower(replace(var.region, " ", ""))}-aviatrix-01"
-  location            = var.region
-  resource_group_name = var.resource_group_name
-  lifecycle {
-    ignore_changes = [tags]
-  }
-}
-
-resource "azurerm_subnet_route_table_association" "aviatrix_public" {
-  count          = var.hpe || var.native_peering ? 0 : 2
-  subnet_id      = azurerm_subnet.aviatrix_public[count.index].id
-  route_table_id = azurerm_route_table.aviatrix_public[0].id
-}
-
-resource "azurerm_subnet_route_table_association" "rta" {
-  for_each = {
-    for name, subnet in var.subnets : name => subnet
-  }
-  subnet_id      = azurerm_subnet.subnets[each.key].id
-  route_table_id = azurerm_route_table.customer_private[0].id
-}
-
-resource "aviatrix_spoke_gateway" "gw" {
-  count        = var.native_peering ? 0 : 1
-  cloud_type   = 8
-  account_name = var.account_name
-  #gw_name                           = "azure-${lower(replace(var.region, " ", "-"))}-${var.vnet_name}-gw"
-  #This gw_name function adds abbreviated region and converts avtx_cidr to hex e.g. "aws-usw1-0a330200-gw"
-  gw_name                           = "azu-${local.region[var.region]}-${join("", formatlist("%02x", split(".", split("/", var.avtx_cidr)[0])))}-gw"
-  vpc_id                            = join(":", [var.vnet_name, var.resource_group_name])
-  vpc_reg                           = var.region
-  insane_mode                       = var.hpe
-  gw_size                           = var.avtx_gw_size
-  ha_gw_size                        = var.avtx_gw_size
-  subnet                            = cidrsubnet(azurerm_virtual_network.spoke.address_space[1], 1, 0)
-  ha_subnet                         = cidrsubnet(azurerm_virtual_network.spoke.address_space[1], 1, 1)
-  zone                              = var.use_azs ? "az-1" : null
-  ha_zone                           = var.use_azs ? "az-2" : null
-  manage_transit_gateway_attachment = false
-  enable_active_mesh                = true
-  depends_on                        = [azurerm_subnet_route_table_association.aviatrix_public, azurerm_subnet.aviatrix_public]
-  lifecycle {
-    ignore_changes = [tags]
-  }
-}
-
-resource "aviatrix_spoke_transit_attachment" "attachment" {
-  count           = var.native_peering ? 0 : 1
-  spoke_gw_name   = aviatrix_spoke_gateway.gw[0].gw_name
-  #transit_gw_name = "azu-${local.region[var.region]}-transit-gw"
-  #my lab only:
-  transit_gw_name = "transit-for-nk"
-}
-
-resource "aviatrix_azure_spoke_native_peering" "spoke_native_peering" {
-  count                = var.native_peering ? 1 : 0
-  transit_gateway_name = "azure-${lower(replace(var.region, " ", "-"))}-transit-gw"
-  spoke_account_name   = var.account_name
-  spoke_region         = var.region
-  spoke_vpc_id         = join(":", [var.vnet_name, var.resource_group_name])
-}
+locals {
+  region = {
+    "East US"         = "use"
+    "West US"         = "usw"
+    "West US 2"       = "usw2"
+    "North Europe"    = "eun"
+    "West Europe"     = "euw"
+    "South East Asia" = "asse"
+    "Japan East"      = "jae"
+    "China East 2"    = "che2"
+    "China North 2"   = "chn2"
+  }
+}
+
+resource "azurerm_virtual_network" "spoke" {
+  name                = var.vnet_name
+  resource_group_name = var.resource_group_name
+  location            = var.region
+  address_space       = var.native_peering ? var.vnet_cidr : concat(var.vnet_cidr, [var.avtx_cidr])
+  lifecycle {
+    ignore_changes = [tags]
+  }
+}
+
+resource "azurerm_subnet" "aviatrix_public" {
+  count                = var.hpe || var.native_peering ? 0 : 2
+  name                 = count.index == 0 ? "aviatrix-spoke-gw" : "aviatrix-spoke-hagw"
+  resource_group_name  = var.resource_group_name
+  virtual_network_name = azurerm_virtual_network.spoke.name
+  address_prefixes     = [cidrsubnet(azurerm_virtual_network.spoke.address_space[1], 1, count.index)]
+}
+
+
+resource "azurerm_subnet" "subnets" {
+  for_each             = var.subnets
+  name                 = join("-", [substr(var.resource_group_name, 0, 2), replace(each.value.subnet_cidr, "/", "_"), each.key])
+  resource_group_name  = var.resource_group_name
+  virtual_network_name = azurerm_virtual_network.spoke.name
+  address_prefixes     = [each.value.subnet_cidr]
+  service_endpoints    = contains(keys(each.value), "service_endpoints") ? each.value.service_endpoints : []
+}
+
+resource "azurerm_route_table" "customer_private" {
+  count               = length(var.subnets) > 1 ? 2 : 1 
+  #name                = "${substr(var.vnet_name, 0, 7)}-rt-${lower(replace(var.region, " ", ""))}-public-01"
+  name                = "${var.vnet_name}-rt-private-0${count.index}"
+  location            = var.region
+  resource_group_name = var.resource_group_name
+  lifecycle {
+    ignore_changes = [tags]
+  }
+}
+
+resource "azurerm_route_table" "aviatrix_public" {
+  count               = var.hpe || var.native_peering ? 0 : 1
+  name                = "${substr(var.vnet_name, 0, 7)}-rt-${lower(replace(var.region, " ", ""))}-aviatrix-01"
+  location            = var.region
+  resource_group_name = var.resource_group_name
+  lifecycle {
+    ignore_changes = [tags]
+  }
+}
+
+resource "azurerm_subnet_route_table_association" "aviatrix_public" {
+  count          = var.hpe || var.native_peering ? 0 : 2
+  subnet_id      = azurerm_subnet.aviatrix_public[count.index].id
+  route_table_id = azurerm_route_table.aviatrix_public[0].id
+}
+
+resource "azurerm_subnet_route_table_association" "rta" {
+  for_each = {
+    for name, subnet in var.subnets : name => subnet
+  }
+  subnet_id      = azurerm_subnet.subnets[each.key].id
+  route_table_id = azurerm_route_table.customer_private[0].id
+}
+
+resource "aviatrix_spoke_gateway" "gw" {
+  count        = var.native_peering ? 0 : 1
+  cloud_type   = 8
+  account_name = var.account_name
+  #gw_name                           = "azure-${lower(replace(var.region, " ", "-"))}-${var.vnet_name}-gw"
+  #This gw_name function adds abbreviated region and converts avtx_cidr to hex e.g. "aws-usw1-0a330200-gw"
+  gw_name                           = "azu-${local.region[var.region]}-${join("", formatlist("%02x", split(".", split("/", var.avtx_cidr)[0])))}-gw"
+  vpc_id                            = join(":", [var.vnet_name, var.resource_group_name])
+  vpc_reg                           = var.region
+  insane_mode                       = var.hpe
+  gw_size                           = var.avtx_gw_size
+  ha_gw_size                        = var.avtx_gw_size
+  subnet                            = cidrsubnet(azurerm_virtual_network.spoke.address_space[1], 1, 0)
+  ha_subnet                         = cidrsubnet(azurerm_virtual_network.spoke.address_space[1], 1, 1)
+  zone                              = var.use_azs ? "az-1" : null
+  ha_zone                           = var.use_azs ? "az-2" : null
+  manage_transit_gateway_attachment = false
+  enable_active_mesh                = true
+  depends_on                        = [azurerm_subnet_route_table_association.aviatrix_public, azurerm_subnet.aviatrix_public]
+  lifecycle {
+    ignore_changes = [tags]
+  }
+}
+
+resource "aviatrix_spoke_transit_attachment" "attachment" {
+  count           = var.native_peering ? 0 : 1
+  spoke_gw_name   = aviatrix_spoke_gateway.gw[0].gw_name
+  #transit_gw_name = "azu-${local.region[var.region]}-transit-gw"
+  #my lab only:
+  transit_gw_name = "transit-for-nk"
+}
+
+resource "aviatrix_azure_spoke_native_peering" "spoke_native_peering" {
+  count                = var.native_peering ? 1 : 0
+  transit_gateway_name = "azure-${lower(replace(var.region, " ", "-"))}-transit-gw"
+  spoke_account_name   = var.account_name
+  spoke_region         = var.region
+  spoke_vpc_id         = join(":", [var.vnet_name, var.resource_group_name])
+}
```

## Comparing `aviatrix_migration-0.2.94.data/data/migration/discovery_migration/azure-module-example/terraform.tfvars` & `aviatrix_migration-0.2.95.data/data/migration/discovery_migration/azure-module-example/terraform.tfvars`

 * *Ordering differences only*

 * *Files 24% similar despite different names*

```diff
@@ -1,27 +1,27 @@
-vnet_name = "brown-field-test-01"
-vnet_cidr = ["10.13.80.0/24"]
-subnets = {
-  internal = {
-    subnet_cidr = "10.13.80.0/25"
-  }
-  dmz = {
-    subnet_cidr = "10.13.80.128/28"
-  }
-  netapp = {
-    subnet_cidr = "10.13.80.144/28"
-  }
-  sql = {
-    subnet_cidr = "10.13.80.160/28"
-  }
-  webserverfarms = {
-    subnet_cidr = "10.13.80.176/28"
-  }
-}
-avtx_cidr           = "10.52.6.0/25"
-hpe                 = true
-avtx_gw_size        = "Standard_D3_v2"
-native_peering      = false
-region              = "East US"
-use_azs             = false # Set to false if region above doesn't support AZs
-resource_group_name = "rg-av-spokes-in-here-129014" # Assumed as existing
-account_name        = "Azure-Sky"
+vnet_name = "brown-field-test-01"
+vnet_cidr = ["10.13.80.0/24"]
+subnets = {
+  internal = {
+    subnet_cidr = "10.13.80.0/25"
+  }
+  dmz = {
+    subnet_cidr = "10.13.80.128/28"
+  }
+  netapp = {
+    subnet_cidr = "10.13.80.144/28"
+  }
+  sql = {
+    subnet_cidr = "10.13.80.160/28"
+  }
+  webserverfarms = {
+    subnet_cidr = "10.13.80.176/28"
+  }
+}
+avtx_cidr           = "10.52.6.0/25"
+hpe                 = true
+avtx_gw_size        = "Standard_D3_v2"
+native_peering      = false
+region              = "East US"
+use_azs             = false # Set to false if region above doesn't support AZs
+resource_group_name = "rg-av-spokes-in-here-129014" # Assumed as existing
+account_name        = "Azure-Sky"
```

## Comparing `aviatrix_migration-0.2.94.data/data/migration/discovery_migration/azure_data/input.json` & `aviatrix_migration-0.2.95.data/data/migration/discovery_migration/azure_data/input.json`

 * *Format-specific differences are supported for JSON files but no file-specific differences were detected; falling back to a binary diff. file(1) reports: JSON text data*

 * *Files 17% similar despite different names*

```diff
@@ -1,37 +1,35 @@
-00000000: 7b0d 0a20 2022 5245 4749 4f4e 223a 207b  {..  "REGION": {
-00000010: 0d0a 2020 2020 2261 7573 7472 616c 6961  ..    "australia
-00000020: 6561 7374 223a 2022 4175 7374 7261 6c69  east": "Australi
-00000030: 6120 4561 7374 222c 0d0a 2020 2020 2277  a East",..    "w
-00000040: 6573 7475 7322 3a20 2257 6573 7420 5553  estus": "West US
-00000050: 222c 0d0a 2020 2020 2265 6173 7475 7322  ",..    "eastus"
-00000060: 3a20 2245 6173 7420 5553 222c 0d0a 2020  : "East US",..  
-00000070: 2020 2265 6173 7475 7332 223a 2022 4561    "eastus2": "Ea
-00000080: 7374 2055 5320 3222 2c0d 0a20 2020 2022  st US 2",..    "
-00000090: 6361 6e61 6461 6365 6e74 7261 6c22 3a20  canadacentral": 
-000000a0: 2243 616e 6164 6120 4365 6e74 7261 6c22  "Canada Central"
-000000b0: 2c0d 0a20 2020 2022 6365 6e74 7261 6c75  ,..    "centralu
-000000c0: 7322 3a20 2243 656e 7472 616c 2055 5322  s": "Central US"
-000000d0: 2c0d 0a20 2020 2022 736f 7574 6863 656e  ,..    "southcen
-000000e0: 7472 616c 7573 223a 2022 536f 7574 6820  tralus": "South 
-000000f0: 4365 6e74 7261 6c20 5553 222c 0d0a 2020  Central US",..  
-00000100: 2020 226e 6f72 7468 6365 6e74 7261 6c75    "northcentralu
-00000110: 7322 3a20 224e 6f72 7468 2043 656e 7472  s": "North Centr
-00000120: 616c 2055 5322 2c0d 0a20 2020 2022 7765  al US",..    "we
-00000130: 7374 7573 3222 3a20 2257 6573 7420 5553  stus2": "West US
-00000140: 2032 222c 0d0a 2020 2020 2277 6573 7475   2",..    "westu
-00000150: 7333 223a 2022 5765 7374 2055 5320 3322  s3": "West US 3"
-00000160: 2c0d 0a20 2020 2022 6e6f 7274 6865 7572  ,..    "northeur
-00000170: 6f70 6522 3a20 224e 6f72 7468 2045 7572  ope": "North Eur
-00000180: 6f70 6522 2c0d 0a20 2020 2022 7765 7374  ope",..    "west
-00000190: 6575 726f 7065 223a 2022 5765 7374 2045  europe": "West E
-000001a0: 7572 6f70 6522 2c0d 0a20 2020 2022 736f  urope",..    "so
-000001b0: 7574 6865 6173 7461 7369 6122 3a20 2253  utheastasia": "S
-000001c0: 6f75 7468 2045 6173 7420 4173 6961 222c  outh East Asia",
-000001d0: 0d0a 2020 2020 226a 6170 616e 6561 7374  ..    "japaneast
-000001e0: 223a 2022 4a61 7061 6e20 4561 7374 222c  ": "Japan East",
-000001f0: 0d0a 2020 2020 2263 6869 6e61 6561 7374  ..    "chinaeast
-00000200: 3222 3a20 2243 6869 6e61 2045 6173 7420  2": "China East 
-00000210: 3222 2c0d 0a20 2020 2022 6368 696e 616e  2",..    "chinan
-00000220: 6f72 7468 3222 3a20 2243 6869 6e61 204e  orth2": "China N
-00000230: 6f72 7468 2032 220d 0a20 207d 0d0a 7d0d  orth 2"..  }..}.
-00000240: 0a                                       .
+00000000: 7b0a 2020 2252 4547 494f 4e22 3a20 7b0a  {.  "REGION": {.
+00000010: 2020 2020 2261 7573 7472 616c 6961 6561      "australiaea
+00000020: 7374 223a 2022 4175 7374 7261 6c69 6120  st": "Australia 
+00000030: 4561 7374 222c 0a20 2020 2022 7765 7374  East",.    "west
+00000040: 7573 223a 2022 5765 7374 2055 5322 2c0a  us": "West US",.
+00000050: 2020 2020 2265 6173 7475 7322 3a20 2245      "eastus": "E
+00000060: 6173 7420 5553 222c 0a20 2020 2022 6561  ast US",.    "ea
+00000070: 7374 7573 3222 3a20 2245 6173 7420 5553  stus2": "East US
+00000080: 2032 222c 0a20 2020 2022 6361 6e61 6461   2",.    "canada
+00000090: 6365 6e74 7261 6c22 3a20 2243 616e 6164  central": "Canad
+000000a0: 6120 4365 6e74 7261 6c22 2c0a 2020 2020  a Central",.    
+000000b0: 2263 656e 7472 616c 7573 223a 2022 4365  "centralus": "Ce
+000000c0: 6e74 7261 6c20 5553 222c 0a20 2020 2022  ntral US",.    "
+000000d0: 736f 7574 6863 656e 7472 616c 7573 223a  southcentralus":
+000000e0: 2022 536f 7574 6820 4365 6e74 7261 6c20   "South Central 
+000000f0: 5553 222c 0a20 2020 2022 6e6f 7274 6863  US",.    "northc
+00000100: 656e 7472 616c 7573 223a 2022 4e6f 7274  entralus": "Nort
+00000110: 6820 4365 6e74 7261 6c20 5553 222c 0a20  h Central US",. 
+00000120: 2020 2022 7765 7374 7573 3222 3a20 2257     "westus2": "W
+00000130: 6573 7420 5553 2032 222c 0a20 2020 2022  est US 2",.    "
+00000140: 7765 7374 7573 3322 3a20 2257 6573 7420  westus3": "West 
+00000150: 5553 2033 222c 0a20 2020 2022 6e6f 7274  US 3",.    "nort
+00000160: 6865 7572 6f70 6522 3a20 224e 6f72 7468  heurope": "North
+00000170: 2045 7572 6f70 6522 2c0a 2020 2020 2277   Europe",.    "w
+00000180: 6573 7465 7572 6f70 6522 3a20 2257 6573  esteurope": "Wes
+00000190: 7420 4575 726f 7065 222c 0a20 2020 2022  t Europe",.    "
+000001a0: 736f 7574 6865 6173 7461 7369 6122 3a20  southeastasia": 
+000001b0: 2253 6f75 7468 2045 6173 7420 4173 6961  "South East Asia
+000001c0: 222c 0a20 2020 2022 6a61 7061 6e65 6173  ",.    "japaneas
+000001d0: 7422 3a20 224a 6170 616e 2045 6173 7422  t": "Japan East"
+000001e0: 2c0a 2020 2020 2263 6869 6e61 6561 7374  ,.    "chinaeast
+000001f0: 3222 3a20 2243 6869 6e61 2045 6173 7420  2": "China East 
+00000200: 3222 2c0a 2020 2020 2263 6869 6e61 6e6f  2",.    "chinano
+00000210: 7274 6832 223a 2022 4368 696e 6120 4e6f  rth2": "China No
+00000220: 7274 6820 3222 0a20 207d 0a7d 0a         rth 2".  }.}.
```

## Comparing `aviatrix_migration-0.2.94.data/data/migration/discovery_migration/vnet_template/env.tf` & `aviatrix_migration-0.2.95.data/data/migration/discovery_migration/vnet_template/env.tf`

 * *Ordering differences only*

 * *Files 23% similar despite different names*

```diff
@@ -1,40 +1,40 @@
-
-terraform {
-  backend "s3" {}
-}
-
-provider "aws" {
-  region = "us-west-2"
-  alias  = "us_west_2"
-}
-
-provider "azurerm" {
-  features {}
-  skip_provider_registration = true
-  version                    = "=2.46.0"
-  subscription_id            = "c071ec82-59ab-4825-8340-005741c5ff4e"
-  client_id                  = "f9ac510a-b663-46f1-8b82-05b4544fbe76"
-  client_secret              = data.aws_ssm_parameter.avx-azure-client-secret.value
-  tenant_id                  = "e299a644-a20f-492e-8471-57a29cac90c5"
-  alias                      = "az_sandbox_01"
-}
-
-provider "azurerm" {
-  features {}
-  skip_provider_registration = true
-  version                    = "=2.46.0"
-  subscription_id            = "7228b108-0a36-4ce6-8ea5-97815024a09a"
-  client_id                  = "f9ac510a-b663-46f1-8b82-05b4544fbe76"
-  client_secret              = data.aws_ssm_parameter.avx-azure-client-secret.value
-  tenant_id                  = "e299a644-a20f-492e-8471-57a29cac90c5"
-  alias                      = "s0_sub_core_01"
-}
-
-resource "aviatrix_account" "s0-sub-core-01" {
-  account_name        = "s0-sub-core-01"
-  cloud_type          = 8
-  arm_subscription_id = "7228b108-0a36-4ce6-8ea5-97815024a09a"
-  arm_directory_id    = "e299a644-a20f-492e-8471-57a29cac90c5"
-  arm_application_id  = "f9ac510a-b663-46f1-8b82-05b4544fbe76"
-  arm_application_key = data.aws_ssm_parameter.avx-azure-client-secret.value
-}
+
+terraform {
+  backend "s3" {}
+}
+
+provider "aws" {
+  region = "us-west-2"
+  alias  = "us_west_2"
+}
+
+provider "azurerm" {
+  features {}
+  skip_provider_registration = true
+  version                    = "=2.46.0"
+  subscription_id            = "c071ec82-59ab-4825-8340-005741c5ff4e"
+  client_id                  = "f9ac510a-b663-46f1-8b82-05b4544fbe76"
+  client_secret              = data.aws_ssm_parameter.avx-azure-client-secret.value
+  tenant_id                  = "e299a644-a20f-492e-8471-57a29cac90c5"
+  alias                      = "az_sandbox_01"
+}
+
+provider "azurerm" {
+  features {}
+  skip_provider_registration = true
+  version                    = "=2.46.0"
+  subscription_id            = "7228b108-0a36-4ce6-8ea5-97815024a09a"
+  client_id                  = "f9ac510a-b663-46f1-8b82-05b4544fbe76"
+  client_secret              = data.aws_ssm_parameter.avx-azure-client-secret.value
+  tenant_id                  = "e299a644-a20f-492e-8471-57a29cac90c5"
+  alias                      = "s0_sub_core_01"
+}
+
+resource "aviatrix_account" "s0-sub-core-01" {
+  account_name        = "s0-sub-core-01"
+  cloud_type          = 8
+  arm_subscription_id = "7228b108-0a36-4ce6-8ea5-97815024a09a"
+  arm_directory_id    = "e299a644-a20f-492e-8471-57a29cac90c5"
+  arm_application_id  = "f9ac510a-b663-46f1-8b82-05b4544fbe76"
+  arm_application_key = data.aws_ssm_parameter.avx-azure-client-secret.value
+}
```

## Comparing `aviatrix_migration-0.2.94.data/data/migration/discovery_migration/vnet_template/versions.tf` & `aviatrix_migration-0.2.95.data/data/migration/discovery_migration/vnet_template/versions.tf`

 * *Ordering differences only*

 * *Files 24% similar despite different names*

```diff
@@ -1,26 +1,26 @@
-terraform {
-  {% if data.tf_cloud %}
-  cloud {
-    organization = "{{data.tf_cloud.organization}}"
-    workspaces {
-      {% if data.tf_cloud.workspace_name %}
-      name = "{{data.tf_cloud.workspace_name}}"
-      {% else %}
-      tags = {{data.tf_cloud.tags}}
-      {% endif %}
-    }
-  }  
-  {% endif %}
-  required_providers {
-    azurerm = {
-      source  = "hashicorp/azurerm"
-      version = "{{data.arm_provider}}"
-    }
-
-    aviatrix = {
-      source  = "aviatrixsystems/aviatrix"
-      version = "{{data.aviatrix_provider}}"
-    }
-  }
-  required_version = "{{data.terraform_version}}"
-}
+terraform {
+  {% if data.tf_cloud %}
+  cloud {
+    organization = "{{data.tf_cloud.organization}}"
+    workspaces {
+      {% if data.tf_cloud.workspace_name %}
+      name = "{{data.tf_cloud.workspace_name}}"
+      {% else %}
+      tags = {{data.tf_cloud.tags}}
+      {% endif %}
+    }
+  }  
+  {% endif %}
+  required_providers {
+    azurerm = {
+      source  = "hashicorp/azurerm"
+      version = "{{data.arm_provider}}"
+    }
+
+    aviatrix = {
+      source  = "aviatrixsystems/aviatrix"
+      version = "{{data.aviatrix_provider}}"
+    }
+  }
+  required_version = "{{data.terraform_version}}"
+}
```

## Comparing `aviatrix_migration-0.2.94.data/data/migration/discovery_migration/vnet_template/module_arm_brownfield_spoke_vnet/main.tf` & `aviatrix_migration-0.2.95.data/data/migration/discovery_migration/vnet_template/module_arm_brownfield_spoke_vnet/main.tf`

 * *Ordering differences only*

 * *Files 16% similar despite different names*

```diff
@@ -1,248 +1,248 @@
-{% if not data.configure_gw_name %} 
-locals {
-  region = {
-    "East US"         = "use"
-    "Central US"      = "usc"
-    "West US"         = "usw"
-    "West US 2"       = "usw2"
-    "North Europe"    = "eun"
-    "West Europe"     = "euw"
-    "South East Asia" = "asse"
-    "Japan East"      = "jae"
-    "China East 2"    = "che2"
-    "China North 2"   = "chn2"
-  }
-}
-{% endif %}
-
-resource "azurerm_subnet" "aviatrix_public" {
-  count                = var.hpe ? 0 : 2
-  name                 = count.index == 0 ? "aviatrix-spoke-gw" : "aviatrix-spoke-hagw"
-  resource_group_name  = var.resource_group_name
-  virtual_network_name = var.vnet_name
-  address_prefixes     = [cidrsubnet(var.avtx_cidr, 1, count.index)]
-}
-
-resource "azurerm_route_table" "aviatrix_public" {
-  count                         = var.hpe ? 0 : 1
-  name                          = "${substr(var.vnet_name, 0, 7)}-rt-${lower(replace(var.region, " ", ""))}-aviatrix-01"
-  location                      = var.region
-  resource_group_name           = var.resource_group_name
-  disable_bgp_route_propagation = true
-
-  route {
-    name           = "default"
-    address_prefix = "0.0.0.0/0"
-    next_hop_type  = "Internet"
-  }
-
-  tags = {
-    "Name" = "aviatrix-${var.vnet_name}-gw"
-  }
-  lifecycle {
-    ignore_changes = [tags]
-  }
-}
-
-resource "azurerm_subnet_route_table_association" "aviatrix_public" {
-  count          = var.hpe ? 0 : 2
-  subnet_id      = azurerm_subnet.aviatrix_public[count.index].id
-  route_table_id = azurerm_route_table.aviatrix_public[0].id
-}
-
-resource "aviatrix_spoke_gateway" "gw" {
-  cloud_type   = 8
-  account_name = var.account_name
-{% if data.configure_gw_name %}
-  gw_name                           = var.spoke_gw_name
-{% else %}
-  #This gw_name function adds abbreviated region and converts avtx_cidr to hex e.g. "aws-usw1-0a330200-gw"
-  gw_name                           = "azu-${local.region[var.region]}-${join("", formatlist("%02x", split(".", split("/", var.avtx_cidr)[0])))}-gw"
-{% endif %}
-  vpc_id                            = join(":", [var.vnet_name, var.resource_group_name])
-  vpc_reg                           = var.region
-  insane_mode                       = var.hpe
-  gw_size                           = var.avtx_gw_size
-  ha_gw_size                        = var.avtx_gw_size
-  subnet                            = cidrsubnet(var.avtx_cidr, 1, 0)
-  ha_subnet                         = cidrsubnet(var.avtx_cidr, 1, 1)
-  zone                              = var.use_azs ? "az-1" : null
-  ha_zone                           = var.use_azs ? "az-2" : null
-{% if not data.configure_subnet_groups %}
-  included_advertised_spoke_routes  = var.switch_traffic ? join(",", var.vnet_cidr) : var.avtx_cidr
-{% endif %}
-{% if data.pre_v3_0_0 %}
-  manage_transit_gateway_attachment = false
-{% endif %}
-{% if data.pre_v2_21_0 %}
-  enable_active_mesh                = true
-{% endif %}
-  single_az_ha                      = true
-  depends_on                        = [azurerm_subnet_route_table_association.aviatrix_public, azurerm_subnet.aviatrix_public]
-  tags                              = var.tags
-  lifecycle {
-    ignore_changes = [tags]
-  }
-}
-
-resource "aviatrix_spoke_transit_attachment" "attachment" {
-{% if not data.configure_staging_attachment %}
-  count = var.switch_traffic ? 1 : 0
-{% endif %}
-  spoke_gw_name   = aviatrix_spoke_gateway.gw.gw_name
-{% if data.configure_gw_name %}
-  transit_gw_name = var.transit_gw
-{% else %}
-  transit_gw_name = "azu-${local.region[var.region]}-transit-gw"
-{% endif %}
-{% if not data.pre_v2_22_3 %}
-  enable_max_performance = var.hpe ? var.max_hpe_performance : null
-{% endif %}
-{% if not data.configure_subnet_groups %}
-  route_tables    = local.all_rts
-{% endif %}
-}
-
-resource "azurerm_route_table" "aviatrix_managed_main" {
-  count                         = var.main_rt_count
-  name                          = "${var.vnet_name}-main-${count.index + 1}"
-  location                      = var.region
-  resource_group_name           = var.resource_group_name
-  disable_bgp_route_propagation = var.disable_bgp_propagation
-  lifecycle {
-    ignore_changes = [tags]
-  }
-}
-
-resource "aviatrix_transit_firenet_policy" "spoke" {
-{% if data.configure_staging_attachment %}
-  count                        = var.inspection ? 1 : 0
-  transit_firenet_gateway_name = aviatrix_spoke_transit_attachment.attachment.transit_gw_name
-{% else %}
-  count                        = var.switch_traffic ? (var.inspection ? 1 : 0) : 0
-  transit_firenet_gateway_name = aviatrix_spoke_transit_attachment.attachment[0].transit_gw_name
-{% endif %}
-
-  inspected_resource_name      = "SPOKE:${aviatrix_spoke_gateway.gw.gw_name}"
-}
-
-{% if data.pre_v2_23_0 %}
-resource "aviatrix_segmentation_security_domain_association" "spoke" {
-  {% if data.configure_staging_attachment %}
-  count                = var.domain != "" ? 1 : 0
-  transit_gateway_name = aviatrix_spoke_transit_attachment.attachment.transit_gw_name
-  {% else %}
-  count                = var.switch_traffic ? (var.domain != "" ? 1 : 0) : 0
-  transit_gateway_name = aviatrix_spoke_transit_attachment.attachment[0].transit_gw_name
-  {% endif %}
-
-  security_domain_name = var.domain
-  attachment_name      = aviatrix_spoke_gateway.gw.gw_name
-}
-{% else %}
-resource "aviatrix_segmentation_network_domain_association" "spoke" {
-  {% if data.configure_staging_attachment %}
-  count                = var.domain != "" ? 1 : 0
-  transit_gateway_name = aviatrix_spoke_transit_attachment.attachment.transit_gw_name
-  {% else %}
-  count                = var.switch_traffic ? (var.domain != "" ? 1 : 0) : 0
-  transit_gateway_name = aviatrix_spoke_transit_attachment.attachment[0].transit_gw_name
-  {% endif %}
-
-  network_domain_name  = var.domain
-  attachment_name      = aviatrix_spoke_gateway.gw.gw_name
-}
-{% endif %}
-
-{% if data.configure_private_subnet %}
-resource "azurerm_route" "aviatrix_managed_main_route" {
-  count                  = var.switch_traffic ? 0 : var.main_rt_count
-  name                   = "default"
-  resource_group_name    = var.resource_group_name
-  route_table_name       = azurerm_route_table.aviatrix_managed_main[count.index].name
-  address_prefix         = "0.0.0.0/0"
-  next_hop_type          = "None"
-}
-{% endif %}
-
-resource "azurerm_route_table" "aviatrix_managed" {
-  for_each = var.route_tables
-
-  name                          = each.key
-  location                      = var.region
-  resource_group_name           = var.resource_group_name
-  disable_bgp_route_propagation = each.value.disable_bgp_propagation
-  tags                          = merge(each.value.tags, { Org_RT = each.key })
-  lifecycle {
-    ignore_changes = [tags]
-  }
-}
-
-resource "azurerm_route" "pre_migration" {
-  for_each = {
-    for route in local.routes : "${route.destination}.${route.key}" => route
-    if route["target"] != "VNet peering" && route["target"] != "VirtualNetworkServiceEndpoint"
-  }
-  name                   = each.value.name
-  resource_group_name    = var.resource_group_name
-  route_table_name       = azurerm_route_table.aviatrix_managed[each.value.key].name
-  address_prefix         = each.value.destination
-  next_hop_type          = each.value.type
-  next_hop_in_ip_address = each.value.type == "VirtualAppliance" ? each.value.target : null
-
-  # You cannot specify VNet peering or VirtualNetworkServiceEndpoint as the next hop type in user-defined routes
-}
-
-locals {
-  managed_mains = [
-    for x in azurerm_route_table.aviatrix_managed_main : "${x.name}:${x.resource_group_name}"
-  ]
-  managed_rts = [for rt_key, rt in var.route_tables : "${rt_key}:${var.resource_group_name}"]
-  all_rts     = concat(local.managed_mains, local.managed_rts)
-  routes = flatten([
-    for rt_key, rt_val in var.route_tables : [
-      for route in rt_val.routes : {
-        key         = rt_key
-        destination = route.destination
-        target      = route.target
-        type        = route.type
-        name        = route.name
-      }
-{% if data.configure_private_subnet %}
-      if (var.switch_traffic && route.destination != "0.0.0.0/0") || !var.switch_traffic
-{% endif %}
-    ]
-  ])
-}
-
-locals {
-  actions = {
-    "Microsoft.Netapp/volumes"  = ["Microsoft.Network/networkinterfaces/*", "Microsoft.Network/virtualNetworks/subnets/join/action"]
-    "Microsoft.Web/serverFarms" = ["Microsoft.Network/virtualNetworks/subnets/action"]
-    "Microsoft.Sql/managedInstances" = [
-      "Microsoft.Network/virtualNetworks/subnets/join/action",
-      "Microsoft.Network/virtualNetworks/subnets/prepareNetworkPolicies/action",
-      "Microsoft.Network/virtualNetworks/subnets/unprepareNetworkPolicies/action"
-    ]
-  }
-}
-
-{% if data.configure_subnet_groups %}
-
-resource "aviatrix_spoke_gateway_subnet_group" "subnet_group" {
-  for_each = var.switch_traffic ? var.subnet_groups : {}
-  name    = each.value.group_name
-  gw_name = aviatrix_spoke_gateway.gw.gw_name
-  subnets = [ "${each.value.cidr}~~${each.value.subnet_name}" ]
-
-  depends_on = [ aviatrix_spoke_transit_attachment.attachment ]
-}
-
-resource "aviatrix_transit_firenet_policy" "subnet_group_policy" {
-  for_each = var.switch_traffic ? toset(var.inspected_subnet_groups) : []
-  transit_firenet_gateway_name = var.transit_gw
-  inspected_resource_name = "SPOKE_SUBNET_GROUP:${aviatrix_spoke_gateway.gw.gw_name}~~${each.value}"
-  depends_on = [  aviatrix_spoke_gateway_subnet_group.subnet_group ]
-}
-
+{% if not data.configure_gw_name %} 
+locals {
+  region = {
+    "East US"         = "use"
+    "Central US"      = "usc"
+    "West US"         = "usw"
+    "West US 2"       = "usw2"
+    "North Europe"    = "eun"
+    "West Europe"     = "euw"
+    "South East Asia" = "asse"
+    "Japan East"      = "jae"
+    "China East 2"    = "che2"
+    "China North 2"   = "chn2"
+  }
+}
+{% endif %}
+
+resource "azurerm_subnet" "aviatrix_public" {
+  count                = var.hpe ? 0 : 2
+  name                 = count.index == 0 ? "aviatrix-spoke-gw" : "aviatrix-spoke-hagw"
+  resource_group_name  = var.resource_group_name
+  virtual_network_name = var.vnet_name
+  address_prefixes     = [cidrsubnet(var.avtx_cidr, 1, count.index)]
+}
+
+resource "azurerm_route_table" "aviatrix_public" {
+  count                         = var.hpe ? 0 : 1
+  name                          = "${substr(var.vnet_name, 0, 7)}-rt-${lower(replace(var.region, " ", ""))}-aviatrix-01"
+  location                      = var.region
+  resource_group_name           = var.resource_group_name
+  disable_bgp_route_propagation = true
+
+  route {
+    name           = "default"
+    address_prefix = "0.0.0.0/0"
+    next_hop_type  = "Internet"
+  }
+
+  tags = {
+    "Name" = "aviatrix-${var.vnet_name}-gw"
+  }
+  lifecycle {
+    ignore_changes = [tags]
+  }
+}
+
+resource "azurerm_subnet_route_table_association" "aviatrix_public" {
+  count          = var.hpe ? 0 : 2
+  subnet_id      = azurerm_subnet.aviatrix_public[count.index].id
+  route_table_id = azurerm_route_table.aviatrix_public[0].id
+}
+
+resource "aviatrix_spoke_gateway" "gw" {
+  cloud_type   = 8
+  account_name = var.account_name
+{% if data.configure_gw_name %}
+  gw_name                           = var.spoke_gw_name
+{% else %}
+  #This gw_name function adds abbreviated region and converts avtx_cidr to hex e.g. "aws-usw1-0a330200-gw"
+  gw_name                           = "azu-${local.region[var.region]}-${join("", formatlist("%02x", split(".", split("/", var.avtx_cidr)[0])))}-gw"
+{% endif %}
+  vpc_id                            = join(":", [var.vnet_name, var.resource_group_name])
+  vpc_reg                           = var.region
+  insane_mode                       = var.hpe
+  gw_size                           = var.avtx_gw_size
+  ha_gw_size                        = var.avtx_gw_size
+  subnet                            = cidrsubnet(var.avtx_cidr, 1, 0)
+  ha_subnet                         = cidrsubnet(var.avtx_cidr, 1, 1)
+  zone                              = var.use_azs ? "az-1" : null
+  ha_zone                           = var.use_azs ? "az-2" : null
+{% if not data.configure_subnet_groups %}
+  included_advertised_spoke_routes  = var.switch_traffic ? join(",", var.vnet_cidr) : var.avtx_cidr
+{% endif %}
+{% if data.pre_v3_0_0 %}
+  manage_transit_gateway_attachment = false
+{% endif %}
+{% if data.pre_v2_21_0 %}
+  enable_active_mesh                = true
+{% endif %}
+  single_az_ha                      = true
+  depends_on                        = [azurerm_subnet_route_table_association.aviatrix_public, azurerm_subnet.aviatrix_public]
+  tags                              = var.tags
+  lifecycle {
+    ignore_changes = [tags]
+  }
+}
+
+resource "aviatrix_spoke_transit_attachment" "attachment" {
+{% if not data.configure_staging_attachment %}
+  count = var.switch_traffic ? 1 : 0
+{% endif %}
+  spoke_gw_name   = aviatrix_spoke_gateway.gw.gw_name
+{% if data.configure_gw_name %}
+  transit_gw_name = var.transit_gw
+{% else %}
+  transit_gw_name = "azu-${local.region[var.region]}-transit-gw"
+{% endif %}
+{% if not data.pre_v2_22_3 %}
+  enable_max_performance = var.hpe ? var.max_hpe_performance : null
+{% endif %}
+{% if not data.configure_subnet_groups %}
+  route_tables    = local.all_rts
+{% endif %}
+}
+
+resource "azurerm_route_table" "aviatrix_managed_main" {
+  count                         = var.main_rt_count
+  name                          = "${var.vnet_name}-main-${count.index + 1}"
+  location                      = var.region
+  resource_group_name           = var.resource_group_name
+  disable_bgp_route_propagation = var.disable_bgp_propagation
+  lifecycle {
+    ignore_changes = [tags]
+  }
+}
+
+resource "aviatrix_transit_firenet_policy" "spoke" {
+{% if data.configure_staging_attachment %}
+  count                        = var.inspection ? 1 : 0
+  transit_firenet_gateway_name = aviatrix_spoke_transit_attachment.attachment.transit_gw_name
+{% else %}
+  count                        = var.switch_traffic ? (var.inspection ? 1 : 0) : 0
+  transit_firenet_gateway_name = aviatrix_spoke_transit_attachment.attachment[0].transit_gw_name
+{% endif %}
+
+  inspected_resource_name      = "SPOKE:${aviatrix_spoke_gateway.gw.gw_name}"
+}
+
+{% if data.pre_v2_23_0 %}
+resource "aviatrix_segmentation_security_domain_association" "spoke" {
+  {% if data.configure_staging_attachment %}
+  count                = var.domain != "" ? 1 : 0
+  transit_gateway_name = aviatrix_spoke_transit_attachment.attachment.transit_gw_name
+  {% else %}
+  count                = var.switch_traffic ? (var.domain != "" ? 1 : 0) : 0
+  transit_gateway_name = aviatrix_spoke_transit_attachment.attachment[0].transit_gw_name
+  {% endif %}
+
+  security_domain_name = var.domain
+  attachment_name      = aviatrix_spoke_gateway.gw.gw_name
+}
+{% else %}
+resource "aviatrix_segmentation_network_domain_association" "spoke" {
+  {% if data.configure_staging_attachment %}
+  count                = var.domain != "" ? 1 : 0
+  transit_gateway_name = aviatrix_spoke_transit_attachment.attachment.transit_gw_name
+  {% else %}
+  count                = var.switch_traffic ? (var.domain != "" ? 1 : 0) : 0
+  transit_gateway_name = aviatrix_spoke_transit_attachment.attachment[0].transit_gw_name
+  {% endif %}
+
+  network_domain_name  = var.domain
+  attachment_name      = aviatrix_spoke_gateway.gw.gw_name
+}
+{% endif %}
+
+{% if data.configure_private_subnet %}
+resource "azurerm_route" "aviatrix_managed_main_route" {
+  count                  = var.switch_traffic ? 0 : var.main_rt_count
+  name                   = "default"
+  resource_group_name    = var.resource_group_name
+  route_table_name       = azurerm_route_table.aviatrix_managed_main[count.index].name
+  address_prefix         = "0.0.0.0/0"
+  next_hop_type          = "None"
+}
+{% endif %}
+
+resource "azurerm_route_table" "aviatrix_managed" {
+  for_each = var.route_tables
+
+  name                          = each.key
+  location                      = var.region
+  resource_group_name           = var.resource_group_name
+  disable_bgp_route_propagation = each.value.disable_bgp_propagation
+  tags                          = merge(each.value.tags, { Org_RT = each.key })
+  lifecycle {
+    ignore_changes = [tags]
+  }
+}
+
+resource "azurerm_route" "pre_migration" {
+  for_each = {
+    for route in local.routes : "${route.destination}.${route.key}" => route
+    if route["target"] != "VNet peering" && route["target"] != "VirtualNetworkServiceEndpoint"
+  }
+  name                   = each.value.name
+  resource_group_name    = var.resource_group_name
+  route_table_name       = azurerm_route_table.aviatrix_managed[each.value.key].name
+  address_prefix         = each.value.destination
+  next_hop_type          = each.value.type
+  next_hop_in_ip_address = each.value.type == "VirtualAppliance" ? each.value.target : null
+
+  # You cannot specify VNet peering or VirtualNetworkServiceEndpoint as the next hop type in user-defined routes
+}
+
+locals {
+  managed_mains = [
+    for x in azurerm_route_table.aviatrix_managed_main : "${x.name}:${x.resource_group_name}"
+  ]
+  managed_rts = [for rt_key, rt in var.route_tables : "${rt_key}:${var.resource_group_name}"]
+  all_rts     = concat(local.managed_mains, local.managed_rts)
+  routes = flatten([
+    for rt_key, rt_val in var.route_tables : [
+      for route in rt_val.routes : {
+        key         = rt_key
+        destination = route.destination
+        target      = route.target
+        type        = route.type
+        name        = route.name
+      }
+{% if data.configure_private_subnet %}
+      if (var.switch_traffic && route.destination != "0.0.0.0/0") || !var.switch_traffic
+{% endif %}
+    ]
+  ])
+}
+
+locals {
+  actions = {
+    "Microsoft.Netapp/volumes"  = ["Microsoft.Network/networkinterfaces/*", "Microsoft.Network/virtualNetworks/subnets/join/action"]
+    "Microsoft.Web/serverFarms" = ["Microsoft.Network/virtualNetworks/subnets/action"]
+    "Microsoft.Sql/managedInstances" = [
+      "Microsoft.Network/virtualNetworks/subnets/join/action",
+      "Microsoft.Network/virtualNetworks/subnets/prepareNetworkPolicies/action",
+      "Microsoft.Network/virtualNetworks/subnets/unprepareNetworkPolicies/action"
+    ]
+  }
+}
+
+{% if data.configure_subnet_groups %}
+
+resource "aviatrix_spoke_gateway_subnet_group" "subnet_group" {
+  for_each = var.switch_traffic ? var.subnet_groups : {}
+  name    = each.value.group_name
+  gw_name = aviatrix_spoke_gateway.gw.gw_name
+  subnets = [ "${each.value.cidr}~~${each.value.subnet_name}" ]
+
+  depends_on = [ aviatrix_spoke_transit_attachment.attachment ]
+}
+
+resource "aviatrix_transit_firenet_policy" "subnet_group_policy" {
+  for_each = var.switch_traffic ? toset(var.inspected_subnet_groups) : []
+  transit_firenet_gateway_name = var.transit_gw
+  inspected_resource_name = "SPOKE_SUBNET_GROUP:${aviatrix_spoke_gateway.gw.gw_name}~~${each.value}"
+  depends_on = [  aviatrix_spoke_gateway_subnet_group.subnet_group ]
+}
+
 {% endif %}
```

## Comparing `aviatrix_migration-0.2.94.data/data/migration/discovery_migration/vnet_template/module_arm_brownfield_spoke_vnet/variables.tf` & `aviatrix_migration-0.2.95.data/data/migration/discovery_migration/vnet_template/module_arm_brownfield_spoke_vnet/variables.tf`

 * *Ordering differences only*

 * *Files 20% similar despite different names*

```diff
@@ -1,81 +1,81 @@
-variable "region" {}
-variable "account_name" {}
-variable "resource_group_name" {}
-variable "vnet_name" {}
-variable "vnet_cidr" {
-  description = "CIDR used by the applications"
-}
-variable "avtx_cidr" {
-  default     = ""
-  description = "CIDR used by the Aviatrix gateways"
-}
-variable "avtx_gw_size" {}
-variable "hpe" {
-  default = true
-}
-variable "use_azs" {
-  type = bool
-}
-variable "route_tables" {}
-
-variable "main_rt_count" {
-  description = "Number of aviatrix main route table required.  It is assigned to subnet without a user-defined route table"
-  type        = number
-  default     = 2
-}
-
-variable "switch_traffic" {
-  type    = bool
-  default = false
-}
-variable "disable_bgp_propagation" {
-  type        = bool
-  default     = true
-  description = "Used to configure aviatrix_managed_main RTs"
-}
-variable "spoke_gw_name" {
-  default = ""
-}
-variable "transit_gw" {
-  default = ""
-}
-variable "tags" {
-  description = "Map of tags to assign to the gateway."
-  type        = map(any)
-  default     = null
-}
-
-variable "domain" {
-  description = "Provide security domain name to which spoke needs to be deployed. Transit gateway mus tbe attached and have segmentation enabled."
-  type        = string
-  default     = ""
-}
-
-variable "inspection" {
-  description = "Set to true to enable east/west Firenet inspection. Only valid when transit_gw is East/West transit Firenet"
-  type        = bool
-  default     = false
-}
-
-{% if not data.pre_v2_22_3 %}
-variable "max_hpe_performance" {
-  type        = bool
-  default     = true
-  description = "False causes creation of only one spoke-transit tunnel (4 total) over a private peering"
-}
-
-{% endif %}
-
-{% if data.configure_subnet_groups %}
-variable "subnet_groups" {
-}
-variable "inspected_subnet_groups" {}
-{% endif %}
-
-output azurerm_route_table_aviatrix_managed {
-  value = azurerm_route_table.aviatrix_managed
-}
-
-output azurerm_route_table_aviatrix_managed_main {
-  value = azurerm_route_table.aviatrix_managed_main
+variable "region" {}
+variable "account_name" {}
+variable "resource_group_name" {}
+variable "vnet_name" {}
+variable "vnet_cidr" {
+  description = "CIDR used by the applications"
+}
+variable "avtx_cidr" {
+  default     = ""
+  description = "CIDR used by the Aviatrix gateways"
+}
+variable "avtx_gw_size" {}
+variable "hpe" {
+  default = true
+}
+variable "use_azs" {
+  type = bool
+}
+variable "route_tables" {}
+
+variable "main_rt_count" {
+  description = "Number of aviatrix main route table required.  It is assigned to subnet without a user-defined route table"
+  type        = number
+  default     = 2
+}
+
+variable "switch_traffic" {
+  type    = bool
+  default = false
+}
+variable "disable_bgp_propagation" {
+  type        = bool
+  default     = true
+  description = "Used to configure aviatrix_managed_main RTs"
+}
+variable "spoke_gw_name" {
+  default = ""
+}
+variable "transit_gw" {
+  default = ""
+}
+variable "tags" {
+  description = "Map of tags to assign to the gateway."
+  type        = map(any)
+  default     = null
+}
+
+variable "domain" {
+  description = "Provide security domain name to which spoke needs to be deployed. Transit gateway mus tbe attached and have segmentation enabled."
+  type        = string
+  default     = ""
+}
+
+variable "inspection" {
+  description = "Set to true to enable east/west Firenet inspection. Only valid when transit_gw is East/West transit Firenet"
+  type        = bool
+  default     = false
+}
+
+{% if not data.pre_v2_22_3 %}
+variable "max_hpe_performance" {
+  type        = bool
+  default     = true
+  description = "False causes creation of only one spoke-transit tunnel (4 total) over a private peering"
+}
+
+{% endif %}
+
+{% if data.configure_subnet_groups %}
+variable "subnet_groups" {
+}
+variable "inspected_subnet_groups" {}
+{% endif %}
+
+output azurerm_route_table_aviatrix_managed {
+  value = azurerm_route_table.aviatrix_managed
+}
+
+output azurerm_route_table_aviatrix_managed_main {
+  value = azurerm_route_table.aviatrix_managed_main
 }
```

## Comparing `aviatrix_migration-0.2.94.data/data/migration/discovery_migration/vpc_template/main.tf` & `aviatrix_migration-0.2.95.data/data/migration/discovery_migration/aws/nameless/main.tf`

 * *Ordering differences only*

 * *Files 19% similar despite different names*

```diff
@@ -1,18 +1,18 @@
-data "aws_ssm_parameter" "avx-password" {
-  name     = "avx-admin-password"
-  provider = aws.us_west_2
-}
-
-resource "aviatrix_account" "aws_customer" {
-  account_name       = "aws-$${var.aws_account}"
-  cloud_type         = 1
-  aws_account_number = var.aws_account
-  aws_iam            = true
-  audit_account      = false
-  aws_role_app       = "arn:aws:iam::$${var.aws_account}:role/$${var.ctrl_role_app}"
-  aws_role_ec2       = "arn:aws:iam::$${var.aws_ctrl_account}:role/$${var.ctrl_role_ec2}"
-  aws_gateway_role_app       = "arn:aws:iam::$${var.aws_account}:role/$${var.gateway_role_app}"
-  aws_gateway_role_ec2       = "arn:aws:iam::$${var.aws_account}:role/$${var.gateway_role_ec2}"
-}
-
+data "aws_ssm_parameter" "avx-password" {
+  name     = "avx-admin-password"
+  provider = aws.us_west_2
+}
+
+resource "aviatrix_account" "aws_customer" {
+  account_name       = "aws-$${var.aws_account}"
+  cloud_type         = 1
+  aws_account_number = var.aws_account
+  aws_iam            = true
+  audit_account      = false
+  aws_role_app       = "arn:aws:iam::$${var.aws_account}:role/$${var.ctrl_role_app}"
+  aws_role_ec2       = "arn:aws:iam::$${var.aws_ctrl_account}:role/$${var.ctrl_role_ec2}"
+  aws_gateway_role_app       = "arn:aws:iam::$${var.aws_account}:role/$${var.gateway_role_app}"
+  aws_gateway_role_ec2       = "arn:aws:iam::$${var.aws_account}:role/$${var.gateway_role_ec2}"
+}
+
 $s3_backend
```

## Comparing `aviatrix_migration-0.2.94.data/data/migration/discovery_migration/vpc_template/providers.tf` & `aviatrix_migration-0.2.95.data/data/migration/discovery_migration/aws/generic/providers.tf`

 * *Ordering differences only*

 * *Files 23% similar despite different names*

```diff
@@ -1,161 +1,161 @@
-provider "aws" {
-  region = "us-west-2"
-  alias  = "us_west_2"
-}
-
-provider "aviatrix" {
-  username      = "admin"
-  password      = data.aws_ssm_parameter.avx-password.value
-  controller_ip = var.controller_ip
-}
-
-locals {
-  role_arn = "arn:aws:iam::${var.aws_account}:role/${var.aws_account_role}"
-}
-
-provider "aws" {
-  region              = "us-east-1"
-  alias               = "spoke_us_east_1"
-  allowed_account_ids = [var.aws_account]
-  assume_role { role_arn = local.role_arn }
-}
-
-provider "aws" {
-  region              = "us-east-2"
-  alias               = "spoke_us_east_2"
-  allowed_account_ids = [var.aws_account]
-  assume_role { role_arn = local.role_arn }
-}
-
-provider "aws" {
-  region              = "us-west-1"
-  alias               = "spoke_us_west_1"
-  allowed_account_ids = [var.aws_account]
-  assume_role { role_arn = local.role_arn }
-}
-
-provider "aws" {
-  region              = "us-west-2"
-  alias               = "spoke_us_west_2"
-  allowed_account_ids = [var.aws_account]
-  assume_role { role_arn = local.role_arn }
-}
-
-provider "aws" {
-  region              = "af-south-1"
-  alias               = "spoke_af_south_1"
-  allowed_account_ids = [var.aws_account]
-  assume_role { role_arn = local.role_arn }
-}
-
-provider "aws" {
-  region              = "ap-east-1"
-  alias               = "spoke_ap_east_1"
-  allowed_account_ids = [var.aws_account]
-  assume_role { role_arn = local.role_arn }
-}
-
-provider "aws" {
-  region              = "ap-south-1"
-  alias               = "spoke_ap_south_1"
-  allowed_account_ids = [var.aws_account]
-  assume_role { role_arn = local.role_arn }
-}
-
-provider "aws" {
-  region              = "ap-northeast-1"
-  alias               = "spoke_ap_northeast_1"
-  allowed_account_ids = [var.aws_account]
-  assume_role { role_arn = local.role_arn }
-}
-
-provider "aws" {
-  region              = "ap-northeast-2"
-  alias               = "spoke_ap_northeast_2"
-  allowed_account_ids = [var.aws_account]
-  assume_role { role_arn = local.role_arn }
-}
-
-provider "aws" {
-  region              = "ap-northeast-3"
-  alias               = "spoke_ap_northeast_3"
-  allowed_account_ids = [var.aws_account]
-  assume_role { role_arn = local.role_arn }
-}
-
-provider "aws" {
-  region              = "ap-southeast-1"
-  alias               = "spoke_ap_southeast_1"
-  allowed_account_ids = [var.aws_account]
-  assume_role { role_arn = local.role_arn }
-}
-
-provider "aws" {
-  region              = "ap-southeast-2"
-  alias               = "spoke_ap_southeast_2"
-  allowed_account_ids = [var.aws_account]
-  assume_role { role_arn = local.role_arn }
-}
-
-provider "aws" {
-  region              = "ca-central-1"
-  alias               = "spoke_ca_central_1"
-  allowed_account_ids = [var.aws_account]
-  assume_role { role_arn = local.role_arn }
-}
-
-provider "aws" {
-  region              = "eu-central-1"
-  alias               = "spoke_eu_central_1"
-  allowed_account_ids = [var.aws_account]
-  assume_role { role_arn = local.role_arn }
-}
-
-provider "aws" {
-  region              = "eu-west-1"
-  alias               = "spoke_eu_west_1"
-  allowed_account_ids = [var.aws_account]
-  assume_role { role_arn = local.role_arn }
-}
-
-provider "aws" {
-  region              = "eu-west-2"
-  alias               = "spoke_eu_west_2"
-  allowed_account_ids = [var.aws_account]
-  assume_role { role_arn = local.role_arn }
-}
-
-provider "aws" {
-  region              = "eu-west-3"
-  alias               = "spoke_eu_west_3"
-  allowed_account_ids = [var.aws_account]
-  assume_role { role_arn = local.role_arn }
-}
-
-provider "aws" {
-  region              = "eu-south-1"
-  alias               = "spoke_eu_south_1"
-  allowed_account_ids = [var.aws_account]
-  assume_role { role_arn = local.role_arn }
-}
-
-provider "aws" {
-  region              = "eu-north-1"
-  alias               = "spoke_eu_north_1"
-  allowed_account_ids = [var.aws_account]
-  assume_role { role_arn = local.role_arn }
-}
-
-provider "aws" {
-  region              = "me-south-1"
-  alias               = "spoke_me_south_1"
-  allowed_account_ids = [var.aws_account]
-  assume_role { role_arn = local.role_arn }
-}
-
-provider "aws" {
-  region              = "sa-east-1"
-  alias               = "spoke_sa_east_1"
-  allowed_account_ids = [var.aws_account]
-  assume_role { role_arn = local.role_arn }
+provider "aws" {
+  region = "us-west-2"
+  alias  = "us_west_2"
+}
+
+provider "aviatrix" {
+  username      = "admin"
+  password      = data.aws_ssm_parameter.avx-password.value
+  controller_ip = var.controller_ip
+}
+
+locals {
+  role_arn = "arn:aws:iam::${var.aws_account}:role/${var.aws_account_role}"
+}
+
+provider "aws" {
+  region              = "us-east-1"
+  alias               = "spoke_us_east_1"
+  allowed_account_ids = [var.aws_account]
+  assume_role { role_arn = local.role_arn }
+}
+
+provider "aws" {
+  region              = "us-east-2"
+  alias               = "spoke_us_east_2"
+  allowed_account_ids = [var.aws_account]
+  assume_role { role_arn = local.role_arn }
+}
+
+provider "aws" {
+  region              = "us-west-1"
+  alias               = "spoke_us_west_1"
+  allowed_account_ids = [var.aws_account]
+  assume_role { role_arn = local.role_arn }
+}
+
+provider "aws" {
+  region              = "us-west-2"
+  alias               = "spoke_us_west_2"
+  allowed_account_ids = [var.aws_account]
+  assume_role { role_arn = local.role_arn }
+}
+
+provider "aws" {
+  region              = "af-south-1"
+  alias               = "spoke_af_south_1"
+  allowed_account_ids = [var.aws_account]
+  assume_role { role_arn = local.role_arn }
+}
+
+provider "aws" {
+  region              = "ap-east-1"
+  alias               = "spoke_ap_east_1"
+  allowed_account_ids = [var.aws_account]
+  assume_role { role_arn = local.role_arn }
+}
+
+provider "aws" {
+  region              = "ap-south-1"
+  alias               = "spoke_ap_south_1"
+  allowed_account_ids = [var.aws_account]
+  assume_role { role_arn = local.role_arn }
+}
+
+provider "aws" {
+  region              = "ap-northeast-1"
+  alias               = "spoke_ap_northeast_1"
+  allowed_account_ids = [var.aws_account]
+  assume_role { role_arn = local.role_arn }
+}
+
+provider "aws" {
+  region              = "ap-northeast-2"
+  alias               = "spoke_ap_northeast_2"
+  allowed_account_ids = [var.aws_account]
+  assume_role { role_arn = local.role_arn }
+}
+
+provider "aws" {
+  region              = "ap-northeast-3"
+  alias               = "spoke_ap_northeast_3"
+  allowed_account_ids = [var.aws_account]
+  assume_role { role_arn = local.role_arn }
+}
+
+provider "aws" {
+  region              = "ap-southeast-1"
+  alias               = "spoke_ap_southeast_1"
+  allowed_account_ids = [var.aws_account]
+  assume_role { role_arn = local.role_arn }
+}
+
+provider "aws" {
+  region              = "ap-southeast-2"
+  alias               = "spoke_ap_southeast_2"
+  allowed_account_ids = [var.aws_account]
+  assume_role { role_arn = local.role_arn }
+}
+
+provider "aws" {
+  region              = "ca-central-1"
+  alias               = "spoke_ca_central_1"
+  allowed_account_ids = [var.aws_account]
+  assume_role { role_arn = local.role_arn }
+}
+
+provider "aws" {
+  region              = "eu-central-1"
+  alias               = "spoke_eu_central_1"
+  allowed_account_ids = [var.aws_account]
+  assume_role { role_arn = local.role_arn }
+}
+
+provider "aws" {
+  region              = "eu-west-1"
+  alias               = "spoke_eu_west_1"
+  allowed_account_ids = [var.aws_account]
+  assume_role { role_arn = local.role_arn }
+}
+
+provider "aws" {
+  region              = "eu-west-2"
+  alias               = "spoke_eu_west_2"
+  allowed_account_ids = [var.aws_account]
+  assume_role { role_arn = local.role_arn }
+}
+
+provider "aws" {
+  region              = "eu-west-3"
+  alias               = "spoke_eu_west_3"
+  allowed_account_ids = [var.aws_account]
+  assume_role { role_arn = local.role_arn }
+}
+
+provider "aws" {
+  region              = "eu-south-1"
+  alias               = "spoke_eu_south_1"
+  allowed_account_ids = [var.aws_account]
+  assume_role { role_arn = local.role_arn }
+}
+
+provider "aws" {
+  region              = "eu-north-1"
+  alias               = "spoke_eu_north_1"
+  allowed_account_ids = [var.aws_account]
+  assume_role { role_arn = local.role_arn }
+}
+
+provider "aws" {
+  region              = "me-south-1"
+  alias               = "spoke_me_south_1"
+  allowed_account_ids = [var.aws_account]
+  assume_role { role_arn = local.role_arn }
+}
+
+provider "aws" {
+  region              = "sa-east-1"
+  alias               = "spoke_sa_east_1"
+  allowed_account_ids = [var.aws_account]
+  assume_role { role_arn = local.role_arn }
 }
```

## Comparing `aviatrix_migration-0.2.94.data/data/migration/discovery_migration/vpc_template/vpc_id.tf` & `aviatrix_migration-0.2.95.data/data/migration/discovery_migration/aws/nameless/vpc_id.tf`

 * *Files 14% similar despite different names*

```diff
@@ -1,20 +1,19 @@
-variable "$route_tables" {}
-
-module "${vpc_id}" {
-  source         = "$module_source"
-  vpc_name       = "$vpc_name"
-  vpc_id         = "$vpc_id"
-  vpc_cidr       = $vpc_cidr
-  igw_id         = "$igw_id"
-  avtx_cidr      = "$avtx_cidr"
-  hpe            = $hpe
-  avtx_gw_size   = "$avtx_gw_size"
-  region         = "$region"
-  gw_zones       = $gw_zones
-  account_name   = aviatrix_account.aws_customer.account_name
-  route_tables   = var.$route_tables
-  role_arn       = local.role_arn
-  switch_traffic = false
-  $gw_name_suffix
-  providers = { aws = $providers }
-}
+variable "$route_tables" {}
+
+module "${vpc_id}" {
+  source         = "../module_aws_brownfield_spoke_vpc"
+  vpc_name       = "$vpc_name"
+  vpc_id         = "$vpc_id"
+  vpc_cidr       = $vpc_cidr
+  igw_id         = "$igw_id"
+  avtx_cidr      = "$avtx_cidr"
+  hpe            = $hpe
+  avtx_gw_size   = "$avtx_gw_size"
+  region         = "$region"
+  gw_zones       = $gw_zones
+  account_name   = aviatrix_account.aws_customer.account_name
+  route_tables   = var.$route_tables
+  role_arn       = local.role_arn
+  switch_traffic = false
+  providers = { aws = $providers }
+}
```

## Comparing `aviatrix_migration-0.2.94.data/data/migration/discovery_migration/vpc_template/module_aws_brownfield_spoke_vpc/main-hex-cidr.tf` & `aviatrix_migration-0.2.95.data/data/migration/discovery_migration/vpc_template/module_aws_brownfield_spoke_vpc/main-vpc-name.tf`

 * *Files 18% similar despite different names*

```diff
@@ -1,147 +1,130 @@
-resource "aws_vpc_ipv4_cidr_block_association" "aviatrix_cidr" {
-  count      = var.tgw_vpc ? 0 : 1
-  vpc_id     = var.vpc_id
-  cidr_block = var.avtx_cidr
-}
-
-resource "aws_internet_gateway" "IGW" {
-  count  = var.igw_id == "" && !var.tgw_vpc ? 1 : 0
-  vpc_id = var.vpc_id
-  tags = {
-    Name = "aviatrix-${var.vpc_name}"
-  }
-}
-
-resource "aws_subnet" "aviatrix_public" {
-  count             = var.hpe || var.tgw_vpc ? 0 : 2
-  vpc_id            = aws_vpc_ipv4_cidr_block_association.aviatrix_cidr[0].vpc_id
-  cidr_block        = cidrsubnet(aws_vpc_ipv4_cidr_block_association.aviatrix_cidr[0].cidr_block, 1, count.index)
-  availability_zone = var.gw_zones[count.index]
-  tags = {
-    Name = count.index == 0 ? "aviatrix-${var.vpc_name}-gw" : "aviatrix-${var.vpc_name}-gw-hagw"
-  }
-}
-
-resource "aws_route_table" "aviatrix_public" {
-  count  = var.hpe || var.tgw_vpc ? 0 : 1
-  vpc_id = var.vpc_id
-  tags = {
-    Name = "aviatrix-${var.vpc_name}-gw"
-  }
-}
-
-resource "aws_route" "aviatrix_default" {
-  count                  = var.hpe || var.tgw_vpc ? 0 : 1
-  route_table_id         = aws_route_table.aviatrix_public[0].id
-  destination_cidr_block = "0.0.0.0/0"
-  gateway_id             = var.igw_id == "" ? aws_internet_gateway.IGW[0].id : var.igw_id
-}
-
-resource "aws_route_table_association" "aviatrix_public" {
-  count          = var.hpe || var.tgw_vpc ? 0 : 2
-  subnet_id      = aws_subnet.aviatrix_public[count.index].id
-  route_table_id = aws_route_table.aviatrix_public[0].id
-}
-
-locals {
-  region = {
-    us-west-2      = "usw2"
-    us-west-1      = "usw1"
-    us-east-1      = "use1"
-    eu-west-1      = "euw1"
-    eu-central-1   = "euc1"
-    ap-southeast-1 = "apse1"
-    ap-northeast-1 = "apne1"
-    cn-north-1     = "cnn1"
-    cn-northwest-1 = "cnnw1"
-  }
-}
-
-resource "aviatrix_spoke_gateway" "gw" {
-  count                             = var.tgw_vpc ? 0 : 1
-  cloud_type                        = 1
-  account_name                      = var.account_name
-  gw_name                           = "aws-${local.region[var.region]}-${join("", formatlist("%02x", split(".", split("/", var.avtx_cidr)[0])))}-gw"
-  vpc_id                            = var.vpc_id
-  vpc_reg                           = var.region
-  insane_mode                       = var.hpe
-  gw_size                           = var.avtx_gw_size
-  ha_gw_size                        = var.avtx_gw_size
-  subnet                            = cidrsubnet(aws_vpc_ipv4_cidr_block_association.aviatrix_cidr[0].cidr_block, 1, 0)
-  ha_subnet                         = cidrsubnet(aws_vpc_ipv4_cidr_block_association.aviatrix_cidr[0].cidr_block, 1, 1)
-  insane_mode_az                    = var.hpe ? var.gw_zones[0] : null
-  ha_insane_mode_az                 = var.hpe ? var.gw_zones[1] : null
-  included_advertised_spoke_routes  = var.switch_traffic ? join(",", concat(var.vpc_cidr, [var.avtx_cidr])) : var.avtx_cidr
-  manage_transit_gateway_attachment = false
-  enable_active_mesh                = true
-  single_az_ha                      = true
-  tags = {
-    "cis.asm.vm.riskException" = "RK0026082"
-  }
-  depends_on = [aws_route.aviatrix_default, aws_route_table_association.aviatrix_public, aws_route.pre_migration]
-}
-
-resource "aviatrix_spoke_transit_attachment" "attachment" {
-  count           = var.tgw_vpc ? 0 : 1
-  spoke_gw_name   = aviatrix_spoke_gateway.gw[0].gw_name
-  transit_gw_name = "aws-${local.region[var.region]}-transit-gw"
-  route_tables    = [for k, v in var.route_tables : aws_route_table.aviatrix_managed[k].id]
-}
-
-resource "aviatrix_aws_tgw_vpc_attachment" "tgw_attach" {
-  count                           = var.tgw_vpc ? 1 : 0
-  tgw_name                        = "${var.region}-tgw"
-  vpc_account_name                = var.account_name
-  region                          = var.region
-  security_domain_name            = "Default_Domain"
-  vpc_id                          = var.vpc_id
-  customized_route_advertisement  = var.switch_traffic ? join(",", var.vpc_cidr) : ""
-  disable_local_route_propagation = true
-}
-
-resource "aws_route_table" "aviatrix_managed" {
-  for_each = var.route_tables
-  vpc_id   = var.vpc_id
-  tags     = merge(each.value.tags, { Org_RT = each.key })
-}
-
-
-resource "aws_route" "pre_migration" {
-  for_each = {
-    for route in local.routes : "${route.destination}.${route.key}" => route
-    if substr(route["target"], 0, 5) != "vpce-"
-  }
-  route_table_id            = aws_route_table.aviatrix_managed[each.value.key].id
-  destination_cidr_block    = each.value.destination
-  gateway_id                = split("-", each.value.target)[0] == "igw" ? each.value.target : null
-  instance_id               = split("-", each.value.target)[0] == "i" ? each.value.target : null
-  nat_gateway_id            = split("-", each.value.target)[0] == "nat" ? each.value.target : null
-  local_gateway_id          = split("-", each.value.target)[0] == "Igw" ? each.value.target : null # outpost gateway
-  network_interface_id      = split("-", each.value.target)[0] == "eni" ? each.value.target : null
-  vpc_peering_connection_id = split("-", each.value.target)[0] == "pcx" ? each.value.target : null
-
-  # VPC gateway endpoints routes can't be added here, endpoint manages RTs
-
-}
-
-resource "null_resource" "vpce_route" {
-  for_each = {
-    for route in local.routes : "${route.destination}.${route.key}" => route
-    if substr(route["target"], 0, 5) == "vpce-"
-  }
-  provisioner "local-exec" {
-    command = "python3 -m dm.add_vpce_route ${var.region} ${var.role_arn} ${each.value["target"]} ${aws_route_table.aviatrix_managed[each.value.key].id}"
-  }
-}
-
-locals {
-  routes = flatten([
-    for rt_key, rt_val in var.route_tables : [
-      for route in rt_val.routes : {
-        key         = rt_key
-        destination = route.destination
-        target      = route.target
-      }
-    ]
-  ])
-}
+resource "aws_vpc_ipv4_cidr_block_association" "aviatrix_cidr" {
+  count      = var.tgw_vpc ? 0 : 1
+  vpc_id     = var.vpc_id
+  cidr_block = var.avtx_cidr
+}
+
+resource "aws_internet_gateway" "IGW" {
+  count  = var.igw_id == "" && ! var.tgw_vpc ? 1 : 0
+  vpc_id = var.vpc_id
+  tags = {
+    Name = "aviatrix-${var.vpc_name}"
+  }
+}
+
+resource "aws_subnet" "aviatrix_public" {
+  count             = var.hpe || var.tgw_vpc ? 0 : 2
+  vpc_id            = aws_vpc_ipv4_cidr_block_association.aviatrix_cidr[0].vpc_id
+  cidr_block        = cidrsubnet(aws_vpc_ipv4_cidr_block_association.aviatrix_cidr[0].cidr_block, 1, count.index)
+  availability_zone = var.gw_zones[count.index]
+  tags = {
+    Name = count.index == 0 ? "aviatrix-${var.vpc_name}-gw" : "aviatrix-${var.vpc_name}-gw-hagw"
+  }
+}
+
+resource "aws_route_table" "aviatrix_public" {
+  count  = var.hpe || var.tgw_vpc ? 0 : 1
+  vpc_id = var.vpc_id
+  tags = {
+    Name = "aviatrix-${var.vpc_name}-gw"
+  }
+}
+
+resource "aws_route" "aviatrix_default" {
+  count                  = var.hpe || var.tgw_vpc ? 0 : 1
+  route_table_id         = aws_route_table.aviatrix_public[0].id
+  destination_cidr_block = "0.0.0.0/0"
+  gateway_id             = var.igw_id == "" ? aws_internet_gateway.IGW[0].id : var.igw_id
+}
+
+resource "aws_route_table_association" "aviatrix_public" {
+  count          = var.hpe || var.tgw_vpc ? 0 : 2
+  subnet_id      = aws_subnet.aviatrix_public[count.index].id
+  route_table_id = aws_route_table.aviatrix_public[0].id
+}
+
+resource "aviatrix_spoke_gateway" "gw" {
+  count                             = var.tgw_vpc ? 0 : 1
+  cloud_type                        = 1
+  account_name                      = var.account_name
+  gw_name                           = var.gw_name_suffix == "" ? "${var.vpc_name}-${trimprefix(var.account_name, "aws-")}-gw" : "${var.vpc_name}-${trimprefix(var.account_name, "aws-")}-${var.gw_name_suffix}-gw"
+  vpc_id                            = var.vpc_id
+  vpc_reg                           = var.region
+  insane_mode                       = var.hpe
+  gw_size                           = var.avtx_gw_size
+  ha_gw_size                        = var.avtx_gw_size
+  subnet                            = cidrsubnet(aws_vpc_ipv4_cidr_block_association.aviatrix_cidr[0].cidr_block, 1, 0)
+  ha_subnet                         = cidrsubnet(aws_vpc_ipv4_cidr_block_association.aviatrix_cidr[0].cidr_block, 1, 1)
+  insane_mode_az                    = var.hpe ? var.gw_zones[0] : null
+  ha_insane_mode_az                 = var.hpe ? var.gw_zones[1] : null
+  included_advertised_spoke_routes  = var.switch_traffic ? join(",", concat(var.vpc_cidr, [var.avtx_cidr])) : var.avtx_cidr
+  manage_transit_gateway_attachment = false
+  enable_active_mesh                = true
+  single_az_ha                      = true
+  depends_on                        = [aws_route.aviatrix_default, aws_route_table_association.aviatrix_public, aws_route.pre_migration]
+}
+
+resource "aviatrix_spoke_transit_attachment" "attachment" {
+  count           = var.tgw_vpc ? 0 : 1
+  spoke_gw_name   = aviatrix_spoke_gateway.gw[0].gw_name
+  transit_gw_name = "aws-${var.region}-transit-gw"
+  route_tables    = [for k, v in var.route_tables : aws_route_table.aviatrix_managed[k].id]
+}
+
+resource "aviatrix_aws_tgw_vpc_attachment" "tgw_attach" {
+  count                           = var.tgw_vpc ? 1 : 0
+  tgw_name                        = "${var.region}-tgw"
+  vpc_account_name                = var.account_name
+  region                          = var.region
+  security_domain_name            = "Default_Domain"
+  vpc_id                          = var.vpc_id
+  customized_route_advertisement  = var.switch_traffic ? join(",", var.vpc_cidr) : ""
+  disable_local_route_propagation = true
+}
+
+resource "aws_route_table" "aviatrix_managed" {
+  for_each = var.route_tables
+  vpc_id   = var.vpc_id
+  tags     = merge(each.value.tags, { Org_RT = each.key })
+}
+
+
+resource "aws_route" "pre_migration" {
+  for_each = {
+    for route in local.routes : "${route.destination}.${route.key}" => route
+    if substr(route["target"], 0, 5) != "vpce-"
+  }
+  route_table_id            = aws_route_table.aviatrix_managed[each.value.key].id
+  destination_cidr_block    = each.value.destination
+  gateway_id                = split("-", each.value.target)[0] == "igw" ? each.value.target : null
+  instance_id               = split("-", each.value.target)[0] == "i" ? each.value.target : null
+  nat_gateway_id            = split("-", each.value.target)[0] == "nat" ? each.value.target : null
+  local_gateway_id          = split("-", each.value.target)[0] == "Igw" ? each.value.target : null # outpost gateway
+  network_interface_id      = split("-", each.value.target)[0] == "eni" ? each.value.target : null
+  vpc_peering_connection_id = split("-", each.value.target)[0] == "pcx" ? each.value.target : null
+
+  # VPC gateway endpoints routes can't be added here, endpoint manages RTs
+
+}
+
+resource "null_resource" "vpce_route" {
+  for_each = {
+    for route in local.routes : "${route.destination}.${route.key}" => route
+    if substr(route["target"], 0, 5) == "vpce-"
+  }
+  provisioner "local-exec" {
+    command = "python3 -m dm.add_vpce_route ${var.region} ${var.role_arn} ${each.value["target"]} ${aws_route_table.aviatrix_managed[each.value.key].id}"
+  }
+}
+
+locals {
+  routes = flatten([
+    for rt_key, rt_val in var.route_tables : [
+      for route in rt_val.routes : {
+        key         = rt_key
+        destination = route.destination
+        target      = route.target
+      }
+    ]
+  ])
+}
```

## Comparing `aviatrix_migration-0.2.94.data/data/migration/discovery_migration/vpc_template/module_aws_brownfield_spoke_vpc/main-vpc-name.tf` & `aviatrix_migration-0.2.95.data/data/migration/discovery_migration/aws/nameless/module_aws_brownfield_spoke_vpc/main.tf`

 * *Files 24% similar despite different names*

```diff
@@ -1,130 +1,131 @@
-resource "aws_vpc_ipv4_cidr_block_association" "aviatrix_cidr" {
-  count      = var.tgw_vpc ? 0 : 1
-  vpc_id     = var.vpc_id
-  cidr_block = var.avtx_cidr
-}
-
-resource "aws_internet_gateway" "IGW" {
-  count  = var.igw_id == "" && ! var.tgw_vpc ? 1 : 0
-  vpc_id = var.vpc_id
-  tags = {
-    Name = "aviatrix-${var.vpc_name}"
-  }
-}
-
-resource "aws_subnet" "aviatrix_public" {
-  count             = var.hpe || var.tgw_vpc ? 0 : 2
-  vpc_id            = aws_vpc_ipv4_cidr_block_association.aviatrix_cidr[0].vpc_id
-  cidr_block        = cidrsubnet(aws_vpc_ipv4_cidr_block_association.aviatrix_cidr[0].cidr_block, 1, count.index)
-  availability_zone = var.gw_zones[count.index]
-  tags = {
-    Name = count.index == 0 ? "aviatrix-${var.vpc_name}-gw" : "aviatrix-${var.vpc_name}-gw-hagw"
-  }
-}
-
-resource "aws_route_table" "aviatrix_public" {
-  count  = var.hpe || var.tgw_vpc ? 0 : 1
-  vpc_id = var.vpc_id
-  tags = {
-    Name = "aviatrix-${var.vpc_name}-gw"
-  }
-}
-
-resource "aws_route" "aviatrix_default" {
-  count                  = var.hpe || var.tgw_vpc ? 0 : 1
-  route_table_id         = aws_route_table.aviatrix_public[0].id
-  destination_cidr_block = "0.0.0.0/0"
-  gateway_id             = var.igw_id == "" ? aws_internet_gateway.IGW[0].id : var.igw_id
-}
-
-resource "aws_route_table_association" "aviatrix_public" {
-  count          = var.hpe || var.tgw_vpc ? 0 : 2
-  subnet_id      = aws_subnet.aviatrix_public[count.index].id
-  route_table_id = aws_route_table.aviatrix_public[0].id
-}
-
-resource "aviatrix_spoke_gateway" "gw" {
-  count                             = var.tgw_vpc ? 0 : 1
-  cloud_type                        = 1
-  account_name                      = var.account_name
-  gw_name                           = var.gw_name_suffix == "" ? "${var.vpc_name}-${trimprefix(var.account_name, "aws-")}-gw" : "${var.vpc_name}-${trimprefix(var.account_name, "aws-")}-${var.gw_name_suffix}-gw"
-  vpc_id                            = var.vpc_id
-  vpc_reg                           = var.region
-  insane_mode                       = var.hpe
-  gw_size                           = var.avtx_gw_size
-  ha_gw_size                        = var.avtx_gw_size
-  subnet                            = cidrsubnet(aws_vpc_ipv4_cidr_block_association.aviatrix_cidr[0].cidr_block, 1, 0)
-  ha_subnet                         = cidrsubnet(aws_vpc_ipv4_cidr_block_association.aviatrix_cidr[0].cidr_block, 1, 1)
-  insane_mode_az                    = var.hpe ? var.gw_zones[0] : null
-  ha_insane_mode_az                 = var.hpe ? var.gw_zones[1] : null
-  included_advertised_spoke_routes  = var.switch_traffic ? join(",", concat(var.vpc_cidr, [var.avtx_cidr])) : var.avtx_cidr
-  manage_transit_gateway_attachment = false
-  enable_active_mesh                = true
-  single_az_ha                      = true
-  depends_on                        = [aws_route.aviatrix_default, aws_route_table_association.aviatrix_public, aws_route.pre_migration]
-}
-
-resource "aviatrix_spoke_transit_attachment" "attachment" {
-  count           = var.tgw_vpc ? 0 : 1
-  spoke_gw_name   = aviatrix_spoke_gateway.gw[0].gw_name
-  transit_gw_name = "aws-${var.region}-transit-gw"
-  route_tables    = [for k, v in var.route_tables : aws_route_table.aviatrix_managed[k].id]
-}
-
-resource "aviatrix_aws_tgw_vpc_attachment" "tgw_attach" {
-  count                           = var.tgw_vpc ? 1 : 0
-  tgw_name                        = "${var.region}-tgw"
-  vpc_account_name                = var.account_name
-  region                          = var.region
-  security_domain_name            = "Default_Domain"
-  vpc_id                          = var.vpc_id
-  customized_route_advertisement  = var.switch_traffic ? join(",", var.vpc_cidr) : ""
-  disable_local_route_propagation = true
-}
-
-resource "aws_route_table" "aviatrix_managed" {
-  for_each = var.route_tables
-  vpc_id   = var.vpc_id
-  tags     = merge(each.value.tags, { Org_RT = each.key })
-}
-
-
-resource "aws_route" "pre_migration" {
-  for_each = {
-    for route in local.routes : "${route.destination}.${route.key}" => route
-    if substr(route["target"], 0, 5) != "vpce-"
-  }
-  route_table_id            = aws_route_table.aviatrix_managed[each.value.key].id
-  destination_cidr_block    = each.value.destination
-  gateway_id                = split("-", each.value.target)[0] == "igw" ? each.value.target : null
-  instance_id               = split("-", each.value.target)[0] == "i" ? each.value.target : null
-  nat_gateway_id            = split("-", each.value.target)[0] == "nat" ? each.value.target : null
-  local_gateway_id          = split("-", each.value.target)[0] == "Igw" ? each.value.target : null # outpost gateway
-  network_interface_id      = split("-", each.value.target)[0] == "eni" ? each.value.target : null
-  vpc_peering_connection_id = split("-", each.value.target)[0] == "pcx" ? each.value.target : null
-
-  # VPC gateway endpoints routes can't be added here, endpoint manages RTs
-
-}
-
-resource "null_resource" "vpce_route" {
-  for_each = {
-    for route in local.routes : "${route.destination}.${route.key}" => route
-    if substr(route["target"], 0, 5) == "vpce-"
-  }
-  provisioner "local-exec" {
-    command = "python3 -m dm.add_vpce_route ${var.region} ${var.role_arn} ${each.value["target"]} ${aws_route_table.aviatrix_managed[each.value.key].id}"
-  }
-}
-
-locals {
-  routes = flatten([
-    for rt_key, rt_val in var.route_tables : [
-      for route in rt_val.routes : {
-        key         = rt_key
-        destination = route.destination
-        target      = route.target
-      }
-    ]
-  ])
-}
+
+resource "aws_vpc_ipv4_cidr_block_association" "aviatrix_cidr" {
+  count      = var.tgw_vpc ? 0 : 1
+  vpc_id     = var.vpc_id
+  cidr_block = var.avtx_cidr
+}
+
+resource "aws_internet_gateway" "IGW" {
+  count  = var.igw_id == "" && ! var.tgw_vpc ? 1 : 0
+  vpc_id = var.vpc_id
+  tags = {
+    Name = "aviatrix-${var.vpc_name}"
+  }
+}
+
+resource "aws_subnet" "aviatrix_public" {
+  count             = var.hpe || var.tgw_vpc ? 0 : 2
+  vpc_id            = aws_vpc_ipv4_cidr_block_association.aviatrix_cidr[0].vpc_id
+  cidr_block        = cidrsubnet(aws_vpc_ipv4_cidr_block_association.aviatrix_cidr[0].cidr_block, 1, count.index)
+  availability_zone = var.gw_zones[count.index]
+  tags = {
+    Name = count.index == 0 ? "aviatrix-${var.vpc_name}-gw" : "aviatrix-${var.vpc_name}-gw-hagw"
+  }
+}
+
+resource "aws_route_table" "aviatrix_public" {
+  count  = var.hpe || var.tgw_vpc ? 0 : 1
+  vpc_id = var.vpc_id
+  tags = {
+    Name = "aviatrix-${var.vpc_name}-gw"
+  }
+}
+
+resource "aws_route" "aviatrix_default" {
+  count                  = var.hpe || var.tgw_vpc ? 0 : 1
+  route_table_id         = aws_route_table.aviatrix_public[0].id
+  destination_cidr_block = "0.0.0.0/0"
+  gateway_id             = var.igw_id == "" ? aws_internet_gateway.IGW[0].id : var.igw_id
+}
+
+resource "aws_route_table_association" "aviatrix_public" {
+  count          = var.hpe || var.tgw_vpc ? 0 : 2
+  subnet_id      = aws_subnet.aviatrix_public[count.index].id
+  route_table_id = aws_route_table.aviatrix_public[0].id
+}
+
+resource "aviatrix_spoke_gateway" "gw" {
+  count                             = var.tgw_vpc ? 0 : 1
+  cloud_type                        = 1
+  account_name                      = var.account_name
+  gw_name                           = var.gw_name_suffix == "" ? "${var.vpc_name}-${trimprefix(var.account_name, "aws-")}-gw" : "${var.vpc_name}-${trimprefix(var.account_name, "aws-")}-${var.gw_name_suffix}-gw"
+  vpc_id                            = var.vpc_id
+  vpc_reg                           = var.region
+  insane_mode                       = var.hpe
+  gw_size                           = var.avtx_gw_size
+  ha_gw_size                        = var.avtx_gw_size
+  subnet                            = cidrsubnet(aws_vpc_ipv4_cidr_block_association.aviatrix_cidr[0].cidr_block, 1, 0)
+  ha_subnet                         = cidrsubnet(aws_vpc_ipv4_cidr_block_association.aviatrix_cidr[0].cidr_block, 1, 1)
+  insane_mode_az                    = var.hpe ? var.gw_zones[0] : null
+  ha_insane_mode_az                 = var.hpe ? var.gw_zones[1] : null
+  included_advertised_spoke_routes  = var.switch_traffic ? join(",", concat(var.vpc_cidr, [var.avtx_cidr])) : var.avtx_cidr
+  manage_transit_gateway_attachment = false
+  enable_active_mesh                = true
+  single_az_ha                      = true
+  depends_on                        = [aws_route.aviatrix_default, aws_route_table_association.aviatrix_public, aws_route.pre_migration]
+}
+
+resource "aviatrix_spoke_transit_attachment" "attachment" {
+  count           = var.tgw_vpc ? 0 : 1
+  spoke_gw_name   = aviatrix_spoke_gateway.gw[0].gw_name
+  transit_gw_name = "aws-${var.region}-transit-gw"
+  route_tables    = [for k, v in var.route_tables : aws_route_table.aviatrix_managed[k].id]
+}
+
+resource "aviatrix_aws_tgw_vpc_attachment" "tgw_attach" {
+  count                           = var.tgw_vpc ? 1 : 0
+  tgw_name                        = "${var.region}-tgw"
+  vpc_account_name                = var.account_name
+  region                          = var.region
+  security_domain_name            = "Default_Domain"
+  vpc_id                          = var.vpc_id
+  customized_route_advertisement  = var.switch_traffic ? join(",", var.vpc_cidr) : ""
+  disable_local_route_propagation = true
+}
+
+resource "aws_route_table" "aviatrix_managed" {
+  for_each = var.route_tables
+  vpc_id   = var.vpc_id
+  tags     = merge(each.value.tags, { Org_RT = each.key })
+}
+
+
+resource "aws_route" "pre_migration" {
+  for_each = {
+    for route in local.routes : "${route.destination}.${route.key}" => route
+    if substr(route["target"], 0, 5) != "vpce-"
+  }
+  route_table_id            = aws_route_table.aviatrix_managed[each.value.key].id
+  destination_cidr_block    = each.value.destination
+  gateway_id                = split("-", each.value.target)[0] == "igw" ? each.value.target : null
+  instance_id               = split("-", each.value.target)[0] == "i" ? each.value.target : null
+  nat_gateway_id            = split("-", each.value.target)[0] == "nat" ? each.value.target : null
+  local_gateway_id          = split("-", each.value.target)[0] == "Igw" ? each.value.target : null # outpost gateway
+  network_interface_id      = split("-", each.value.target)[0] == "eni" ? each.value.target : null
+  vpc_peering_connection_id = split("-", each.value.target)[0] == "pcx" ? each.value.target : null
+
+  # VPC gateway endpoints routes can't be added here, endpoint manages RTs
+
+}
+
+resource "null_resource" "vpce_route" {
+  for_each = {
+    for route in local.routes : "${route.destination}.${route.key}" => route
+    if substr(route["target"], 0, 5) == "vpce-"
+  }
+  provisioner "local-exec" {
+    command = "python3 -m dm.add_vpce_route ${var.region} ${var.role_arn} ${each.value["target"]} ${aws_route_table.aviatrix_managed[each.value.key].id}"
+  }
+}
+
+locals {
+  routes = flatten([
+    for rt_key, rt_val in var.route_tables : [
+      for route in rt_val.routes : {
+        key         = rt_key
+        destination = route.destination
+        target      = route.target
+      }
+    ]
+  ])
+}
```

## Comparing `aviatrix_migration-0.2.94.data/data/migration/discovery_migration/vpc_template/module_aws_brownfield_spoke_vpc/variables.tf` & `aviatrix_migration-0.2.95.data/data/migration/discovery_migration/aws/nameless/module_aws_brownfield_spoke_vpc/variables.tf`

 * *Ordering differences only*

 * *Files 20% similar despite different names*

```diff
@@ -1,48 +1,48 @@
-variable "region" {}
-
-variable "account_name" {}
-
-variable "role_arn" {}
-
-variable "vpc_name" {}
-
-variable "vpc_cidr" {
-  type = list(string)
-}
-
-variable "vpc_id" {}
-
-variable "avtx_cidr" {
-  default     = ""
-  description = "CIDR used by the Aviatrix gateways"
-}
-
-variable "tgw_vpc" {
-  default     = false
-  description = "Decides if VPC should be attached to a TGW"
-}
-
-variable "avtx_gw_size" {
-  default = ""
-}
-
-variable "hpe" {
-  default = false
-}
-
-variable "igw_id" {}
-
-variable "route_tables" {}
-
-variable "gw_name_suffix" {
-  default = ""
-}
-
-variable "gw_zones" {
-  type = list
-}
-
-variable "switch_traffic" {
-  type    = bool
-  default = false
-}
+variable "region" {}
+
+variable "account_name" {}
+
+variable "role_arn" {}
+
+variable "vpc_name" {}
+
+variable "vpc_cidr" {
+  type = list(string)
+}
+
+variable "vpc_id" {}
+
+variable "avtx_cidr" {
+  default     = ""
+  description = "CIDR used by the Aviatrix gateways"
+}
+
+variable "tgw_vpc" {
+  default     = false
+  description = "Decides if VPC should be attached to a TGW"
+}
+
+variable "avtx_gw_size" {
+  default = ""
+}
+
+variable "hpe" {
+  default = false
+}
+
+variable "igw_id" {}
+
+variable "route_tables" {}
+
+variable "gw_name_suffix" {
+  default = ""
+}
+
+variable "gw_zones" {
+  type = list
+}
+
+variable "switch_traffic" {
+  type    = bool
+  default = false
+}
```

## Comparing `aviatrix_migration-0.2.94.dist-info/METADATA` & `aviatrix_migration-0.2.95.dist-info/METADATA`

 * *Files 20% similar despite different names*

```diff
@@ -1,156 +1,156 @@
-Metadata-Version: 2.1
-Name: aviatrix-migration
-Version: 0.2.94
-Summary: Aviatrix Discovery Migration
-Author: Aviatrix Automation
-Author-email: aviatrix-ps-dev@aviatrix.com
-Project-URL: Changelog, https://github.com/aviatrix-automation/discovery_migration/blob/master/CHANGELOG.rst
-Project-URL: Issue Tracker, https://github.com/aviatrix-automation/discovery_migration/issues
-Classifier: Development Status :: 4 - Beta
-Classifier: Environment :: Console
-Classifier: Intended Audience :: Developers
-Classifier: Operating System :: POSIX
-Classifier: Programming Language :: Python
-Classifier: Programming Language :: Python :: 3
-Classifier: Programming Language :: Python :: 3 :: Only
-Classifier: Programming Language :: Python :: 3.7
-Classifier: Programming Language :: Python :: 3.8
-Classifier: Programming Language :: Python :: 3.9
-Classifier: Programming Language :: Python :: Implementation :: CPython
-Classifier: Topic :: Utilities
-Requires-Python: >=3.7
-Description-Content-Type: text/markdown
-Requires-Dist: boto3 ==1.24.22
-Requires-Dist: botocore ==1.27.22
-Requires-Dist: certifi ==2020.12.5
-Requires-Dist: chardet ==4.0.0
-Requires-Dist: decorator ==5.0.9
-Requires-Dist: idna ==2.10
-Requires-Dist: Jinja2 ==3.0.3
-Requires-Dist: jmespath ==0.10.0
-Requires-Dist: py ==1.10.0
-Requires-Dist: pydantic ==1.9.0
-Requires-Dist: python-dateutil ==2.8.1
-Requires-Dist: PyYAML ==5.4.1
-Requires-Dist: requests ==2.25.1
-Requires-Dist: retry ==0.9.2
-Requires-Dist: s3transfer ==0.6.0
-Requires-Dist: six ==1.16.0
-Requires-Dist: typing-extensions ==4.5.0
-Requires-Dist: urllib3 ==1.26.4
-Requires-Dist: packaging ==21.3
-Requires-Dist: python-hcl2 ==4.3.2
-Requires-Dist: aviatrix-migration-nat
-Requires-Dist: azure-applicationinsights ==0.1.0
-Requires-Dist: azure-batch ==4.1.3
-Requires-Dist: azure-common ==1.1.23
-Requires-Dist: azure-core ==1.29.1
-Requires-Dist: azure-cosmosdb-nspkg ==2.0.2
-Requires-Dist: azure-cosmosdb-table ==1.0.6
-Requires-Dist: azure-datalake-store ==0.0.48
-Requires-Dist: azure-eventgrid ==1.3.0
-Requires-Dist: azure-graphrbac ==0.40.0
-Requires-Dist: azure-identity >=1.5.0
-Requires-Dist: azure-keyvault ==1.1.0
-Requires-Dist: azure-loganalytics ==0.1.0
-Requires-Dist: azure-mgmt-advisor ==1.0.1
-Requires-Dist: azure-mgmt-applicationinsights ==0.1.1
-Requires-Dist: azure-mgmt-authorization ==0.50.0
-Requires-Dist: azure-mgmt-batch ==5.0.1
-Requires-Dist: azure-mgmt-batchai ==2.0.0
-Requires-Dist: azure-mgmt-billing ==0.2.0
-Requires-Dist: azure-mgmt-cdn ==3.1.0
-Requires-Dist: azure-mgmt-cognitiveservices ==3.0.0
-Requires-Dist: azure-mgmt-commerce ==1.0.1
-Requires-Dist: azure-mgmt-compute ==4.6.2
-Requires-Dist: azure-mgmt-consumption ==2.0.0
-Requires-Dist: azure-mgmt-containerinstance ==1.5.0
-Requires-Dist: azure-mgmt-containerregistry ==2.8.0
-Requires-Dist: azure-mgmt-containerservice ==4.4.0
-Requires-Dist: azure-mgmt-cosmosdb ==0.4.1
-Requires-Dist: azure-mgmt-datafactory ==0.6.0
-Requires-Dist: azure-mgmt-datalake-analytics ==0.6.0
-Requires-Dist: azure-mgmt-datalake-nspkg ==3.0.1
-Requires-Dist: azure-mgmt-datalake-store ==0.5.0
-Requires-Dist: azure-mgmt-datamigration ==1.0.0
-Requires-Dist: azure-mgmt-devspaces ==0.1.0
-Requires-Dist: azure-mgmt-devtestlabs ==2.2.0
-Requires-Dist: azure-mgmt-dns ==2.1.0
-Requires-Dist: azure-mgmt-eventgrid ==1.0.0
-Requires-Dist: azure-mgmt-eventhub ==2.6.0
-Requires-Dist: azure-mgmt-hanaonazure ==0.1.1
-Requires-Dist: azure-mgmt-iotcentral ==0.1.0
-Requires-Dist: azure-mgmt-iothub ==0.5.0
-Requires-Dist: azure-mgmt-iothubprovisioningservices ==0.2.0
-Requires-Dist: azure-mgmt-keyvault ==1.1.0
-Requires-Dist: azure-mgmt-loganalytics ==0.2.0
-Requires-Dist: azure-mgmt-logic ==3.0.0
-Requires-Dist: azure-mgmt-machinelearningcompute ==0.4.1
-Requires-Dist: azure-mgmt-managementgroups ==0.1.0
-Requires-Dist: azure-mgmt-managementpartner ==0.1.1
-Requires-Dist: azure-mgmt-maps ==0.1.0
-Requires-Dist: azure-mgmt-marketplaceordering ==0.1.0
-Requires-Dist: azure-mgmt-media ==1.0.0
-Requires-Dist: azure-mgmt-monitor ==0.5.2
-Requires-Dist: azure-mgmt-msi ==0.2.0
-Requires-Dist: azure-mgmt-network ==20.0.0
-Requires-Dist: azure-mgmt-notificationhubs ==2.1.0
-Requires-Dist: azure-mgmt-nspkg ==3.0.2
-Requires-Dist: azure-mgmt-policyinsights ==0.1.0
-Requires-Dist: azure-mgmt-powerbiembedded ==2.0.0
-Requires-Dist: azure-mgmt-rdbms ==1.9.0
-Requires-Dist: azure-mgmt-recoveryservices ==0.3.0
-Requires-Dist: azure-mgmt-recoveryservicesbackup ==0.3.0
-Requires-Dist: azure-mgmt-redis ==5.0.0
-Requires-Dist: azure-mgmt-relay ==0.1.0
-Requires-Dist: azure-mgmt-reservations ==1.0.0
-Requires-Dist: azure-mgmt-resource ==2.2.0
-Requires-Dist: azure-mgmt-resourcegraph ==8.0.0
-Requires-Dist: azure-mgmt-scheduler ==2.0.0
-Requires-Dist: azure-mgmt-search ==2.1.0
-Requires-Dist: azure-mgmt-servicebus ==0.5.3
-Requires-Dist: azure-mgmt-servicefabric ==0.2.0
-Requires-Dist: azure-mgmt-signalr ==0.1.1
-Requires-Dist: azure-mgmt-sql ==0.9.1
-Requires-Dist: azure-mgmt-storage ==2.0.0
-Requires-Dist: azure-mgmt-subscription ==0.2.0
-Requires-Dist: azure-mgmt-trafficmanager ==0.50.0
-Requires-Dist: azure-mgmt-web ==0.35.0
-Requires-Dist: azure-nspkg ==3.0.2
-Requires-Dist: azure-servicebus ==0.21.1
-Requires-Dist: azure-servicefabric ==6.3.0.0
-Requires-Dist: azure-servicemanagement-legacy ==0.20.6
-Requires-Dist: azure-storage-blob ==1.5.0
-Requires-Dist: azure-storage-common ==1.4.2
-Requires-Dist: azure-storage-file ==1.4.0
-Requires-Dist: azure-storage-queue ==1.4.0
-
-# Aviatrix VPC/VNET Migration
-
-Aviatrix Migration discovers networking components and migrates existing VPCs and VNETs to the Aviatrix multi cloud transit network.
-
-## Installation
-
-The recommended method for installing Aviatrix Migration is to use the [AWS CloudFormation](https://aviatrix-migration.s3.us-west-2.amazonaws.com/migration_EC2.yml) template or the [Azure ARM](https://aviatrix-migration.s3.us-west-2.amazonaws.com/migration_VM.sh) template . Each template will create an ubuntu EC2/VM instance with Migration and terraform automatically installed. SSH into the instance using the private key selected when deploying the template.
-```
-ssh -i <keypair> ubuntu@<IP of the deployed instance>
-```
-Optionally, you can manually install Aviatrix Migration using pip. Refer to [pip documentation](https://pip.pypa.io/en/stable/installation/) for instructions on installing pip for your operating system. You will also need to [manually install](https://learn.hashicorp.com/tutorials/terraform/install-cli) terraform
-```
-pip3 install aviatrix-migration
-```
-
-## Aviatrix Controller Requirements
-
-Update the security group for the Aviatrix Controller to allow TCP port 443 from the IP of the system where Migration is installed. Use netcat to confirm the connectivity.
-```
-ubuntu@AviatrixMigration:~$ nc -zv <controller-ip> 443
-Ncat: Version 7.50 ( https://nmap.org/ncat )
-Ncat: Connected to <controller_ip>:443.
-Ncat: 0 bytes sent, 0 bytes received in 0.01 seconds.
-```
-Verify the output says `Connected to <controller_ip>:443` and not `Connection timed out.`.
-
-## Migrating VPCs and/or VNETs
-
-The migration process requires Aviatrix Advanced Services team help. Please contact Aviatrix for help with your migration project.
+Metadata-Version: 2.1
+Name: aviatrix-migration
+Version: 0.2.95
+Summary: Aviatrix Discovery Migration
+Author: Aviatrix Automation
+Author-email: aviatrix-ps-dev@aviatrix.com
+Project-URL: Changelog, https://github.com/aviatrix-automation/discovery_migration/blob/master/CHANGELOG.rst
+Project-URL: Issue Tracker, https://github.com/aviatrix-automation/discovery_migration/issues
+Classifier: Development Status :: 4 - Beta
+Classifier: Environment :: Console
+Classifier: Intended Audience :: Developers
+Classifier: Operating System :: POSIX
+Classifier: Programming Language :: Python
+Classifier: Programming Language :: Python :: 3
+Classifier: Programming Language :: Python :: 3 :: Only
+Classifier: Programming Language :: Python :: 3.7
+Classifier: Programming Language :: Python :: 3.8
+Classifier: Programming Language :: Python :: 3.9
+Classifier: Programming Language :: Python :: Implementation :: CPython
+Classifier: Topic :: Utilities
+Requires-Python: >=3.7
+Description-Content-Type: text/markdown
+Requires-Dist: boto3 ==1.24.22
+Requires-Dist: botocore ==1.27.22
+Requires-Dist: certifi ==2020.12.5
+Requires-Dist: chardet ==4.0.0
+Requires-Dist: decorator ==5.0.9
+Requires-Dist: idna ==2.10
+Requires-Dist: Jinja2 ==3.0.3
+Requires-Dist: jmespath ==0.10.0
+Requires-Dist: py ==1.10.0
+Requires-Dist: pydantic ==1.9.0
+Requires-Dist: python-dateutil ==2.8.1
+Requires-Dist: PyYAML ==5.4.1
+Requires-Dist: requests ==2.25.1
+Requires-Dist: retry ==0.9.2
+Requires-Dist: s3transfer ==0.6.0
+Requires-Dist: six ==1.16.0
+Requires-Dist: typing-extensions ==4.5.0
+Requires-Dist: urllib3 ==1.26.4
+Requires-Dist: packaging ==21.3
+Requires-Dist: python-hcl2 ==4.3.2
+Requires-Dist: aviatrix-migration-nat
+Requires-Dist: azure-applicationinsights ==0.1.0
+Requires-Dist: azure-batch ==4.1.3
+Requires-Dist: azure-common ==1.1.23
+Requires-Dist: azure-core ==1.29.1
+Requires-Dist: azure-cosmosdb-nspkg ==2.0.2
+Requires-Dist: azure-cosmosdb-table ==1.0.6
+Requires-Dist: azure-datalake-store ==0.0.48
+Requires-Dist: azure-eventgrid ==1.3.0
+Requires-Dist: azure-graphrbac ==0.40.0
+Requires-Dist: azure-identity >=1.5.0
+Requires-Dist: azure-keyvault ==1.1.0
+Requires-Dist: azure-loganalytics ==0.1.0
+Requires-Dist: azure-mgmt-advisor ==1.0.1
+Requires-Dist: azure-mgmt-applicationinsights ==0.1.1
+Requires-Dist: azure-mgmt-authorization ==0.50.0
+Requires-Dist: azure-mgmt-batch ==5.0.1
+Requires-Dist: azure-mgmt-batchai ==2.0.0
+Requires-Dist: azure-mgmt-billing ==0.2.0
+Requires-Dist: azure-mgmt-cdn ==3.1.0
+Requires-Dist: azure-mgmt-cognitiveservices ==3.0.0
+Requires-Dist: azure-mgmt-commerce ==1.0.1
+Requires-Dist: azure-mgmt-compute ==4.6.2
+Requires-Dist: azure-mgmt-consumption ==2.0.0
+Requires-Dist: azure-mgmt-containerinstance ==1.5.0
+Requires-Dist: azure-mgmt-containerregistry ==2.8.0
+Requires-Dist: azure-mgmt-containerservice ==4.4.0
+Requires-Dist: azure-mgmt-cosmosdb ==0.4.1
+Requires-Dist: azure-mgmt-datafactory ==0.6.0
+Requires-Dist: azure-mgmt-datalake-analytics ==0.6.0
+Requires-Dist: azure-mgmt-datalake-nspkg ==3.0.1
+Requires-Dist: azure-mgmt-datalake-store ==0.5.0
+Requires-Dist: azure-mgmt-datamigration ==1.0.0
+Requires-Dist: azure-mgmt-devspaces ==0.1.0
+Requires-Dist: azure-mgmt-devtestlabs ==2.2.0
+Requires-Dist: azure-mgmt-dns ==2.1.0
+Requires-Dist: azure-mgmt-eventgrid ==1.0.0
+Requires-Dist: azure-mgmt-eventhub ==2.6.0
+Requires-Dist: azure-mgmt-hanaonazure ==0.1.1
+Requires-Dist: azure-mgmt-iotcentral ==0.1.0
+Requires-Dist: azure-mgmt-iothub ==0.5.0
+Requires-Dist: azure-mgmt-iothubprovisioningservices ==0.2.0
+Requires-Dist: azure-mgmt-keyvault ==1.1.0
+Requires-Dist: azure-mgmt-loganalytics ==0.2.0
+Requires-Dist: azure-mgmt-logic ==3.0.0
+Requires-Dist: azure-mgmt-machinelearningcompute ==0.4.1
+Requires-Dist: azure-mgmt-managementgroups ==0.1.0
+Requires-Dist: azure-mgmt-managementpartner ==0.1.1
+Requires-Dist: azure-mgmt-maps ==0.1.0
+Requires-Dist: azure-mgmt-marketplaceordering ==0.1.0
+Requires-Dist: azure-mgmt-media ==1.0.0
+Requires-Dist: azure-mgmt-monitor ==0.5.2
+Requires-Dist: azure-mgmt-msi ==0.2.0
+Requires-Dist: azure-mgmt-network ==20.0.0
+Requires-Dist: azure-mgmt-notificationhubs ==2.1.0
+Requires-Dist: azure-mgmt-nspkg ==3.0.2
+Requires-Dist: azure-mgmt-policyinsights ==0.1.0
+Requires-Dist: azure-mgmt-powerbiembedded ==2.0.0
+Requires-Dist: azure-mgmt-rdbms ==1.9.0
+Requires-Dist: azure-mgmt-recoveryservices ==0.3.0
+Requires-Dist: azure-mgmt-recoveryservicesbackup ==0.3.0
+Requires-Dist: azure-mgmt-redis ==5.0.0
+Requires-Dist: azure-mgmt-relay ==0.1.0
+Requires-Dist: azure-mgmt-reservations ==1.0.0
+Requires-Dist: azure-mgmt-resource ==2.2.0
+Requires-Dist: azure-mgmt-resourcegraph ==8.0.0
+Requires-Dist: azure-mgmt-scheduler ==2.0.0
+Requires-Dist: azure-mgmt-search ==2.1.0
+Requires-Dist: azure-mgmt-servicebus ==0.5.3
+Requires-Dist: azure-mgmt-servicefabric ==0.2.0
+Requires-Dist: azure-mgmt-signalr ==0.1.1
+Requires-Dist: azure-mgmt-sql ==0.9.1
+Requires-Dist: azure-mgmt-storage ==2.0.0
+Requires-Dist: azure-mgmt-subscription ==0.2.0
+Requires-Dist: azure-mgmt-trafficmanager ==0.50.0
+Requires-Dist: azure-mgmt-web ==0.35.0
+Requires-Dist: azure-nspkg ==3.0.2
+Requires-Dist: azure-servicebus ==0.21.1
+Requires-Dist: azure-servicefabric ==6.3.0.0
+Requires-Dist: azure-servicemanagement-legacy ==0.20.6
+Requires-Dist: azure-storage-blob ==1.5.0
+Requires-Dist: azure-storage-common ==1.4.2
+Requires-Dist: azure-storage-file ==1.4.0
+Requires-Dist: azure-storage-queue ==1.4.0
+
+# Aviatrix VPC/VNET Migration
+
+Aviatrix Migration discovers networking components and migrates existing VPCs and VNETs to the Aviatrix multi cloud transit network.
+
+## Installation
+
+The recommended method for installing Aviatrix Migration is to use the [AWS CloudFormation](https://aviatrix-migration.s3.us-west-2.amazonaws.com/migration_EC2.yml) template or the [Azure ARM](https://aviatrix-migration.s3.us-west-2.amazonaws.com/migration_VM.sh) template . Each template will create an ubuntu EC2/VM instance with Migration and terraform automatically installed. SSH into the instance using the private key selected when deploying the template.
+```
+ssh -i <keypair> ubuntu@<IP of the deployed instance>
+```
+Optionally, you can manually install Aviatrix Migration using pip. Refer to [pip documentation](https://pip.pypa.io/en/stable/installation/) for instructions on installing pip for your operating system. You will also need to [manually install](https://learn.hashicorp.com/tutorials/terraform/install-cli) terraform
+```
+pip3 install aviatrix-migration
+```
+
+## Aviatrix Controller Requirements
+
+Update the security group for the Aviatrix Controller to allow TCP port 443 from the IP of the system where Migration is installed. Use netcat to confirm the connectivity.
+```
+ubuntu@AviatrixMigration:~$ nc -zv <controller-ip> 443
+Ncat: Version 7.50 ( https://nmap.org/ncat )
+Ncat: Connected to <controller_ip>:443.
+Ncat: 0 bytes sent, 0 bytes received in 0.01 seconds.
+```
+Verify the output says `Connected to <controller_ip>:443` and not `Connection timed out.`.
+
+## Migrating VPCs and/or VNETs
+
+The migration process requires Aviatrix Advanced Services team help. Please contact Aviatrix for help with your migration project.
```

## Comparing `aviatrix_migration-0.2.94.dist-info/RECORD` & `aviatrix_migration-0.2.95.dist-info/RECORD`

 * *Files 15% similar despite different names*

```diff
@@ -1,190 +1,190 @@
-aviatrix_migration-0.2.94.data/data/migration/discovery_migration/aws_requirements.txt,sha256=XsIVs-z3NbK7RYhrxPpe4VwHWyeOGAy5sFfU_x9ICLk,370
-aviatrix_migration-0.2.94.data/data/migration/discovery_migration/azure_requirements.txt,sha256=5pUQbpmLQl2drsg_OQi91U3jLEUW67Z3xlm5z6Lggmg,2512
-aviatrix_migration-0.2.94.data/data/migration/discovery_migration/aws/combined/account.template,sha256=JJbq_pqrawntKMhSQonADw40m-zIVGM3yBbznwVt5MQ,589
-aviatrix_migration-0.2.94.data/data/migration/discovery_migration/aws/combined/dmhelp.sh,sha256=SKEZbPfFLftzvKP_kLEDXjN9kgVNAJv6YnG_XNhg_XI,496
-aviatrix_migration-0.2.94.data/data/migration/discovery_migration/aws/combined/main-rtb-associations.tf,sha256=R5_wRU28Zlqw01aJj61l8W80wleMcYmh5AIFMaUIo98,296
-aviatrix_migration-0.2.94.data/data/migration/discovery_migration/aws/combined/main.tf,sha256=6Yt2c6GzgGT6tYeSJlE3YikJVPtxs82Fy6sqlN7XDwM,1059
-aviatrix_migration-0.2.94.data/data/migration/discovery_migration/aws/combined/providers.tf,sha256=suK7bZyZK9I4vZXCOkC5ZoTTFkd3tRtteDqauYQFWIY,4759
-aviatrix_migration-0.2.94.data/data/migration/discovery_migration/aws/combined/subnet-associations.tf,sha256=wxIs3SV7_LBL9xs-QyhJY4NNcEgAIzPVhop_41iMviI,338
-aviatrix_migration-0.2.94.data/data/migration/discovery_migration/aws/combined/terraform-import-associations.sh,sha256=8hVTD0OGlLmJn1g-rWeNcCT8mb5Ri9qOIg6WTDJdDuw,78
-aviatrix_migration-0.2.94.data/data/migration/discovery_migration/aws/combined/terraform.tfvars,sha256=8SI_hvRDKV0etxu8sR9RekB_YCPCUyIMW083h6sADAI,645
-aviatrix_migration-0.2.94.data/data/migration/discovery_migration/aws/combined/variables.tf,sha256=r8ojwbqoBeSlbvf-1VnIvjg8IZ6a-MeFvSpmLOhitjI,518
-aviatrix_migration-0.2.94.data/data/migration/discovery_migration/aws/combined/versions.tf,sha256=6M5jJOI0FzHdYOivpNfIWmSFAhaSBaYCzQ5tTQ5Z3JE,604
-aviatrix_migration-0.2.94.data/data/migration/discovery_migration/aws/combined/vpc_id.tf,sha256=5zQpQ3B8gSBm-a7_T17TvczxO8Np4BvBq-U7TMkt3jY,3524
-aviatrix_migration-0.2.94.data/data/migration/discovery_migration/aws/combined/module_aws_brownfield_spoke_vpc/main.tf,sha256=YapVvzvqKmpO_hZJDkOebiIQoEh1HUmBdbULTButU1U,20897
-aviatrix_migration-0.2.94.data/data/migration/discovery_migration/aws/combined/module_aws_brownfield_spoke_vpc/variables.tf,sha256=Tiy-Q5_Fvz34iaU1DOkkn17CNJZOWVu7w_FT673cWyc,3672
-aviatrix_migration-0.2.94.data/data/migration/discovery_migration/aws/combined/module_aws_brownfield_spoke_vpc/versions.tf,sha256=RkHBeznl_yO7RQRE-gUZIIm8djGMfCNrsk8oLIYt9GQ,275
-aviatrix_migration-0.2.94.data/data/migration/discovery_migration/aws/generic/account.template,sha256=vqdwTXZ4gLT_-KKmOiUz6M2u-zXwXuoDIpg43PL5NGA,584
-aviatrix_migration-0.2.94.data/data/migration/discovery_migration/aws/generic/main-rtb-associations.tf,sha256=V9NBPg6J6zRAaez__6moxeu4NVTzU7cKUd8CdE6KcPc,143
-aviatrix_migration-0.2.94.data/data/migration/discovery_migration/aws/generic/main.tf,sha256=AHK-OVt33yg2tG-1jN6j9uKlDJtHvh2_7AlC9KoZ5io,741
-aviatrix_migration-0.2.94.data/data/migration/discovery_migration/aws/generic/providers.tf,sha256=4-nfCCZPZP80XHtf5n-DHEdYkHnisxBRDLOmS7nVOnM,4395
-aviatrix_migration-0.2.94.data/data/migration/discovery_migration/aws/generic/subnet-associations.tf,sha256=qZ5bMDiM4-xj7FciAWKHepu8MN_kChJpe0ghmmP1pQM,144
-aviatrix_migration-0.2.94.data/data/migration/discovery_migration/aws/generic/terraform-import-associations.sh,sha256=8hVTD0OGlLmJn1g-rWeNcCT8mb5Ri9qOIg6WTDJdDuw,78
-aviatrix_migration-0.2.94.data/data/migration/discovery_migration/aws/generic/terraform.tfvars,sha256=gzmIer1GbydmFvo4Hl6EbFLaoi7eeXncTg5bevwMQUI,293
-aviatrix_migration-0.2.94.data/data/migration/discovery_migration/aws/generic/variables.tf,sha256=f4mutgZXast_7HJkVbgH-v8dy8t1OyBwxjtkAg9SftI,242
-aviatrix_migration-0.2.94.data/data/migration/discovery_migration/aws/generic/versions.tf,sha256=RkHBeznl_yO7RQRE-gUZIIm8djGMfCNrsk8oLIYt9GQ,275
-aviatrix_migration-0.2.94.data/data/migration/discovery_migration/aws/generic/vpc_id.tf,sha256=4YgAg5MiNmRAOjfx09Jx24Zy_i8gnKT2oS84T1Gxxo0,846
-aviatrix_migration-0.2.94.data/data/migration/discovery_migration/aws/generic/module_aws_brownfield_spoke_vpc/main-vpc-name.tf,sha256=r76auRergQQT8dTr4sTwqswA5r0NgkDGUvC5CBn0vsA,5854
-aviatrix_migration-0.2.94.data/data/migration/discovery_migration/aws/generic/module_aws_brownfield_spoke_vpc/variables.tf,sha256=FeNGmVt3saDQYCAoenjUSz-OVWQMweTswau0MJH6nLw,2160
-aviatrix_migration-0.2.94.data/data/migration/discovery_migration/aws/generic/module_aws_brownfield_spoke_vpc/versions.tf,sha256=peNYKZXrxmDRDH0gYUgFO8KrlR5RcD5Q1tYeAjiDxq8,285
-aviatrix_migration-0.2.94.data/data/migration/discovery_migration/aws/nameless/account.template,sha256=vqdwTXZ4gLT_-KKmOiUz6M2u-zXwXuoDIpg43PL5NGA,584
-aviatrix_migration-0.2.94.data/data/migration/discovery_migration/aws/nameless/main-rtb-associations.tf,sha256=V9NBPg6J6zRAaez__6moxeu4NVTzU7cKUd8CdE6KcPc,143
-aviatrix_migration-0.2.94.data/data/migration/discovery_migration/aws/nameless/main.tf,sha256=8Mmqkw9mCCZG4c_FSka8FCAFMOpAahIipRvt4qAe1vY,719
-aviatrix_migration-0.2.94.data/data/migration/discovery_migration/aws/nameless/providers.tf,sha256=4-nfCCZPZP80XHtf5n-DHEdYkHnisxBRDLOmS7nVOnM,4395
-aviatrix_migration-0.2.94.data/data/migration/discovery_migration/aws/nameless/subnet-associations.tf,sha256=qZ5bMDiM4-xj7FciAWKHepu8MN_kChJpe0ghmmP1pQM,144
-aviatrix_migration-0.2.94.data/data/migration/discovery_migration/aws/nameless/terraform-import-associations.sh,sha256=8hVTD0OGlLmJn1g-rWeNcCT8mb5Ri9qOIg6WTDJdDuw,78
-aviatrix_migration-0.2.94.data/data/migration/discovery_migration/aws/nameless/terraform.tfvars,sha256=MeaEdX6JTaSyJNqTeftzThkrer5Sjp5pSei4fDLRI5U,295
-aviatrix_migration-0.2.94.data/data/migration/discovery_migration/aws/nameless/variables.tf,sha256=j9sJMdVnjGwjDaOiujfxNS-MJz1l48z_P3Yg_-E6k_o,246
-aviatrix_migration-0.2.94.data/data/migration/discovery_migration/aws/nameless/versions.tf,sha256=RkHBeznl_yO7RQRE-gUZIIm8djGMfCNrsk8oLIYt9GQ,275
-aviatrix_migration-0.2.94.data/data/migration/discovery_migration/aws/nameless/vpc_id.tf,sha256=j1xsKgyNAVljxbG-DcXJWCEWcFyd5_qVUYD3CSZH3ao,587
-aviatrix_migration-0.2.94.data/data/migration/discovery_migration/aws/nameless/module_aws_brownfield_spoke_vpc/main-vpc-name.tf,sha256=zUoiteH_sISTPb3RqnCBoBn6PlWBk9MLXqBQRSmsr5Q,5953
-aviatrix_migration-0.2.94.data/data/migration/discovery_migration/aws/nameless/module_aws_brownfield_spoke_vpc/main.tf,sha256=dcDgRbJMJo9hyHdV0sxyaWMBK8FD4OY81b183KqvBUk,5637
-aviatrix_migration-0.2.94.data/data/migration/discovery_migration/aws/nameless/module_aws_brownfield_spoke_vpc/variables.tf,sha256=FeaokOojxxHs5gyXTX_fy9jaTe7QpX7RI5yso1CDu10,702
-aviatrix_migration-0.2.94.data/data/migration/discovery_migration/aws/nameless/module_aws_brownfield_spoke_vpc/versions.tf,sha256=RkHBeznl_yO7RQRE-gUZIIm8djGMfCNrsk8oLIYt9GQ,275
-aviatrix_migration-0.2.94.data/data/migration/discovery_migration/azure-module-example/main.tf,sha256=xHn3l1yUZHApgCviGDLJtIC64Z1IDXELTc3WsahXvbA,4953
-aviatrix_migration-0.2.94.data/data/migration/discovery_migration/azure-module-example/providers.tf,sha256=Qc4dGwRWcP1mmvPZgL7n776-u3ewTXeifXd29e9BZLc,183
-aviatrix_migration-0.2.94.data/data/migration/discovery_migration/azure-module-example/terraform.tfvars,sha256=W9kKj7P59iu9F7U_HWe5rUuXT5zOn7tyLkTATf64djU,722
-aviatrix_migration-0.2.94.data/data/migration/discovery_migration/azure-module-example/variables.tf,sha256=zSkU_wmSAYncF2yE6uHT2kb--eGqyLHq_a5sCz4-YS4,537
-aviatrix_migration-0.2.94.data/data/migration/discovery_migration/azure-module-example/versions.tf,sha256=mTXumUrvjRcDP_Z6U80vZCkDY1D4TfBxm9Vnq5LFPeQ,174
-aviatrix_migration-0.2.94.data/data/migration/discovery_migration/azure_data/input.json,sha256=NLhRAimIMtRsWQpQ2d_Z6BSzavBNCwHtgzZk2WT8cvU,577
-aviatrix_migration-0.2.94.data/data/migration/discovery_migration/vnet_template/account.tf,sha256=9yox_OPGL3twuf_WPTEtSth69U_wpH25vHgpKZ_Hn-8,297
-aviatrix_migration-0.2.94.data/data/migration/discovery_migration/vnet_template/env.tf,sha256=tCs6A_mOnPSh40YnHcuyVwKFUCYs7FswGpjejsMtTOM,1435
-aviatrix_migration-0.2.94.data/data/migration/discovery_migration/vnet_template/main.tf,sha256=6FVxJ4BRoRugq2w2WrYmRBd1jL97boIwHjRit-kSHj0,641
-aviatrix_migration-0.2.94.data/data/migration/discovery_migration/vnet_template/providers.tf,sha256=4Tq0Iu_I3MkxfteWCozWkn_ajJ09bIBZud00P3JveaA,1414
-aviatrix_migration-0.2.94.data/data/migration/discovery_migration/vnet_template/subnet-associations.tf,sha256=O4XBVFdgesNIL_UlY6DIxGQ1NF3cZ3kFZOPQnUjZKzc,172
-aviatrix_migration-0.2.94.data/data/migration/discovery_migration/vnet_template/terraform-import-associations.sh,sha256=hH30qeLrpADFrNOQCarf1J6FCZzzM00h4SP0UWI5HXM,73
-aviatrix_migration-0.2.94.data/data/migration/discovery_migration/vnet_template/terraform.tfvars,sha256=pl4AHWyRMm4XkoSq64eghOVzJSaod5uqS9szJ0R3Il8,368
-aviatrix_migration-0.2.94.data/data/migration/discovery_migration/vnet_template/variables.tf,sha256=gF-J0ZQigWi8wkmbGF8NHneb7lve7ORpneRUj_vcF7k,350
-aviatrix_migration-0.2.94.data/data/migration/discovery_migration/vnet_template/versions.tf,sha256=TWcTMgFZY0uQTfaLMjeTeVAn3QqcG_6FQKe1Mg5xOCo,620
-aviatrix_migration-0.2.94.data/data/migration/discovery_migration/vnet_template/vnet_id.tf,sha256=klukxh15lM4wJ_nL_ptyqyTsbZT0wrcCxYrVtS3hfBk,2112
-aviatrix_migration-0.2.94.data/data/migration/discovery_migration/vnet_template/module_arm_brownfield_spoke_vnet/main.tf,sha256=N8WsQJS770TqUP7-4bffu0noa0eYi1DGbBYJbJ8Fh8Y,9585
-aviatrix_migration-0.2.94.data/data/migration/discovery_migration/vnet_template/module_arm_brownfield_spoke_vnet/variables.tf,sha256=pdnkTB_jn6eWxlJxyZ_b9sJNyLpaFY_8UgBsdez-r6I,2050
-aviatrix_migration-0.2.94.data/data/migration/discovery_migration/vnet_template/module_arm_brownfield_spoke_vnet/versions.tf,sha256=oHaZO-Xj2kG3HWk4DEbnISegvGwqY4OLRWO0qykVTzg,258
-aviatrix_migration-0.2.94.data/data/migration/discovery_migration/vpc_template/account.template,sha256=vqdwTXZ4gLT_-KKmOiUz6M2u-zXwXuoDIpg43PL5NGA,584
-aviatrix_migration-0.2.94.data/data/migration/discovery_migration/vpc_template/main-rtb-associations.tf,sha256=V9NBPg6J6zRAaez__6moxeu4NVTzU7cKUd8CdE6KcPc,143
-aviatrix_migration-0.2.94.data/data/migration/discovery_migration/vpc_template/main.tf,sha256=8Mmqkw9mCCZG4c_FSka8FCAFMOpAahIipRvt4qAe1vY,719
-aviatrix_migration-0.2.94.data/data/migration/discovery_migration/vpc_template/providers.tf,sha256=4-nfCCZPZP80XHtf5n-DHEdYkHnisxBRDLOmS7nVOnM,4395
-aviatrix_migration-0.2.94.data/data/migration/discovery_migration/vpc_template/subnet-associations.tf,sha256=qZ5bMDiM4-xj7FciAWKHepu8MN_kChJpe0ghmmP1pQM,144
-aviatrix_migration-0.2.94.data/data/migration/discovery_migration/vpc_template/terraform-import-associations.sh,sha256=8hVTD0OGlLmJn1g-rWeNcCT8mb5Ri9qOIg6WTDJdDuw,78
-aviatrix_migration-0.2.94.data/data/migration/discovery_migration/vpc_template/terraform.tfvars,sha256=MeaEdX6JTaSyJNqTeftzThkrer5Sjp5pSei4fDLRI5U,295
-aviatrix_migration-0.2.94.data/data/migration/discovery_migration/vpc_template/variables.tf,sha256=j9sJMdVnjGwjDaOiujfxNS-MJz1l48z_P3Yg_-E6k_o,246
-aviatrix_migration-0.2.94.data/data/migration/discovery_migration/vpc_template/versions.tf,sha256=RkHBeznl_yO7RQRE-gUZIIm8djGMfCNrsk8oLIYt9GQ,275
-aviatrix_migration-0.2.94.data/data/migration/discovery_migration/vpc_template/vpc_id.tf,sha256=NxduI3Ew4ZUi_QpqPabBBggD38_cboryKwHTOhcm7mM,586
-aviatrix_migration-0.2.94.data/data/migration/discovery_migration/vpc_template/module_aws_brownfield_spoke_vpc/main-hex-cidr.tf,sha256=nztj5KLNE6adDdJjtRJ0F1Fu6jSFiUdruew2agvm_f0,5924
-aviatrix_migration-0.2.94.data/data/migration/discovery_migration/vpc_template/module_aws_brownfield_spoke_vpc/main-vpc-name.tf,sha256=UwUpnb5wjPwryL2SBJA5rJ4LZ-FrvPt7oLP6Sso-Bx0,5635
-aviatrix_migration-0.2.94.data/data/migration/discovery_migration/vpc_template/module_aws_brownfield_spoke_vpc/variables.tf,sha256=FeaokOojxxHs5gyXTX_fy9jaTe7QpX7RI5yso1CDu10,702
-aviatrix_migration-0.2.94.data/data/migration/discovery_migration/vpc_template/module_aws_brownfield_spoke_vpc/versions.tf,sha256=RkHBeznl_yO7RQRE-gUZIIm8djGMfCNrsk8oLIYt9GQ,275
-dm/CrossCloudCommonLib.cp39-win_amd64.pyd,sha256=h2Un3Pkf8rubWVuLZJH8ssQSB9K-aK9PzrXJnNPhif4,159232
+aviatrix_migration-0.2.95.data/data/migration/discovery_migration/aws_requirements.txt,sha256=zYKqxNmsA4cZ4G8nPO9yuwL77jtsnjuaf4Ap_vzJX_0,349
+aviatrix_migration-0.2.95.data/data/migration/discovery_migration/azure_requirements.txt,sha256=jm8jBzEzUVR3L3cEc3nFJjMq_J0Quh-LcWylDOVjL90,2427
+aviatrix_migration-0.2.95.data/data/migration/discovery_migration/aws/combined/account.template,sha256=D8QNJ8cqARCJXvPMC8N9QSDMYhMnT8-81o1cXGCk8BE,578
+aviatrix_migration-0.2.95.data/data/migration/discovery_migration/aws/combined/dmhelp.sh,sha256=syEvZjVvur6_P7BR2mHAb-0aLCJWuYpOx85qmAf6yCI,471
+aviatrix_migration-0.2.95.data/data/migration/discovery_migration/aws/combined/main-rtb-associations.tf,sha256=LlyR1sbCY-BLr58S7rHQSX_NDmEB4dH6OPuLNAvosb0,286
+aviatrix_migration-0.2.95.data/data/migration/discovery_migration/aws/combined/main.tf,sha256=e5ZKGedWiT89gSswRZ4fYnTnOcXKSJwk87URwWAJ7GU,1030
+aviatrix_migration-0.2.95.data/data/migration/discovery_migration/aws/combined/providers.tf,sha256=P0PdvmjzxHmth7em8w6vIVwZPjt4PWF0SLjtFRbdriM,4592
+aviatrix_migration-0.2.95.data/data/migration/discovery_migration/aws/combined/subnet-associations.tf,sha256=crjdtAd4WCiCk6n1hzWOxkBoe1nnzFRSLkPxIxmwb6Q,327
+aviatrix_migration-0.2.95.data/data/migration/discovery_migration/aws/combined/terraform-import-associations.sh,sha256=8hVTD0OGlLmJn1g-rWeNcCT8mb5Ri9qOIg6WTDJdDuw,78
+aviatrix_migration-0.2.95.data/data/migration/discovery_migration/aws/combined/terraform.tfvars,sha256=cRsS3WT6olu3FqrK72vqC0BVVprS22-ZEElxDyy_TdE,631
+aviatrix_migration-0.2.95.data/data/migration/discovery_migration/aws/combined/variables.tf,sha256=QHVzxYVstnHXU1NAo5l97ynDBD_tDwzNGw0GYfY7-as,498
+aviatrix_migration-0.2.95.data/data/migration/discovery_migration/aws/combined/versions.tf,sha256=0O8nnpyWedhc2h8a7nv_Z14dxIby7CYraNSBtehhus8,579
+aviatrix_migration-0.2.95.data/data/migration/discovery_migration/aws/combined/vpc_id.tf,sha256=E9-uHBRE-g60dcAWymbgjW54stsLV9HDFdBi-KzQ2pY,3408
+aviatrix_migration-0.2.95.data/data/migration/discovery_migration/aws/combined/module_aws_brownfield_spoke_vpc/main.tf,sha256=__BxVcF14Jx_R6JiqXlBq8D6IsEmrGc_xpznQ7s3d8U,20361
+aviatrix_migration-0.2.95.data/data/migration/discovery_migration/aws/combined/module_aws_brownfield_spoke_vpc/variables.tf,sha256=NI0AYYV6HGPiKaMmkk-XzHlOmatGce-NjTUXrXt6wag,3503
+aviatrix_migration-0.2.95.data/data/migration/discovery_migration/aws/combined/module_aws_brownfield_spoke_vpc/versions.tf,sha256=t2l0Glzf2YC43aVY1XuO6wJo6ejEzGMATjfY46wT1_A,262
+aviatrix_migration-0.2.95.data/data/migration/discovery_migration/aws/generic/account.template,sha256=RYDBcITmZ4npcsR1Paa0m0Hxl1OtK4DaGi8TxA5B_3Q,574
+aviatrix_migration-0.2.95.data/data/migration/discovery_migration/aws/generic/main-rtb-associations.tf,sha256=o-0onwGYiDqSsoqfPuZ1sqvD8T3Cml2t8Hzof3XXW0c,138
+aviatrix_migration-0.2.95.data/data/migration/discovery_migration/aws/generic/main.tf,sha256=TFs26wD47bl9TFAZfWijeDkAabJKKnAtJWgZRSNDTO8,724
+aviatrix_migration-0.2.95.data/data/migration/discovery_migration/aws/generic/providers.tf,sha256=iL7A6Zti1h_3RhWb_Ej6hKT8JPmUnLPc4qMjzGeyCgE,4235
+aviatrix_migration-0.2.95.data/data/migration/discovery_migration/aws/generic/subnet-associations.tf,sha256=MviwoyPnKoaPr9udOAJhvKn8ZUf02iT6UBk2Z8JDUFw,139
+aviatrix_migration-0.2.95.data/data/migration/discovery_migration/aws/generic/terraform-import-associations.sh,sha256=8hVTD0OGlLmJn1g-rWeNcCT8mb5Ri9qOIg6WTDJdDuw,78
+aviatrix_migration-0.2.95.data/data/migration/discovery_migration/aws/generic/terraform.tfvars,sha256=LTceXoi5p_vLWfdBynzyYST6lSfGP2QFHmwvYBuqeeQ,285
+aviatrix_migration-0.2.95.data/data/migration/discovery_migration/aws/generic/variables.tf,sha256=5sw7z1wIjVUi2eQgljeUr5Cg7SsBWxOAoWDvC5m-pUI,234
+aviatrix_migration-0.2.95.data/data/migration/discovery_migration/aws/generic/versions.tf,sha256=t2l0Glzf2YC43aVY1XuO6wJo6ejEzGMATjfY46wT1_A,262
+aviatrix_migration-0.2.95.data/data/migration/discovery_migration/aws/generic/vpc_id.tf,sha256=c5-t4x_8WF__k0PvcVrMsh_-bH9vzsSP-NRIXPrcjo0,819
+aviatrix_migration-0.2.95.data/data/migration/discovery_migration/aws/generic/module_aws_brownfield_spoke_vpc/main-vpc-name.tf,sha256=vBVhl-o_3Po9sXLvaFzbxrmkMgQuLe1q2-hXNim-2-s,5719
+aviatrix_migration-0.2.95.data/data/migration/discovery_migration/aws/generic/module_aws_brownfield_spoke_vpc/variables.tf,sha256=Gwg5RiVmPhUn5nOgn_dorOeJ5SO4nrQbhxI_lVRXW5Y,2066
+aviatrix_migration-0.2.95.data/data/migration/discovery_migration/aws/generic/module_aws_brownfield_spoke_vpc/versions.tf,sha256=Y6oU-eiwS5GYCdO5mYtDEHZzBMhVYHNSFhl-jikhjio,271
+aviatrix_migration-0.2.95.data/data/migration/discovery_migration/aws/nameless/account.template,sha256=RYDBcITmZ4npcsR1Paa0m0Hxl1OtK4DaGi8TxA5B_3Q,574
+aviatrix_migration-0.2.95.data/data/migration/discovery_migration/aws/nameless/main-rtb-associations.tf,sha256=o-0onwGYiDqSsoqfPuZ1sqvD8T3Cml2t8Hzof3XXW0c,138
+aviatrix_migration-0.2.95.data/data/migration/discovery_migration/aws/nameless/main.tf,sha256=XYr2SSFEJAIJ4C4X4lhtfti26HO0IYcqqt37P4mzNUo,702
+aviatrix_migration-0.2.95.data/data/migration/discovery_migration/aws/nameless/providers.tf,sha256=iL7A6Zti1h_3RhWb_Ej6hKT8JPmUnLPc4qMjzGeyCgE,4235
+aviatrix_migration-0.2.95.data/data/migration/discovery_migration/aws/nameless/subnet-associations.tf,sha256=MviwoyPnKoaPr9udOAJhvKn8ZUf02iT6UBk2Z8JDUFw,139
+aviatrix_migration-0.2.95.data/data/migration/discovery_migration/aws/nameless/terraform-import-associations.sh,sha256=8hVTD0OGlLmJn1g-rWeNcCT8mb5Ri9qOIg6WTDJdDuw,78
+aviatrix_migration-0.2.95.data/data/migration/discovery_migration/aws/nameless/terraform.tfvars,sha256=nWhW-nlsZud-YyTmZsJLz6vJdXNs83hW2QRQMM7Gcsk,286
+aviatrix_migration-0.2.95.data/data/migration/discovery_migration/aws/nameless/variables.tf,sha256=a2-MuOHV-5wi_AHIprPbi2ZIn4YtnvSXccGG2g_UDJ4,236
+aviatrix_migration-0.2.95.data/data/migration/discovery_migration/aws/nameless/versions.tf,sha256=t2l0Glzf2YC43aVY1XuO6wJo6ejEzGMATjfY46wT1_A,262
+aviatrix_migration-0.2.95.data/data/migration/discovery_migration/aws/nameless/vpc_id.tf,sha256=HMgW-eS9Ke0jjaJA7rhyhei2WTVcBfHKKpbQioA5HCo,568
+aviatrix_migration-0.2.95.data/data/migration/discovery_migration/aws/nameless/module_aws_brownfield_spoke_vpc/main-vpc-name.tf,sha256=gSqkvBabYS4X6r85lInnZdRgObeoFy5qwcIrdTbZR1s,5805
+aviatrix_migration-0.2.95.data/data/migration/discovery_migration/aws/nameless/module_aws_brownfield_spoke_vpc/main.tf,sha256=Vn2WHPEA2CLISKR4s0wQkkduVCxmoYDTslmNb65H9m8,5506
+aviatrix_migration-0.2.95.data/data/migration/discovery_migration/aws/nameless/module_aws_brownfield_spoke_vpc/variables.tf,sha256=CgpdzW_muIJvF8fOBd1p-oNVRGHNNoDyfunjkR-JYQs,654
+aviatrix_migration-0.2.95.data/data/migration/discovery_migration/aws/nameless/module_aws_brownfield_spoke_vpc/versions.tf,sha256=t2l0Glzf2YC43aVY1XuO6wJo6ejEzGMATjfY46wT1_A,262
+aviatrix_migration-0.2.95.data/data/migration/discovery_migration/azure-module-example/main.tf,sha256=gietLlKbKIs2qGI--CIafprrnDvBuaBI1f4vNs-et7E,4837
+aviatrix_migration-0.2.95.data/data/migration/discovery_migration/azure-module-example/providers.tf,sha256=u95Qz89F3Sj9x7QPVs-Pl4_Yq8WBhzZhTMCZEG826To,174
+aviatrix_migration-0.2.95.data/data/migration/discovery_migration/azure-module-example/terraform.tfvars,sha256=tNLxYbZEWudiVDH_2A8mx-LuV2Cpmf99kB9Nrz9n7j4,695
+aviatrix_migration-0.2.95.data/data/migration/discovery_migration/azure-module-example/variables.tf,sha256=KepFZzjFCb9rZdFfH4mu-olbvrSaHibnVt-KuR-qlVU,511
+aviatrix_migration-0.2.95.data/data/migration/discovery_migration/azure-module-example/versions.tf,sha256=VyT_VzC53nDwBNZ2WFXi7zcZljSShIGXVcjMTys715o,165
+aviatrix_migration-0.2.95.data/data/migration/discovery_migration/azure_data/input.json,sha256=HGhrUInu_iR4KO-8pAjS0oHabJ8BfdCs0dtPbE3pyKU,557
+aviatrix_migration-0.2.95.data/data/migration/discovery_migration/vnet_template/account.tf,sha256=cOqFRpCvO81z0TFfSxYLSgdvPR6oumBTa-XNsf9MuNk,288
+aviatrix_migration-0.2.95.data/data/migration/discovery_migration/vnet_template/env.tf,sha256=-E3rJTh9wr2wIP3nCyzLsKy9FcIs_vg6VGs-WK5QtZE,1395
+aviatrix_migration-0.2.95.data/data/migration/discovery_migration/vnet_template/main.tf,sha256=ZHQdJ65sYaEPoq3DfMFM-wsiNUOefmhrmuQfdymsN-w,622
+aviatrix_migration-0.2.95.data/data/migration/discovery_migration/vnet_template/providers.tf,sha256=KZ-vH2y-xd5BL_ZYZKD9uk8ZE3zExnF4DXMEpQAIwfU,1373
+aviatrix_migration-0.2.95.data/data/migration/discovery_migration/vnet_template/subnet-associations.tf,sha256=wtdS4J42FSLTnZC00FLnOIFKKVCp57nxCp6syp93rAs,167
+aviatrix_migration-0.2.95.data/data/migration/discovery_migration/vnet_template/terraform-import-associations.sh,sha256=hH30qeLrpADFrNOQCarf1J6FCZzzM00h4SP0UWI5HXM,73
+aviatrix_migration-0.2.95.data/data/migration/discovery_migration/vnet_template/terraform.tfvars,sha256=g8JnIhyduRKcrujjXoZUR9ARetQq0NDbcQQSDJFNwuw,360
+aviatrix_migration-0.2.95.data/data/migration/discovery_migration/vnet_template/variables.tf,sha256=aqWew3eJxnB-ItLAszCO4TGAu8vLHY4lCNmnjqVoNrs,339
+aviatrix_migration-0.2.95.data/data/migration/discovery_migration/vnet_template/versions.tf,sha256=yaQIa3TB6ay0N1MErUp6gPAqQkDdpHmdTNthmupaLCA,594
+aviatrix_migration-0.2.95.data/data/migration/discovery_migration/vnet_template/vnet_id.tf,sha256=E6ZW7zl0UpM_REUvyhHd_5ZDXKCkk2RF5pIiiYhqygs,2055
+aviatrix_migration-0.2.95.data/data/migration/discovery_migration/vnet_template/module_arm_brownfield_spoke_vnet/main.tf,sha256=V7WfPi72wbZ5ppX5u-0QR8TVsbyx6IeObPV6ZIKlO-Y,9338
+aviatrix_migration-0.2.95.data/data/migration/discovery_migration/vnet_template/module_arm_brownfield_spoke_vnet/variables.tf,sha256=IaaA_gFTz928RQI16kZc0mNiE-apSwuV-1XwYNukyuw,1970
+aviatrix_migration-0.2.95.data/data/migration/discovery_migration/vnet_template/module_arm_brownfield_spoke_vnet/versions.tf,sha256=iVftbOfwILOlfj243RLWECBCdpLU3ITnqU1WGVuoDuE,245
+aviatrix_migration-0.2.95.data/data/migration/discovery_migration/vpc_template/account.template,sha256=RYDBcITmZ4npcsR1Paa0m0Hxl1OtK4DaGi8TxA5B_3Q,574
+aviatrix_migration-0.2.95.data/data/migration/discovery_migration/vpc_template/main-rtb-associations.tf,sha256=o-0onwGYiDqSsoqfPuZ1sqvD8T3Cml2t8Hzof3XXW0c,138
+aviatrix_migration-0.2.95.data/data/migration/discovery_migration/vpc_template/main.tf,sha256=XYr2SSFEJAIJ4C4X4lhtfti26HO0IYcqqt37P4mzNUo,702
+aviatrix_migration-0.2.95.data/data/migration/discovery_migration/vpc_template/providers.tf,sha256=iL7A6Zti1h_3RhWb_Ej6hKT8JPmUnLPc4qMjzGeyCgE,4235
+aviatrix_migration-0.2.95.data/data/migration/discovery_migration/vpc_template/subnet-associations.tf,sha256=MviwoyPnKoaPr9udOAJhvKn8ZUf02iT6UBk2Z8JDUFw,139
+aviatrix_migration-0.2.95.data/data/migration/discovery_migration/vpc_template/terraform-import-associations.sh,sha256=8hVTD0OGlLmJn1g-rWeNcCT8mb5Ri9qOIg6WTDJdDuw,78
+aviatrix_migration-0.2.95.data/data/migration/discovery_migration/vpc_template/terraform.tfvars,sha256=nWhW-nlsZud-YyTmZsJLz6vJdXNs83hW2QRQMM7Gcsk,286
+aviatrix_migration-0.2.95.data/data/migration/discovery_migration/vpc_template/variables.tf,sha256=a2-MuOHV-5wi_AHIprPbi2ZIn4YtnvSXccGG2g_UDJ4,236
+aviatrix_migration-0.2.95.data/data/migration/discovery_migration/vpc_template/versions.tf,sha256=t2l0Glzf2YC43aVY1XuO6wJo6ejEzGMATjfY46wT1_A,262
+aviatrix_migration-0.2.95.data/data/migration/discovery_migration/vpc_template/vpc_id.tf,sha256=v_bCU8QVLrAusSz8-mHhgTrsfBfoEK7Te_W2YPg5wT4,566
+aviatrix_migration-0.2.95.data/data/migration/discovery_migration/vpc_template/module_aws_brownfield_spoke_vpc/main-hex-cidr.tf,sha256=UckFI-BLbKDD_vV8MmSAN9m1CG5thTVA3TYoZYD-1Ss,5777
+aviatrix_migration-0.2.95.data/data/migration/discovery_migration/vpc_template/module_aws_brownfield_spoke_vpc/main-vpc-name.tf,sha256=_RBPQcX7kS2s9fENL1gVWeasDMgG-ZaIKOEo4ip7_A0,5505
+aviatrix_migration-0.2.95.data/data/migration/discovery_migration/vpc_template/module_aws_brownfield_spoke_vpc/variables.tf,sha256=CgpdzW_muIJvF8fOBd1p-oNVRGHNNoDyfunjkR-JYQs,654
+aviatrix_migration-0.2.95.data/data/migration/discovery_migration/vpc_template/module_aws_brownfield_spoke_vpc/versions.tf,sha256=t2l0Glzf2YC43aVY1XuO6wJo6ejEzGMATjfY46wT1_A,262
+dm/CrossCloudCommonLib.cpython-39-darwin.so,sha256=GxfLQCo2zu9bJsZAqIjXQeN9syf29g9C-RpVflPyg7Q,217000
 dm/__init__.py,sha256=47DEQpj8HBSa-_TImW-5JCeuQeRkm5NMpJWZG3hSuFU,0
-dm/_add_vpce_route.cp39-win_amd64.pyd,sha256=ev7eSQm5JEFPGKZgquolytSEvlgcuoU06HYhq_KP4jM,49664
-dm/_cleanup.cp39-win_amd64.pyd,sha256=99qU1LdlKsp-B2a8jucuqkjFeMRtr3ItAzceo4r5kSo,127488
-dm/_delete_peer_route.cp39-win_amd64.pyd,sha256=I2ChplceOYPmR9Owr_LT5UvZR8p7ghOVUoC1UU6cK7g,88576
-dm/_delete_route.cp39-win_amd64.pyd,sha256=hqnyTniSxSU2DYTVH7YQAOF_TK3Iik6_SIHDFfcggSk,52224
-dm/_discovery.cp39-win_amd64.pyd,sha256=c5_OOm-btYP6giP2ut_oiiwRiWNodphrWcmqil6dfhc,137728
-dm/_mgmt_quota.cp39-win_amd64.pyd,sha256=rDNl57vbtIBYBvtqNma2LA2eGYbjrt4m5mB9L0I_UGA,69120
-dm/_switch_traffic.cp39-win_amd64.pyd,sha256=QBS0bp7gfjEl6N4cT8LBUxwuwbpe2_oFQgKwfl0YyKo,93696
-dm/_tfhelper.cp39-win_amd64.pyd,sha256=LKiL8UlfSiNRRR4OeIrYVPCeHUReBNqfqxxKgcU86MQ,142336
-dm/add_vpce_route.py,sha256=Vgvkc7_aWh7lDa1673D0NgUNNJOQ02OnEn18MBNbwIE,155
-dm/aviatrix.cp39-win_amd64.pyd,sha256=NC4gbpyH-SVmW6crId5RcuG08fypn1B-rb9jDUBQdxY,254976
-dm/aws.cp39-win_amd64.pyd,sha256=0pKabEKoHU3xtAvrO-Fc_9NXSvPp0weiA8ZiIlXEf9k,349696
-dm/cleanup.py,sha256=cgcl4BIkMR9rS2x0DQCjh-g0yRqF_usVnYlzRgUHL6I,148
-dm/cleanuplib.cp39-win_amd64.pyd,sha256=uXWn6D9TsZjv6qKbXL0bFOCQc0BtXlvW_loFUAllauM,211456
-dm/commonlib.cp39-win_amd64.pyd,sha256=f9U6jhedcKnXTz7x0sUTQNzF5HCjDAg4XG-IBuWj72U,360448
-dm/configure_iam.py,sha256=WCPPP2s62XKdBBtPt1rGaMc3IF6X_AYRnuX_uHIsGdA,3557
-dm/delete_peer_route.py,sha256=HJpR7qcOWLCDoezFTaYGedLx6Eeq0MPlOyz05BarXpY,154
-dm/delete_route.py,sha256=xrCqhKtqL6uPtAPTImFqPTgiAeUtqqO-y4FsoXQzhVo,153
-dm/discovery.py,sha256=kVtEYuEwRJxfNVKyfNg7cdj3xCkE_ACQ-vp_m8Dfzfc,146
-dm/discoverylib.cp39-win_amd64.pyd,sha256=SMKEwOks99TgQBjnbhZLrm7gfdfCyOMF82P9U39U-ZU,405504
-dm/exceptions.cp39-win_amd64.pyd,sha256=m2vDA0NcVsqmIpJORU2CWfH9yfFkQWLqeHys2vVFBTA,37376
-dm/iam_policy.cp39-win_amd64.pyd,sha256=LbTglpRz8MLGzlcl6YbYLHe_Q5cfuOrZamffE2GKwRw,116224
-dm/logconf.cp39-win_amd64.pyd,sha256=qLTrP5DQSXEWU2D_taEbpKL46XWKV_xU2dA_oOA-y_s,28160
-dm/mgmt_quota.py,sha256=4yzVlJU5nYoqPPHR5LzJ-R3gmhSRd5IwmEKiN3IsKnI,151
-dm/peeringlib.cp39-win_amd64.pyd,sha256=aAMghEF_ymPKSN8MscXV6LBcPsNmPofBzN3h_k6bvEA,194560
-dm/route.cp39-win_amd64.pyd,sha256=-75AC4MLYovCKNlCRv70_S9Crt4s3aA7eCGOT_JADqI,48128
-dm/routetable.cp39-win_amd64.pyd,sha256=l4OPwuPWmsk54w6m5qHHABnVgwk6H_ImTZRVYQW4qLE,144384
-dm/routetables.cp39-win_amd64.pyd,sha256=mQszsma_Vnj4AREfeXFWLHwAtGIuAKkJNDJakQWqUAk,74240
-dm/subnet.cp39-win_amd64.pyd,sha256=NGk931EHoH8vlXPSXjOgBiLNKVfx7uNw6yLNNAJS2S8,83456
-dm/subnets.cp39-win_amd64.pyd,sha256=Z_oJZpylofrmdZteACn-0L70z0iJzECn90bei6NWawE,55296
-dm/switch_traffic.py,sha256=YIcDgac-F3yqGoxinP4MHEhyZpj0LVG0S8hRQc9dT30,151
-dm/switchlib.cp39-win_amd64.pyd,sha256=cZOkajTrbfxpS2c6aA8_3VnoaDaslcnRvZXoWhxjNhs,177664
-dm/terraform.cp39-win_amd64.pyd,sha256=romkt7Vl-fi8JKyi_Ui130GnyEKveebWdwHsEnq1Pcs,287232
-dm/tfhelper.py,sha256=aDszWTxHoMkK02dMiCP1GlSCLDL2tslfIK0iAWEMXHM,143
+dm/_add_vpce_route.cpython-39-darwin.so,sha256=vWTxC4MEGcuCYzCjzW69o1wVpRmUNuhWGxoRHpYgbd8,99432
+dm/_cleanup.cpython-39-darwin.so,sha256=osoRTTljK_OjwKLSB5zfgL_99TauQknT7Wh-mnruYn8,214016
+dm/_delete_peer_route.cpython-39-darwin.so,sha256=QmLP5qjGVxgupixaVfbtEfhZLMyG7raWYM2O3C9TUWY,158440
+dm/_delete_route.cpython-39-darwin.so,sha256=aubmfiDpxjCuLnuu_0XP_XaZqTRLq3d2Wt7Lu1WDaIE,101008
+dm/_discovery.cpython-39-darwin.so,sha256=aZCGJDBk4sz3N64zMIAOI91RvwT2CJ9FG48yMLur4Vs,250992
+dm/_mgmt_quota.cpython-39-darwin.so,sha256=d-lmMYGGOWM8EgVGXrcXrtTbRGRhTbCWapke1GKrTUk,121056
+dm/_switch_traffic.cpython-39-darwin.so,sha256=dAvcVnMFkLwWLbDVd6g9AAeEM75GRMEL-wDU78Fpbj8,177112
+dm/_tfhelper.cpython-39-darwin.so,sha256=9r44n9cdlLzLhw7ftee644g_OO9o15ku9_8Mxfi54Ek,209648
+dm/add_vpce_route.py,sha256=xfTAENS2sWRaoqDeqD0tZY4VXOcolVEgxz-Q9wjRGgU,148
+dm/aviatrix.cpython-39-darwin.so,sha256=R1WFSYTRMI4ARiI8prhstYkok3ypPBVeGhLOCE8SfJk,317328
+dm/aws.cpython-39-darwin.so,sha256=sLKUMj9UtxUgruiIppJja3jFaS5bdRBC4vMxEGurYuU,462968
+dm/cleanup.py,sha256=aAqjy4KaTHQkF1yQtYDt8A0FEpkOa6MQZZ6WEznucEo,141
+dm/cleanuplib.cpython-39-darwin.so,sha256=_Z3QthYWNsisJiXhtIohm_7zv4FEONIfokkhbpKMxPU,283088
+dm/commonlib.cpython-39-darwin.so,sha256=JohtZLXRZRflcZyH9gHMhAjw6X1BKbiN4bAotRX7OQw,456192
+dm/configure_iam.py,sha256=5ETgqAw5xXscebALhHHVsU3sz3HoFFaQcj4FggNDXrA,3438
+dm/delete_peer_route.py,sha256=dNRs2wZAYTdyZ1bl4ILVcGZcwuAnf91qGb7cFoHQxj8,147
+dm/delete_route.py,sha256=n7S4mejySeOFVWido_mClydlUg-KcJXl2fvMlPP6jjk,146
+dm/discovery.py,sha256=8lBh7OZ7xdf569LIDGj1gDVhs0sDCKsRnKcqCLU6vYM,139
+dm/discoverylib.cpython-39-darwin.so,sha256=OX_Ob9IjD7b_QZ6ICCtZeoFh2jWNUf4AfwozFl1LWro,540768
+dm/exceptions.cpython-39-darwin.so,sha256=WcVhoGmKwbjWIfJEfqCq0BrYSvWOgEooVPXhB4jjKdw,80432
+dm/iam_policy.cpython-39-darwin.so,sha256=XFpgR1MBwq-N7vVrRCNFfft_Pexddw-fef45UjLxk1A,181088
+dm/logconf.cpython-39-darwin.so,sha256=qp7r7z-vEEPustYxbjVEHH7X8mVK3e-TQr1QVel664U,57984
+dm/mgmt_quota.py,sha256=Sh0boW3LbDrSjlxXYuxfLysiQjvXv1-dlUlnIdbDp6E,144
+dm/peeringlib.cpython-39-darwin.so,sha256=Sb8uvzc6jdYlvhNE_1yFZcw2ZF2PpepG8Oh_aom4_I0,266736
+dm/route.cpython-39-darwin.so,sha256=kPU6J37xeMLQJZVd_Wd1DhvoT1SoDyk6pfxOHNhHYks,99048
+dm/routetable.cpython-39-darwin.so,sha256=kIIhnoSu9sfPSC2lw8soEFJUdoG-bRXFTli_0QKLYI0,196656
+dm/routetables.cpython-39-darwin.so,sha256=Jhk3CzPU7UaAws6DprBVr1rwDTpIMrH7w2uoO6vpVXQ,120752
+dm/subnet.cpython-39-darwin.so,sha256=WDk6IrMFJmfvGiy6EFgpCMdA5O7hogYVh6jiMhJPDGE,137960
+dm/subnets.cpython-39-darwin.so,sha256=MaKjjK-9pBzGvVY3gJWanfcKueUgMsbd5uU4QrOOCzw,99856
+dm/switch_traffic.py,sha256=aljbGs2MZPz5ry84hYlo_k-w0F0Pb9oUJAE7kqoQfOw,144
+dm/switchlib.cpython-39-darwin.so,sha256=PTpkBjjCOszs-7cL0xAAkJH9cEGiU4_m0xRTbp-mnrE,250160
+dm/terraform.cpython-39-darwin.so,sha256=Q8Pcj5RHLbZ_3dy9SDAlHcUI6EEhyU6ZLnIn0FtbPiE,383328
+dm/tfhelper.py,sha256=VL3hJ4Zpga4_wPgC5GNneIHjbzd2gXDMhnls_50r2fk,137
 dm/arm/__init__.py,sha256=47DEQpj8HBSa-_TImW-5JCeuQeRkm5NMpJWZG3hSuFU,0
-dm/arm/_add_avtx_cidr.cp39-win_amd64.pyd,sha256=I3_aGvBpHuEeVb7uTDd9ai69exnjI98LmlveuEwFK-Q,89088
-dm/arm/_cleanup.cp39-win_amd64.pyd,sha256=c9YWFVgs8BCH9bBBMjK0aapElnZSCm0dUIPVBVP--Qs,89088
-dm/arm/_discovery.cp39-win_amd64.pyd,sha256=NW3UvLdOcd6zoT6cRrRncL6gWHjG9gKGyww9oM_bcrQ,114176
-dm/arm/_mgmt_vnet_cidr.cp39-win_amd64.pyd,sha256=Y7vvDpKlt5mtQty2RTGgtQ7Br1JiALS4f3t7d9guNHI,69632
-dm/arm/_prestage.cp39-win_amd64.pyd,sha256=uaK78y5QzqPUfdDMOuuOq-fi7lom8sv9aEOZ3sUmUCg,71680
-dm/arm/_stage.cp39-win_amd64.pyd,sha256=zAJweu6rGBTf2J8qylTQKo3BMAidVmoOmqC9cTEOgJY,76288
-dm/arm/_switch_traffic.cp39-win_amd64.pyd,sha256=WJJHZt20BobPsbuQwvQDjDGnUqNrGnz3vEjWRxsJQl4,159232
-dm/arm/_tfhelper.cp39-win_amd64.pyd,sha256=Tqs4KbQ_eN6T8RG5v7UM1Xc7wPyuTh-Y79BnrmhsMgo,122880
-dm/arm/add_avtx_cidr.py,sha256=TlI52uH4TkLAhAhl-C7gkrtIwn_-R8RO1MvKZeXAvnA,154
-dm/arm/alert.cp39-win_amd64.pyd,sha256=iKFVDPAoiJDxRwmuuygE9D3BgFA0S3jfeg3LTUCxShc,56832
-dm/arm/aviatrix.cp39-win_amd64.pyd,sha256=yn1NWvkKCDG-TgZO0qJDl2bdObn8Bx_mqjRjFurd3PU,302592
-dm/arm/cleanup.py,sha256=Uf-9miRxOTj5Z75ZAr51HapJDgL5g8xGYWFHooZ7HWY,146
-dm/arm/cleanuplib.cp39-win_amd64.pyd,sha256=HCOQo6ahtnUEK6xp5DSbiqCbaOF_TEjmZY7doSjtUXU,163328
-dm/arm/commonlib.cp39-win_amd64.pyd,sha256=V_--r2kXf4Z4O6T3QlfljmzWq9iQdi1b_S06f6eSL9I,179200
-dm/arm/discovery.py,sha256=hkJozRnluvbBMx1IZzX9nQSIAu2BNFW_0GJWzmg0_ao,148
-dm/arm/discoverylib.cp39-win_amd64.pyd,sha256=Hvmr67VG2gLqwEenL0I_k2TOYtu-uncUz5RvpopyusM,257024
-dm/arm/io.cp39-win_amd64.pyd,sha256=XPywPUZ-ZBTq7TnPnEBTaTcroVUJ6K_TVoSP6nPRNxI,131072
-dm/arm/mgmt_vnet_cidr.py,sha256=ChBBuZtRkbbj4Tz3gyfhW2KE3W19LXHBbBkDlXqF-z0,155
-dm/arm/prestage.py,sha256=Jp5PG1U0Unw-XHVxOufbxIdgfwctBU-oe8f9UlQMGmQ,147
-dm/arm/prestagelib.cp39-win_amd64.pyd,sha256=4VO1mbh47M8THHCLGHZXLDJvW0T47ffaWLqskezT8w4,72704
-dm/arm/route.cp39-win_amd64.pyd,sha256=91NgZchlwGsroY5Z6AE2GNxAal5yyomm_cWzDXdGaSY,50176
-dm/arm/routetable.cp39-win_amd64.pyd,sha256=qhIWFp6CbrtPK6nKPEnAPHz8L2RV2RU7diii5HfQXg4,123904
-dm/arm/routetables.cp39-win_amd64.pyd,sha256=ZIfIcMP2otLJzGNxHeDvifIKAaC_jWV3_hSiDpnvmEc,68608
-dm/arm/stage.py,sha256=nwO_FEIL4U2zqy9T71zxHXgQRs3NYqmsymVbw0lGN8A,146
-dm/arm/stagelib.cp39-win_amd64.pyd,sha256=DOlQHAJTIHdO1qpNXNSQLAYwuvAswMhEDOO4--27pzk,56832
-dm/arm/subnet.cp39-win_amd64.pyd,sha256=GuPWv6pKKKOIHnMdhT_jF_hRloeHm8kw3uUWs3M6Q6g,101376
-dm/arm/subnets.cp39-win_amd64.pyd,sha256=hUULEwZrrVCi3GAgLD1u0bP4sxA96-1DWmqCaYfMlT4,47616
-dm/arm/subs.cp39-win_amd64.pyd,sha256=XJ3Nzg6HlME6QC7Va7il_dBnkVytyvLD-Y0rGbFNy_w,48128
-dm/arm/switch_traffic.py,sha256=XRnJZXPnzPli4L9JnOgg56PcNhF3SRUD8Y5OdIJthSk,153
-dm/arm/switchlib.cp39-win_amd64.pyd,sha256=xNXULc2mUApez966GHonnHp_EGOqwaYxeb8Nhe2TJbk,338944
-dm/arm/terraform.cp39-win_amd64.pyd,sha256=99L4GNcAE71hxT93bRCMoqaUxxSunKkh5rC6kAWxeew,325120
-dm/arm/tfhelper.py,sha256=uda9Ih6rzPjH8ySYUB_EZ5iDl9zfHrKMBgSCwvip8Yo,147
-dm/arm/vnetmgr.cp39-win_amd64.pyd,sha256=1sHC98DnZ4L_wV8SZ5MEimtqLe0-yzLLJUWzRbFIWOM,162304
+dm/arm/_add_avtx_cidr.cpython-39-darwin.so,sha256=x0ns0cgyowKZPaAzTdXh2OIxTOruWNPfaAEkGn0qbVY,156704
+dm/arm/_cleanup.cpython-39-darwin.so,sha256=rr41o1RCy-t5Goi0vLmBs7KsGMLsI2-uKLGH8hAfdAc,158272
+dm/arm/_discovery.cpython-39-darwin.so,sha256=66qCLZL7vmfyQGE5zuuMwPnauULXMmiqACQSST6mDYQ,211984
+dm/arm/_mgmt_vnet_cidr.cpython-39-darwin.so,sha256=N4jiBEJ_oQHPHUw_udP06uM6qHygwJfpZKYevaux3oQ,121208
+dm/arm/_prestage.cpython-39-darwin.so,sha256=3Z2iILF1wifYX-3ROYkWDIhYD78vox4I8HpQeNxVuXA,138304
+dm/arm/_stage.cpython-39-darwin.so,sha256=ObKvzbjtqWds4FjAYuEW0g6gIgVRDnKFyXcSGgIJlZ8,121928
+dm/arm/_switch_traffic.cpython-39-darwin.so,sha256=uUjVZcVeQzGU0J5YeJ5wRoj26K90dS1_dWED-fizK4k,250328
+dm/arm/_tfhelper.cpython-39-darwin.so,sha256=vrCAPi0n1sO-qoGGF5jnHwOguVyGMDgu5b46-qVxaUQ,174944
+dm/arm/add_avtx_cidr.py,sha256=QfE7n5raWwXcKVS2uuPkbbvG2kjQI8lgMuFMRKfsmN8,147
+dm/arm/alert.cpython-39-darwin.so,sha256=pbIAzZzS5OOaLkiGFkHelTBNm8dwB2BfZ6PGVHVi9LA,101960
+dm/arm/aviatrix.cpython-39-darwin.so,sha256=gXZaxF7NJCRdw5hirX9o1CKcCWxWLF_ubl8y_yk2Wyc,370240
+dm/arm/cleanup.py,sha256=bj0cMkArjjDMXTDntAyKo4gb1jt59hwUN6adu6tkyfY,140
+dm/arm/cleanuplib.cpython-39-darwin.so,sha256=VXnhaht0PDOWzyq73DvE-Gk_KlEfyOItg7OWf_EVRoQ,231888
+dm/arm/commonlib.cpython-39-darwin.so,sha256=oaIJModoQJCcltdSc6tKc6c8GfRLCDM1mrXcvJ5dhUU,235360
+dm/arm/discovery.py,sha256=8x-f3-67k4fDqSk9ErX803IcJtzJaLOwm7yhong20To,142
+dm/arm/discoverylib.cpython-39-darwin.so,sha256=BQZKXxqdZcvScvoOrnAwMVw3TU-o0Gsa987tiP8JDBo,344960
+dm/arm/io.cpython-39-darwin.so,sha256=gszqIeR2w3O2FfUcq5FfPraxoyjCV8wpX6p1o-gXPMg,189752
+dm/arm/mgmt_vnet_cidr.py,sha256=-3_L_H8GBFZmH3Gk2GWTyIuoTnlR1Xc3OWFmiIXSzmE,148
+dm/arm/prestage.py,sha256=CwIa1EGkePz0kxSh59MIflhFTNHVGq31Y8zcWZ-n_PY,141
+dm/arm/prestagelib.cpython-39-darwin.so,sha256=dfO-PFgStyd6Y6B-mi3DsGUWUv9c-ZSowfvgv772VvM,120688
+dm/arm/route.cpython-39-darwin.so,sha256=YF9XOtp_ueRExauYWFoHk1haDiB1Umw8JIrFkXtw8-s,98984
+dm/arm/routetable.cpython-39-darwin.so,sha256=ifZRHJNtf6-_b2e9tZ2aI_PlNGjVxUqaooSLudOBIAM,178272
+dm/arm/routetables.cpython-39-darwin.so,sha256=m-4EXOEbFfpiNZWxH6FE8Qlvfx-fWSljZ9LV3qNjGqA,120464
+dm/arm/stage.py,sha256=cA6KN-CxiZMJEw6uoMmaVT1ogOwe8sEuwFfr_wcs-EE,139
+dm/arm/stagelib.cpython-39-darwin.so,sha256=5ghvK_qHhPIBDZzueQMdyqZsAlC_hOo1aAmYizehGmE,102864
+dm/arm/subnet.cpython-39-darwin.so,sha256=daOMlwjxwFrNhUbRhSjS5IQjCmWdvFW9sdpwQMFZIP4,161112
+dm/arm/subnets.cpython-39-darwin.so,sha256=DV_64qJKbo1sizlOHETJETfqAx-6VxydZh5iM126vU8,98464
+dm/arm/subs.cpython-39-darwin.so,sha256=Uaw4i2iL7gYCnM14UxraTVQ3xvRWduV-sT77mytZHcM,100248
+dm/arm/switch_traffic.py,sha256=0WMP_NlCca-Z-CayNPnptnvljA33S2pTpzWG3yBTj8Y,147
+dm/arm/switchlib.cpython-39-darwin.so,sha256=9cicfwitdvuQ8KTz0xB6DTUxB7DcSR5jt1xQE5GKAHs,431216
+dm/arm/terraform.cpython-39-darwin.so,sha256=awV4cWF8r58UNeeZE4Rx_gCt7OQY3P9vJ-YfGNNQt7c,438784
+dm/arm/tfhelper.py,sha256=GXiPGVMRhhR1z1EIzCfqq06nkt8hX-K2RPNUqlC3ERo,141
+dm/arm/vnetmgr.cpython-39-darwin.so,sha256=9GXdFZ17TL85qbJC8IZKEzQ80is-nE-t1JTMmjrRxys,214048
 dm/arm/core/__init__.py,sha256=47DEQpj8HBSa-_TImW-5JCeuQeRkm5NMpJWZG3hSuFU,0
-dm/arm/core/config.py,sha256=kgiPyzxWbSO0lQszBpqbEAsRW3MQU6L_wun9sz87Hek,19699
-dm/arm/imp/VnetCidrMgmtImp.cp39-win_amd64.pyd,sha256=vfxp5ZjNYRDlO0FsJqSSUad9AmQZZcRN_T1GSJkDgV4,57856
+dm/arm/core/config.py,sha256=No-GNR75ke6nB5VzuYdfiOivEWHeJgWq6ZiMdXg85So,19126
+dm/arm/imp/VnetCidrMgmtImp.cpython-39-darwin.so,sha256=eW5VI4jXFguiLKI84ooaLQ1Ed-ObW9npNK2YufA_UFc,101992
 dm/arm/imp/__init__.py,sha256=47DEQpj8HBSa-_TImW-5JCeuQeRkm5NMpJWZG3hSuFU,0
-dm/arm/inf/VnetCidrMgmtInf.cp39-win_amd64.pyd,sha256=YdAhnINOjS6UxUEiE3uQjMtKaplAsgWIhseFuXxL1dA,41984
+dm/arm/inf/VnetCidrMgmtInf.cpython-39-darwin.so,sha256=ryJt9p9ieuM1amQxlRXelaPSBKeXFpzo9BoXCu9ZiZs,81560
 dm/arm/inf/__init__.py,sha256=47DEQpj8HBSa-_TImW-5JCeuQeRkm5NMpJWZG3hSuFU,0
 dm/arm/lib/__init__.py,sha256=47DEQpj8HBSa-_TImW-5JCeuQeRkm5NMpJWZG3hSuFU,0
-dm/arm/lib/arm_utils.cp39-win_amd64.pyd,sha256=KN0z8buSbRb-gL5TSP_Il8y5nzrcXm3ygfvu4hP_wrY,282112
-dm/arm/lib/subnet_groups.cp39-win_amd64.pyd,sha256=jQWR5MiROgm6cMAlrq3y1_Yz8YdEiKI6hv4xBdo2IxY,51200
-dm/arm/lib/vnet_utils.cp39-win_amd64.pyd,sha256=6YO5vhNzkvxvLLHpl1nzPEZ8vQFGyegpL8w7sXUHa6I,290304
-dm/arm/res/Globals.cp39-win_amd64.pyd,sha256=z9jonIe32W55ZAJWcT12FwGMfVia3iLxsOJPNLHfqLY,47616
-dm/arm/res/RouteTableMgmtResponse.cp39-win_amd64.pyd,sha256=hxAytGb5F2luG8H9xKHoTtZfUwsk9M7KJC_UmWNN3EE,39936
-dm/arm/res/VWanMgmt.cp39-win_amd64.pyd,sha256=J02e0IKWRHgwdFPf8cTOPxk11_dlpOl-EnFwXDlaERc,106496
-dm/arm/res/YamlContext.cp39-win_amd64.pyd,sha256=SfPqiYcNeVIlYrvqTgv3qZjD6qsA9PInJIM0fjJ1PpU,70656
-dm/commands/CommandManager.cp39-win_amd64.pyd,sha256=B0rGpOcsBGJ_FLbhhrjBfVfXPgboOrrrOK55q1sksAY,80896
-dm/commands/NatGwMigrationCmd.cp39-win_amd64.pyd,sha256=kq_xmYfYCr9F1srdYQ_QDXYFS-gIkKYCw1vI_Omv_Lg,92672
-dm/commands/SwitchTrafficCmd.cp39-win_amd64.pyd,sha256=558mWhRt5txyT1lB0LJtk2JQm2cPQMYfnyzY878ygZ0,129536
+dm/arm/lib/arm_utils.cpython-39-darwin.so,sha256=iAvwpXtF_mxROqhUd2hEPZPU06YjjdNgmwaKIdRC37k,355808
+dm/arm/lib/subnet_groups.cpython-39-darwin.so,sha256=cxa460rgy8VdcIMZJ1KDmbc0Ca1K-oDKMblNEx4fyCY,99760
+dm/arm/lib/vnet_utils.cpython-39-darwin.so,sha256=dcjpDoXh2mF38i6hABRl2snpMBHoISXZOQEKqiM-W0w,379824
+dm/arm/res/Globals.cpython-39-darwin.so,sha256=5kUM6oX6FNh9U2Fv7gi0Xm1m4HuRoTE-GFurikaMeB0,81904
+dm/arm/res/RouteTableMgmtResponse.cpython-39-darwin.so,sha256=DwPI-Futtkz9xl4DFOiiPh7_S0r2lLPWeyvJZj1iBFA,80360
+dm/arm/res/VWanMgmt.cpython-39-darwin.so,sha256=0nC5QzR7pAKuJCwDzfdxhnC3Ie4MOEGd6Xl_Cd8vqsc,158576
+dm/arm/res/YamlContext.cpython-39-darwin.so,sha256=9cZKe6JX2fUi9s6Vbb47ln6U7lqIffvf3jNUcjPLpeA,120640
+dm/commands/CommandManager.cpython-39-darwin.so,sha256=JZPzqSjwVjDf-Xon4r-U35IhQb1up70qeYZOr3vCeL4,137584
+dm/commands/NatGwMigrationCmd.cpython-39-darwin.so,sha256=D7RWc2eFX9cyzNqe8nXLfaY92j7o7HMUyVKUAiTAynU,139384
+dm/commands/SwitchTrafficCmd.cpython-39-darwin.so,sha256=rBJigW_djH0aLqbKan4BTOFS-JrMdfCTp8Hf0hnnIdw,211752
 dm/commands/__init__.py,sha256=47DEQpj8HBSa-_TImW-5JCeuQeRkm5NMpJWZG3hSuFU,0
-dm/commands/history.cp39-win_amd64.pyd,sha256=X_gKQqoDk-AF5Bc37nGiFlB_77QeSzuhtK6VB4c27FY,118784
-dm/core/AppExitStatus.cp39-win_amd64.pyd,sha256=5eLECJMiOipkv1sqzcYFjXAu1etxy8cOYzIG05RUbwQ,40960
-dm/core/AvtxCidrValidator.cp39-win_amd64.pyd,sha256=Ov6xwzWsRe01pEf6-gF_gus_Wql5G3BdCR8x3CbqULo,68608
-dm/core/ErrorStatusHandler.cp39-win_amd64.pyd,sha256=amqBl2nT3WNdCqTZwz2EManRlbygCEX6j-OSqB3TJkw,42496
-dm/core/YamlContext.cp39-win_amd64.pyd,sha256=zaFIkT6z6vfMEjh8gu99FIYSFBgikUgzroBmfnmlCPE,57856
+dm/commands/history.cpython-39-darwin.so,sha256=0RFOSGtIcvtcHTNXPyn03-bL2CUjdf-dMFr70NrUcFc,180672
+dm/core/AppExitStatus.cpython-39-darwin.so,sha256=wc-ekX33iNjW9VnEY97zcnhT4-M4hTGgJRBIOkaRWFs,81344
+dm/core/AvtxCidrValidator.cpython-39-darwin.so,sha256=SDcFciM5y9WtSyuQ0NeyUqDDS505S_8QjBskaRLJCBY,119304
+dm/core/ErrorStatusHandler.cpython-39-darwin.so,sha256=m58xIEryQJs3qy4L3nS2WNDaXIfh_Uysf6rMEI4hI-4,81976
+dm/core/YamlContext.cpython-39-darwin.so,sha256=BjjsE2jbC7wibZGBmpm-_8ZuHQEBV2-gaNvIETy9O3s,101808
 dm/core/__init__.py,sha256=47DEQpj8HBSa-_TImW-5JCeuQeRkm5NMpJWZG3hSuFU,0
-dm/core/config.py,sha256=EegoZ5ewDu8PMfklJrTlnQ490u1XHXujhyy_zZABEm0,38776
+dm/core/config.py,sha256=n45ZTEf4spLGbZJ6J8rVSwCBQ39je3CBhmQkoR-hYB8,37792
 dm/natgw_migration/__init__.py,sha256=47DEQpj8HBSa-_TImW-5JCeuQeRkm5NMpJWZG3hSuFU,0
-dm/natgw_migration/discover_natgw.cp39-win_amd64.pyd,sha256=9w5IW1yh2c63zbmFsAyul7K57M7czEpcdXcDlt7ve0w,124928
-dm/natgw_migration/migrate_natgw.cp39-win_amd64.pyd,sha256=5bIx0Xk4h7PUMDv3L80ztt_tgzvd7M9FGS6QLeZFWM0,131584
-dm/res/AviatrixProviderVersion.cp39-win_amd64.pyd,sha256=2zHzBchw68c0y2Ezasl7saKQxDDTRnk83sGok5ngeyg,48640
-dm/res/Globals.cp39-win_amd64.pyd,sha256=ziTC8efXXM0Iy6fLVUpFOec6Omylb25pj2F9fFGorGk,52224
-dm/res/Igw.cp39-win_amd64.pyd,sha256=L1YWHorZguAdpyiPSmvHK-S2JPPLCPQ6rgaMuEuNWoI,46080
-dm/res/NatPolicy.cp39-win_amd64.pyd,sha256=QNoWC85M9D26gwYOIJ1GlMWpI4AIP6fqO0vGgQ4MQRs,41984
-dm/res/PeeringVpcInfo.cp39-win_amd64.pyd,sha256=XsRELwqoQbUXzlCM5fYahyuug2nyXplc6A7kX4za1Og,52736
-dm/res/RouteTableAzGroup.cp39-win_amd64.pyd,sha256=v65CqEMuae2SGY5HLrSV14eIVRajU6mDtoe449wTIrk,77312
-dm/res/SpokeInfo.cp39-win_amd64.pyd,sha256=n9bvbQyJMpFu4lNB4EczvU892sMXs9N5CKpoyOkAV7k,43008
-dm/res/SubnetAzInfo.cp39-win_amd64.pyd,sha256=a8cm7Wsc2WGnlWEXGFrK1kGKGWKEZLLrFLN2cBo7_oU,36352
-dm/res/VpcCidrInfo.cp39-win_amd64.pyd,sha256=BsEC5xOB4dkfc-1BMb35msT4B2u-Yu7xa0KvaokmZP4,43520
-dm/res/YamlNatPolicy.cp39-win_amd64.pyd,sha256=WiatweHoz21SS_IMrWlAvOwBnpazZ1WGskK2u_9nCUQ,51712
+dm/natgw_migration/discover_natgw.cpython-39-darwin.so,sha256=4oQpY6d2d6OeQyjQYi3DuiVetfxDwOMMUpimzUUdCEE,179072
+dm/natgw_migration/migrate_natgw.cpython-39-darwin.so,sha256=N3Usj5yJoUM2LVP_qREhG520N8ovUbW1krkraG4XUgk,194048
+dm/res/AviatrixProviderVersion.cpython-39-darwin.so,sha256=-VpONmiZ13MIIMRc_RlZs8jY6Vrkf-6NQLWh1BNE1g4,99280
+dm/res/Globals.cpython-39-darwin.so,sha256=-dXca1Bxn3qO6ks0QlLnAcTqfECEzAP8NcSBiZQ-c0s,99856
+dm/res/Igw.cpython-39-darwin.so,sha256=04g4tM57D3chllAd-BlaIvCGiPO_7BR_LwTBw4LrD9A,83240
+dm/res/NatPolicy.cpython-39-darwin.so,sha256=0YSjH3ERVmPfERFBKXoyvbt-7TO4EQZKktybUxw4w40,80672
+dm/res/PeeringVpcInfo.cpython-39-darwin.so,sha256=G6tm8-V9KtCEaiF-llDKpxQ9X7E-XbPefAHCrrrxH48,98976
+dm/res/RouteTableAzGroup.cpython-39-darwin.so,sha256=G8ytEka3ufHAtAMw_L1IZsi1aI0U745HcDN4nwaZrp0,122264
+dm/res/SpokeInfo.cpython-39-darwin.so,sha256=G2TxxBmLCfa47fvJ75b946Zx2fHpdcO08cKxO568jTQ,81712
+dm/res/SubnetAzInfo.cpython-39-darwin.so,sha256=pjz8NlRMzau_z8XjaJ5RAi7tZ_ZcdJTilCSllbx-bqI,79296
+dm/res/VpcCidrInfo.cpython-39-darwin.so,sha256=jXPXFPX3Zq5udnELqJWFLpmxhQE8l9ka2T8_3zyl13M,81088
+dm/res/YamlNatPolicy.cpython-39-darwin.so,sha256=hJQl3LJiHv_sopWxagQIOBfeQgxHZB0gTyeRCAR4tNA,101360
 dm/res/__init__.py,sha256=47DEQpj8HBSa-_TImW-5JCeuQeRkm5NMpJWZG3hSuFU,0
-dm/res/tgw.cp39-win_amd64.pyd,sha256=mHsmLREU1NuDgkJ_Q-oo_OSivNsVs1VzcnPhb8SlaVc,47104
-aviatrix_migration-0.2.94.dist-info/METADATA,sha256=Tt0oYtToQmqIRNFZQr2B9696XerAUJ1aC6oJog-wvd4,7280
-aviatrix_migration-0.2.94.dist-info/WHEEL,sha256=Z6c-bE0pUM47a70GvqO_SvH_XXU0lm62gEAKtoNJ08A,100
-aviatrix_migration-0.2.94.dist-info/entry_points.txt,sha256=7elMhjCYpGCKms_Iuuge0-nFYEGtzH57mkDVPNp9C5E,361
-aviatrix_migration-0.2.94.dist-info/top_level.txt,sha256=NOeczqFXbLAHsmsUQQNj4kMR_0MwfBKzT7hMKBPDJNI,3
-aviatrix_migration-0.2.94.dist-info/RECORD,,
+dm/res/tgw.cpython-39-darwin.so,sha256=bN9wfMtINNsSIoJ1ceIbRC4HVDdY6AldPxWyN_nI9ZQ,99272
+aviatrix_migration-0.2.95.dist-info/METADATA,sha256=3LFLKfKalSG5N1m5Cj8mTDCqWewSdkKXwD8cSmDBfNk,7124
+aviatrix_migration-0.2.95.dist-info/WHEEL,sha256=t3aNIuHimB-eyeerOmc50nLML0b4_R6yjydcdcJkGHg,108
+aviatrix_migration-0.2.95.dist-info/entry_points.txt,sha256=7elMhjCYpGCKms_Iuuge0-nFYEGtzH57mkDVPNp9C5E,361
+aviatrix_migration-0.2.95.dist-info/top_level.txt,sha256=NOeczqFXbLAHsmsUQQNj4kMR_0MwfBKzT7hMKBPDJNI,3
+aviatrix_migration-0.2.95.dist-info/RECORD,,
```

